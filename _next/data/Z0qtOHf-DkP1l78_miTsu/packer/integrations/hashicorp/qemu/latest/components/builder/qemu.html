<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>QEMU Builder | Integrations | Packer | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Explore Packer product documentation, tutorials, and examples."/><meta name="twitter:description" content="Explore Packer product documentation, tutorials, and examples."/><meta property="og:site_name" content="QEMU Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:title" content="QEMU Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/packer/integrations/hashicorp/qemu/latest/components/builder/qemu"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Packer","item":"https://developer.hashicorp.com/packer"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/packer/integrations"},{"@type":"ListItem","position":4,"name":"QEMU","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/qemu"},{"@type":"ListItem","position":5,"name":"v1.1.0","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/qemu/v1.1.0"},{"@type":"ListItem","position":6,"name":"QEMU","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/qemu/latest/components/builder/qemu"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/0a3ef9c875075792.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0a3ef9c875075792.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3ad6c3802e156a79.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3ad6c3802e156a79.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686568afb8217cc6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686568afb8217cc6.css" data-n-p=""/><link rel="preload" href="/_next/static/css/eb7499f4942666a6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eb7499f4942666a6.css" data-n-p=""/><link rel="preload" href="/_next/static/css/f1847941b1d3db61.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f1847941b1d3db61.css" data-n-p=""/><link rel="preload" href="/_next/static/css/c4367c2f8a8aadc4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c4367c2f8a8aadc4.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-106a414ea0458477.js" defer=""></script><script src="/_next/static/chunks/framework-56eb74ff06128874.js" defer=""></script><script src="/_next/static/chunks/main-0785f91db64576b8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f12faad372f07f6f.js" defer=""></script><script src="/_next/static/chunks/4819-bab3fb94ee0c378b.js" defer=""></script><script src="/_next/static/chunks/3713-0a83bd3cd768e186.js" defer=""></script><script src="/_next/static/chunks/1965-de91f49a7b70adcb.js" defer=""></script><script src="/_next/static/chunks/1306-699e21fe04afb846.js" defer=""></script><script src="/_next/static/chunks/563-ec2e839822df3139.js" defer=""></script><script src="/_next/static/chunks/3652-ce43471e7283c3ba.js" defer=""></script><script src="/_next/static/chunks/4762-e57bd9d3b7453da8.js" defer=""></script><script src="/_next/static/chunks/9325-9027f7f3bd62792d.js" defer=""></script><script src="/_next/static/chunks/2291-52f1771184c676af.js" defer=""></script><script src="/_next/static/chunks/1825-93559152dbf033f6.js" defer=""></script><script src="/_next/static/chunks/2460-e1e3286f1330a793.js" defer=""></script><script src="/_next/static/chunks/6075-eff04cc051a0a6a9.js" defer=""></script><script src="/_next/static/chunks/3367-62761ef699b6ef58.js" defer=""></script><script src="/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D/%5BintegrationVersion%5D/components/%5BcomponentType%5D/%5BcomponentSlug%5D-bb0178fe066e239b.js" defer=""></script><script src="/_next/static/Z0qtOHf-DkP1l78_miTsu/_buildManifest.js" defer=""></script><script src="/_next/static/Z0qtOHf-DkP1l78_miTsu/_ssgManifest.js" defer=""></script></head><body><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://artemis.hashicorp.com/script/"+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics._cdn="https://artemis.hashicorp.com";analytics.SNIPPET_VERSION="4.1.0";}}();</script><div id="__next"><div class="style_root__dZhZu"><a href="https://hashicorp.com/conferences/hashidays" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">HashiDays<!-- --> </span><span class="style_text__rwS0u g-type-body-small">One conference. Three cities.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Find a city near you</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_one-conference.-three-cities.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN product-page-content_productsDropdownPane__bcdWz" id="navigation-header-menu-react-aria-1" style="display:none"><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M7.846 2.574a.25.25 0 01.308 0l5.25 4.12a.25.25 0 01.096.196v7.36a.75.75 0 001.5 0V6.89a1.75 1.75 0 00-.67-1.377L9.08 1.394a1.75 1.75 0 00-2.16 0l-5.25 4.12A1.75 1.75 0 001 6.89v7.36a.75.75 0 001.5 0V6.89a.25.25 0 01.096-.196l5.25-4.12z"></path><path d="M6.5 14.25V10.5h3v3.75a.75.75 0 001.5 0v-4C11 9.56 10.44 9 9.75 9h-3.5C5.56 9 5 9.56 5 10.25v4a.75.75 0 001.5 0z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Developer</span></div></div></a></li></ul><hr class="dropdown-menu_itemGroupDivider__X38aR"/><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/hcp"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Cloud Platform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/terraform"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-terraform-brand)"><path d="M1 0v5.05l4.349 2.527V2.526L1 0zM10.175 5.344l-4.35-2.525v5.05l4.35 2.527V5.344zM10.651 10.396V5.344L15 2.819v5.05l-4.349 2.527zM10.174 16l-4.349-2.526v-5.05l4.349 2.525V16z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Terraform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/packer"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Packer</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/consul"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Consul</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/vault"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vault</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/boundary"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-boundary-brand)"><path d="M4.81 15v-1.085h2.25v-.67H5.968v-1.093h5.149L8.726 8l2.392-4.154H5.84v5.76H3V1h9.775l1.631 2.832L12.006 8l2.448 4.252L12.872 15H4.81z"></path><path d="M5.248 12.152h-1.09v1.092h1.09v-1.092zM3 13.907h1.09v1.092H3v-1.092z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Boundary</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/nomad"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Nomad</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/waypoint"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-waypoint-brand)"><path d="M4 5.312h1.334L10 13.4l3.334-5.777L10.666 3H8l2.666 4.623L10 8.778 6.667 3H0l6 10.4 1.333-2.31L4 5.311zM14.002 6.463L16 3h-3.996l1.998 3.463z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Waypoint</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" href="/vagrant"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="#1868F2"><path d="M1 1.559h4.667v3.4l4.666 9.482H5.667L1 4.959v-3.4zM10.333 4.96V1.559H15v3.4l-4.269 8.672-2.335-4.74 1.937-3.931z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vagrant</span></div></div></a></li></ul></div></div></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Packer home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/packer"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Packer</span></div></a><nav class="nav-bar-list-container_nav__C_i0_"><ul class="nav-bar-list-container_ul___04HI"><li><a aria-label="Packer Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Packer Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Packer Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Packer Guides" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/guides"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Guides</span></a></li><li><a aria-label="Packer Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Packer Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-18" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-18">(opens in new tab)</span></li></ul></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-19-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-19-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-21">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-wide__TwGq8"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/packer/integrations"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Packer Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label"></h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-packer__I5KHY" href="/packer/integrations/hashicorp/qemu"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">QEMU</span></a></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Builders</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">QEMU</span></a></li></ul></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-26" target="_blank" href="https://discuss.hashicorp.com/c/packer/23"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-26">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-27" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-27">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-28" target="_blank" href="https://github.com/hashicorp/packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-28">(opens in new tab)</span></li></ul></nav></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer">Packer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations">Integrations</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu">QEMU</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/v1.1.0">v1.1.0</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">QEMU</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="hds-surface-base card_root__RyqjV content-header-card_contentHeaderCard__SDMMP style_header__b3NdM"><div class="content-header-card_cardTop__GTpii"><span class="icon-tile_root__ShC0s icon-tile_size-large__NxGIv icon-tile_color-packer__LRaQF content-header-card_icon__A1Xna"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><div class="content-header-card_content__XPCtf"><div class="content-header-card_upper__PQsUG"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-desktop g-hide-on-tablet"><button aria-controls="disclosure-react-aria-34-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.1.0 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-34-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/v1.0.10/components/builder/qemu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.0.10</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/v1.0.9/components/builder/qemu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.0.9</span></a></li></ul></div></div><div class="content-header-card_left__FSNcW"><div class="content-header-card_titleWrap__IAC6o"><span class="content-header-card_title__HGHfo hds-typography-display-300 from global, hds-font-weight-bold">QEMU</span><p class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__yKU4q">@hashicorp</p></div><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_description__M_DkB">The Qemu Packer Plugin comes with a single builder able to create KVM virtual machine images.</p></div><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-mobile"><button aria-controls="disclosure-react-aria-37-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.1.0 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-37-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/v1.0.10/components/builder/qemu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.0.10</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/v1.0.9/components/builder/qemu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.0.9</span></a></li></ul></div></div></div><div class="content-header-card_lower__ut_Dv"><ul class="badge-list_badgeList__l_z6s content-header-card_badgeList__I_FGK"><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Official</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg><span>Official</span></span></span></li></ul><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_note__QTtmc">Updated last year</p></div></div></div><div class="content-header-card_cardBottom__ndKDE"><ul class="content-header-card_linksList__vaxQ3"><li class="content-header-card_link___8sUH"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_secondary__H0E0A" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-40" target="_blank" href="https://github.com/hashicorp/packer-plugin-qemu/tree/main/docs"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-40">(opens in new tab)</span></li></ul></div></div><h1>QEMU</h1><div class="style_integrationComponentView__dxO7C"><div class="style_mdxWrapper__6wQJC"><div class="dev-dot-content_root__UJDct hds-typography-body-300"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Type: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu</code>
Artifact BuilderId: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">transcend.qemu</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Qemu Packer builder is able to create <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://www.linux-kvm.org">KVM</a> virtual
machine images.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The builder builds a virtual machine by creating a new virtual machine from
scratch, booting it, installing an OS, rebooting the machine with the boot media
as the virtual hard drive, provisioning software within the OS, then shutting it
down. The result of the Qemu builder is a directory containing the image file
necessary to run the virtual machine on KVM.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-basic-example"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Basic Example permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#basic-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Basic Example</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here is a basic example. This example is functional so long as you fixup paths
to files, URLS for ISOs and checksums.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>HCL2</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ruhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">source</span><span style="color:var(--hds-code-block-color-constant)"> &quot;qemu&quot;</span><span style="color:var(--hds-code-block-color-constant)"> &quot;example&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  iso_url           </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  iso_checksum      </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;md5:af4a1640c0c6f348c6c41f1ea9e192a2&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  output_directory  </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;output_centos_tdhtest&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  shutdown_command  </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;echo &#x27;packer&#x27; | sudo -S shutdown -P now&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  disk_size         </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;5000M&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  format            </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;qcow2&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  accelerator       </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;kvm&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  http_directory    </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;path/to/httpdir&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ssh_username      </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;root&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ssh_password      </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;s0m3password&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ssh_timeout       </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;20m&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  vm_name           </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;tdhtest&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  net_device        </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  disk_interface    </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  boot_wait         </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;10s&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  boot_command      </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;&lt;tab&gt; text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg&lt;enter&gt;&lt;wait&gt;&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">build</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  sources </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;source.qemu.example&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ruhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reguhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>JSON</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R16hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;builders&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;qemu&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;md5:af4a1640c0c6f348c6c41f1ea9e192a2&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;output_directory&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;output_centos_tdhtest&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;shutdown_command&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;echo &#x27;packer&#x27; | sudo -S shutdown -P now&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;disk_size&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;5000M&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;format&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;qcow2&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;accelerator&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;kvm&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;http_directory&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;path/to/httpdir&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;ssh_username&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;root&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;ssh_password&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;s0m3password&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;ssh_timeout&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;20m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;vm_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;tdhtest&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;net_device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;disk_interface&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;boot_wait&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;10s&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;boot_command&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">        &quot;&lt;tab&gt; text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg&lt;enter&gt;&lt;wait&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R16hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reh6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This is an example only, and will time out waiting for SSH because we have not
provided a kickstart file. You must add a valid kickstart file to the
&quot;http_directory&quot; and then provide the file in the &quot;boot_command&quot; in order for
this build to run. We recommend you check out the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/community-tools#templates">Community Templates</a>
for a practical usage example.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note that you will need to set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;headless&quot;: true</code> if you are running Packer
on a Linux server without X11; or if you are connected via SSH to a remote
Linux server and have not enabled X11 forwarding (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh -X</code>).</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-qemu-specific-configuration-reference"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Qemu Specific Configuration Reference permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#qemu-specific-configuration-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Qemu Specific Configuration Reference</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are many configuration options available for the builder. In addition to
the items listed here, you will want to look at the general configuration
references for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#iso-configuration">ISO</a>,
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#http-directory-configuration">HTTP</a>,
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#floppy-configuration">Floppy</a>,
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#boot-configuration">Boot</a>,
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#shutdown-configuration">Shutdown</a>,
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#communicator-configuration">Communicator</a>
configuration references, which are
necessary for this build to succeed and can be found further down the page.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_skip_cache</code> (bool) - Use iso from provided url. Qemu must support
curl block device. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accelerator</code> (string) - The accelerator type to use when running the VM.
This may be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">none</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kvm</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tcg</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hax</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hvf</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">whpx</code>, or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xen</code>. The appropriate
software must have already been installed on your build machine to use the
accelerator you specified. When no accelerator is specified, Packer will try
to use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kvm</code> if it is available but will default to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tcg</code> otherwise.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hax</code> accelerator has issues attaching CDROM ISOs. This is an
upstream issue which can be tracked
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/intel/haxm/issues/20">here</a>.</p></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hvf</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">whpx</code> accelerator are new and experimental as of
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://wiki.qemu.org/ChangeLog/2.12#Host_support">QEMU 2.12.0</a>.
You may encounter issues unrelated to Packer when using these.  You may need to
add <!-- -->[ &quot;-global&quot;, &quot;virtio-pci.disable-modern=on&quot; ]<!-- --> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemuargs</code> depending on the
guest operating system.</p></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">HAXM is discontinued, and as of Qemu 8.0, the option is deprecated,
please consider using another accelerator.</p></div><div class="alert alert-info g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As an alternative to setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accelerator</code>, you can set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">machine</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accel</code> args
directly using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemuargs</code>. For example, to try potential accelerators in order, you could
use the following:</p></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R611uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">qemuargs </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;-machine&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;type=q35,accel=hvf:kvm:whpx:tcg&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R611uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7e11uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_additional_size</code> ([]string) - Additional disks to create. Uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vm_name</code> as the disk name template and
appends <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-#</code> where <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">#</code> is the position in the array. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">#</code> starts at 1 since 0
is the default disk. Each string represents the disk image size in bytes.
Optional suffixes &#x27;k&#x27; or &#x27;K&#x27; (kilobyte, 1024), &#x27;M&#x27; (megabyte, 1024k), &#x27;G&#x27;
(gigabyte, 1024M), &#x27;T&#x27; (terabyte, 1024G), &#x27;P&#x27; (petabyte, 1024T) and &#x27;E&#x27;
(exabyte, 1024P)  are supported. &#x27;b&#x27; is ignored. Per qemu-img documentation.
Each additional disk uses the same disk parameters as the default disk.
Unset by default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">firmware</code> (string) - The firmware file to be used by QEMU.
If unset, QEMU will load its default firmware.
Also see the QEMU documentation.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: when booting in UEFI mode, please use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_</code> (see
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#efi-boot-configuration">EFI Boot Configuration</a>) options to
setup the firmware.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_pflash</code> (bool) - If a firmware file option was provided, this option can be
used to change how qemu will get it.
If false (the default), then the firmware is provided through
the -bios option, but if true, a pflash drive will be used
instead.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: when booting in UEFI mode, please use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_</code> (see
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#efi-boot-configuration">EFI Boot Configuration</a>) options to
setup the firmware.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_interface</code> (string) - The interface to use for the disk. Allowed values include any of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ide</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sata</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scsi</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-scsi</code>^<!-- -->*<!-- -->. Note also that any boot
commands or kickstart type scripts must have proper adjustments for
resulting device names. The Qemu builder uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio</code> by default.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">^<!-- -->*<!-- --> Please be aware that use of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scsi</code> disk interface has been
disabled by Red Hat due to a bug described
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://bugzilla.redhat.com/show_bug.cgi?id=1019220">here</a>. If you are
running Qemu on RHEL or a RHEL variant such as CentOS, you <em>must</em> choose
one of the other listed interfaces. Using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scsi</code> interface under
these circumstances will cause the build to fail.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_size</code> (string) - The size in bytes of the hard disk of the VM. Suffix with the first
letter of common byte types. Use &quot;k&quot; or &quot;K&quot; for kilobytes, &quot;M&quot; for
megabytes, G for gigabytes, and T for terabytes. If no value is provided
for disk_size, Packer uses a default of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">40960M</code> (40 GB). If a disk_size
number is provided with no units, Packer will default to Megabytes.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_resize_disk</code> (bool) - Packer resizes the QCOW2 image using
qemu-img resize.  Set this option to true to disable resizing.
Defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_cache</code> (string) - The cache mode to use for disk. Allowed values include any of
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">writethrough</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">writeback</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">none</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unsafe</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">directsync</code>. By
default, this is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">writeback</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_discard</code> (string) - The discard mode to use for disk. Allowed values
include any of unmap or ignore. By default, this is set to ignore.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_detect_zeroes</code> (string) - The detect-zeroes mode to use for disk.
Allowed values include any of unmap, on or off. Defaults to off.
When the value is &quot;off&quot; we don&#x27;t set the flag in the qemu command, so that
Packer still works with old versions of QEMU that don&#x27;t have this option.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_compaction</code> (bool) - Packer compacts the QCOW2 image using
qemu-img convert.  Set this option to true to disable compacting.
Defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_compression</code> (bool) - Apply compression to the QCOW2 disk file
using qemu-img convert. Defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">format</code> (string) - Either <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qcow2</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raw</code>, this specifies the output format of the virtual
machine image. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qcow2</code>. Due to a long-standing bug with
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img convert</code> on OSX, sometimes the qemu-img convert call will
create a corrupted image. If this is an issue for you, make sure that the
the output format matches the input file&#x27;s format, and Packer will
perform a simple copy operation instead. See
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://bugs.launchpad.net/qemu/+bug/1776920">https://bugs.launchpad.net/qemu/+bug/1776920</a> for more details.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">headless</code> (bool) - Packer defaults to building QEMU virtual machines by
launching a GUI that shows the console of the machine being built. When this
value is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the machine will start without a console.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can still see the console if you make a note of the VNC display
number chosen, and then connect using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vncviewer -Shared &lt;host&gt;:&lt;display&gt;</code></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_image</code> (bool) - Packer defaults to building from an ISO file, this parameter controls
whether the ISO URL supplied is actually a bootable QEMU image. When
this value is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the machine will either clone the source or
use it as a backing file (if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_backing_file</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>); then, it
will resize the image according to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disk_size</code> and boot it.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_backing_file</code> (bool) - Only applicable when disk_image is true
and format is qcow2, set this option to true to create a new QCOW2
file that uses the file located at iso_url as a backing file. The new file
will only contain blocks that have changed compared to the backing file, so
enabling this option can significantly reduce disk usage. If true, Packer
will force the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_compaction</code> also to be true as well to skip disk
conversion which would render the backing file feature useless.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">machine_type</code> (string) - The type of machine emulation to use. Run your qemu binary with the
flags <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-machine help</code> to list available types for your system. This
defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pc</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: when booting a UEFI machine with Secure Boot enabled, this has
to be a q35 derivative.
If the machine is not a q35 derivative, nothing will boot (not even
an EFI shell).</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code> (int) - The amount of memory to use when building the VM
in megabytes. This defaults to 512 megabytes.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">net_device</code> (string) - The driver to use for the network interface. Allowed values <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ne2k_pci</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82551</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82557b</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82559er</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rtl8139</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">e1000</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pcnet</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-net</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-net-pci</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">usb-net</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82559a</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82559b</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82559c</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82550</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82562</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82557a</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82557c</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82801</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vmxnet3</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82558a</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">i82558b</code>. The Qemu builder uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-net</code> by
default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">net_bridge</code> (string) - Connects the network to this bridge instead of using the user mode
networking.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NB</strong> This bridge must already exist. You can use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virbr0</code> bridge
as created by vagrant-libvirt.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NB</strong> This will automatically enable the QMP socket (see QMPEnable).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NB</strong> This only works in Linux based OSes.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">output_directory</code> (string) - This is the path to the directory where the
resulting virtual machine will be created. This may be relative or absolute.
If relative, the path is relative to the working directory when packer
is executed. This directory must not exist or be empty prior to running
the builder. By default this is output-BUILDNAME where &quot;BUILDNAME&quot; is the
name of the build.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemuargs</code> (<!-- -->[][]<!-- -->string) - Allows complete control over the qemu command line (though not qemu-img).
Each array of strings makes up a command line switch
that overrides matching default switch/value pairs. Any value specified
as an empty string is ignored. All values after the switch are
concatenated with no separator.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> The qemu command line allows extreme flexibility, so
beware of conflicting arguments causing failures of your run.
For instance adding a &quot;--drive&quot; or &quot;--device&quot; override will mean that
none of the default configuration Packer sets will be used. To see the
defaults that Packer sets, look in your packer.log
file (set PACKER_LOG=1 to get verbose logging) and search for the
qemu-system-x86 command. The arguments are all printed for review, and
you can use those arguments along with the template engines allowed
by qemu-args to set up a working configuration that includes both the
Packer defaults and your extra arguments.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Another pitfall could be setting arguments like --no-acpi, which could
break the ability to send power signal type commands
(e.g., shutdown -P now) to the virtual machine, thus preventing proper
shutdown.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following shows a sample usage:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R6bhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  qemuargs </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;1024M&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;--no-acpi&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;-netdev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;user,id=mynet0,&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;hostfwd=hostip:hostport-guestip:guestport&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=mynet0&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R6bhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rt6bhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R8bhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;qemuargs&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;1024M&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;--no-acpi&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;-netdev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;user,id=mynet0,&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;hostfwd=hostip:hostport-guestip:guestport&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=mynet0&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R8bhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rt8bhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">would produce the following (not including other defaults supplied by
the builder and not otherwise conflicting with the qemuargs):</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rabhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span>qemu-system-x86 -m 1024m --no-acpi -netdev</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span>user,id=mynet0,hostfwd=hostip:hostport-guestip:guestport -device</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span>virtio-net,netdev=mynet0&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rabhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtabhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Windows Users:</strong> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://qemu.weilnetz.de/">QEMU for Windows</a>
builds are available though an environmental variable does need to be
set for QEMU for Windows to redirect stdout to the console instead of
stdout.txt.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following shows the environment variable that needs to be set for
Windows QEMU support:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rdbhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span>setx SDL_STDIO_REDIRECT=0</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rdbhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtdbhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can also use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SSHHostPort</code> template variable to produce a packer
template that can be invoked by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">make</code> in parallel:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rgbhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  qemuargs </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-netdev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=forward,id=net0&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rgbhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtgbhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ribhuhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;qemuargs&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-netdev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [ </span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=forward,id=net0&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ribhuhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtibhuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">make -j 3 my-awesome-packer-templates</code> spawns 3 packer processes, each
of which will bind to their own SSH port as determined by each process.
This will also work with WinRM, just change the port forward in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemuargs</code> to map to WinRM&#x27;s default port of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5985</code> or whatever value
you have the service set to listen on.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This is a template engine and allows access to the following variables:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .HTTPIP }}</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .HTTPPort }}</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .HTTPDir }}</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .OutputDir }}</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .Name }}</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .SSHHostPort }}</code></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu_img_args</code> (QemuImgArgs) - A map of custom arguments to pass to qemu-img commands, where the key
is the subcommand, and the values are lists of strings for each flag.
Example:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3c1uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">qemu_img_args</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)"> convert </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;-o&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;preallocation=full&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)"> resize  </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;-foo&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;bar&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3c1uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7bc1uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5c1uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)"> &quot;qemu_img_args&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">   &quot;convert&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;-o&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;preallocation=full&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;resize&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;-foo&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;bar&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5c1uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dc1uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Please note
that unlike qemuargs, these commands are not split into switch-value
sub-arrays, because the basic elements in qemu-img calls are  unlikely
to need an actual override.
The arguments will be constructed as follows:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Convert:
Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img convert -O $format $sourcepath $targetpath</code>. Adding
arguments <!-- -->[&quot;-foo&quot;, &quot;bar&quot;]<!-- --> to qemu_img_args.convert will change this to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img convert -foo bar -O $format $sourcepath $targetpath</code></li><li class="mdx-lists_listItem__nkqhg">Create:
Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">create -f $format $targetpath $size</code>. Adding arguments
<!-- -->[&quot;-foo&quot;, &quot;bar&quot;]<!-- --> to qemu_img_args.create will change this to
&quot;create -f qcow2 -foo bar target.qcow2 1234M&quot;</li><li class="mdx-lists_listItem__nkqhg">Resize:
Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img resize -f $format $sourcepath $size</code>. Adding
arguments <!-- -->[&quot;-foo&quot;, &quot;bar&quot;]<!-- --> to qemu_img_args.resize will change this to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img resize -f $format -foo bar $sourcepath $size</code></li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu_binary</code> (string) - The name of the Qemu binary to look for. This
defaults to qemu-system-x86_64, but may need to be changed for
some platforms. For example qemu-kvm, or qemu-system-i386 may be a
better choice for some systems.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qmp_enable</code> (bool) - Enable QMP socket. Location is specified by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qmp_socket_path</code>. Defaults
to false.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qmp_socket_path</code> (string) - QMP Socket Path when <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qmp_enable</code> is true. Defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">output_directory</code>/<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vm_name</code>.monitor.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_default_display</code> (bool) - If true, do not pass a -display option
to qemu, allowing it to choose the default. This may be needed when running
under macOS, and getting errors about sdl not being available.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vga</code> (string) - The type of VGA card to emulate. If undefined, this will not be included
in the command-line, and the default qemu value for the emulated machine
will be picked.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">display</code> (string) - What QEMU -display option to use. Defaults to gtk, use none to not pass the
-display option allowing QEMU to choose the default. This may be needed when
running under macOS, and getting errors about sdl not being available.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vnc_bind_address</code> (string) - The IP address that should be
binded to for VNC. By default packer will use 127.0.0.1 for this. If you
wish to bind to all interfaces use 0.0.0.0.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vnc_use_password</code> (bool) - Whether or not to set a password on the VNC server. This option
automatically enables the QMP socket. See <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qmp_socket_path</code>. Defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vnc_port_min</code> (int) - The minimum and maximum port
to use for VNC access to the virtual machine. The builder uses VNC to type
the initial boot_command. Because Packer generally runs in parallel,
Packer uses a randomly chosen port in this range that appears available. By
default this is 5900 to 6000. The minimum and maximum ports are inclusive.
The minimum port cannot be set below 5900 due to a quirk in how QEMU parses
vnc display address.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vnc_port_max</code> (int) - VNC Port Max</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vm_name</code> (string) - This is the name of the image (QCOW2 or IMG) file for
the new virtual machine. By default this is packer-BUILDNAME, where
&quot;BUILDNAME&quot; is the name of the build. Currently, no file extension will be
used unless it is specified in this option.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cdrom_interface</code> (string) - The interface to use for the CDROM device which contains the ISO image.
Allowed values include any of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ide</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scsi</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio</code> or
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-scsi</code>. The Qemu builder uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio</code> by default.
Some ARM64 images require <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtio-scsi</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vtpm</code> (bool) - Use a virtual (emulated) TPM device to expose to the VM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_tpm1</code> (bool) - Use version 1.2 of the TPM specification for the emulated TPM.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, we use version 2.0 of the TPM specs for the emulated TPM,
if you want to force version 1.2, set this option to true.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tpm_device_type</code> (string) - The TPM device type to inject in the qemu command-line</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This is required to be specified for some platforms, as the device has to
behave differently depending on the architecture.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As per the docs:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">x86: tpm-tis (default)</li><li class="mdx-lists_listItem__nkqhg">ARM: tpm-tis-device</li><li class="mdx-lists_listItem__nkqhg">PPC (p-series): tpm-spapr</li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_steps</code> (<!-- -->[][]<!-- -->string) - This is an array of tuples of boot commands, to type when the virtual
machine is booted. The first element of the tuple is the actual boot
command. The second element of the tuple, which is optional, is a
description of what the boot command does. This is intended to be used for
interactive installers that requires many commands to complete the
installation. Both the command and the description will be printed when
logging is enabled. When debug mode is enabled Packer will pause after
typing each boot command. This will make it easier to follow along the
installation process and make sure the Packer and the installer are in
sync. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_steps</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_commands</code> are mutually exclusive.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4k1uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">boot_steps </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;1&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Install NetBSD&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Installation messages in English&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Keyboard type: unchanged&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Install NetBSD to hard disk&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [</span><span style="color:var(--hds-code-block-color-string)">&quot;b&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Yes&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4k1uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ck1uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R6k1uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;boot_steps&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;1&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Install NetBSD&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Installation messages in English&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Keyboard type: unchanged&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;a&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Install NetBSD to hard disk&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;b&lt;enter&gt;&lt;wait5&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;Yes&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R6k1uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ek1uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu_model</code> (string) - The CPU model is what will be used by qemu for booting the virtual machine
and determine which features of a specific model/family of processors
is supported.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Any string is supported here, and to see which models are supported
by qemu for a specific architecture, refer to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu -cpu help</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The default value here is that no cpu option will be passed through to qemu,
therefore it will default to whichever CPU model is the default for the
targetted system (on x86_64 for example, it will be qemu64)</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: RHEL9 removed support for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu64</code> in their distributed qemu package,
forcing users of RHEL9 on x86_64 systems to define this. &quot;host&quot; is a
reasonable value if using an hypervisor.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-iso-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="ISO Configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#iso-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ISO Configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, Packer will symlink, download or copy image files to the Packer
cache into a &quot;<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hash($iso_url+$iso_checksum).$iso_target_extension</code>&quot; file.
Packer uses <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/go-getter">hashicorp/go-getter</a> in
file mode in order to perform a download.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">go-getter supports the following protocols:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Local files</li><li class="mdx-lists_listItem__nkqhg">Git</li><li class="mdx-lists_listItem__nkqhg">Mercurial</li><li class="mdx-lists_listItem__nkqhg">HTTP</li><li class="mdx-lists_listItem__nkqhg">Amazon S3</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Examples:
go-getter can guess the checksum type based on <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_checksum</code> length, and it is
also possible to specify the checksum type.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reiqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reiuhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R32hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;file://./shasums.txt&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R32hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rej2hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R36hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;file:./shasums.txt&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R36hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rej6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_checksum </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rejehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3ihdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_checksum </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3ihdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rejihdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3mhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_checksum </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;file://./shasums.txt&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3mhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rejmhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_checksum </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;file:./shasums.txt&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rejqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-required:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Required permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#required:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Required:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_checksum</code> (string) - The checksum for the ISO file or virtual hard drive file. The type of
the checksum is specified within the checksum field as a prefix, ex:
&quot;md5:{$checksum}&quot;. The type of the checksum can also be omitted and
Packer will try to infer it based on string length. Valid values are
&quot;none&quot;, &quot;{$checksum}&quot;, &quot;md5:{$checksum}&quot;, &quot;sha1:{$checksum}&quot;,
&quot;sha256:{$checksum}&quot;, &quot;sha512:{$checksum}&quot; or &quot;file:{$path}&quot;. Here is a
list of valid checksum values:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">md5:090992ba9fd140077b0661cb75f7ce13</li><li class="mdx-lists_listItem__nkqhg">090992ba9fd140077b0661cb75f7ce13</li><li class="mdx-lists_listItem__nkqhg">sha1:ebfb681885ddf1234c18094a45bbeafd91467911</li><li class="mdx-lists_listItem__nkqhg">ebfb681885ddf1234c18094a45bbeafd91467911</li><li class="mdx-lists_listItem__nkqhg">sha256:ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93</li><li class="mdx-lists_listItem__nkqhg">ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93</li><li class="mdx-lists_listItem__nkqhg">file:<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://releases.ubuntu.com/20.04/SHA256SUMS">http://releases.ubuntu.com/20.04/SHA256SUMS</a></li><li class="mdx-lists_listItem__nkqhg">file:file://./local/path/file.sum</li><li class="mdx-lists_listItem__nkqhg">file:./local/path/file.sum</li><li class="mdx-lists_listItem__nkqhg">none
Although the checksum will not be verified when it is set to &quot;none&quot;,
this is not recommended since these files can be very large and
corruption does happen from time to time.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_url</code> (string) - A URL to the ISO containing the installation image or virtual hard drive
(VHD or VHDX) file to clone.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_urls</code> ([]string) - Multiple URLs for the ISO to download. Packer will try these in order.
If anything goes wrong attempting to download or while downloading a
single URL, it will move on to the next. All URLs must point to the same
file (same checksum). By default this is empty and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_url</code> is used.
Only one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_url</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_urls</code> can be specified.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_target_path</code> (string) - The path where the iso should be saved after download. By default will
go in the packer cache, with a hash of the original filename and
checksum as its name.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso_target_extension</code> (string) - The extension of the iso file after download. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iso</code>.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-http-directory-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Http directory configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#http-directory-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Http directory configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Packer will create an http server serving <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code> when it is set, a
random free port will be selected and the architecture of the directory
referenced will be available in your builder.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example usage from a builder:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rekqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code> (string) - Path to a directory to serve using an HTTP server. The files in this
directory will be available over HTTP that will be requestable from the
virtual machine. This is useful for hosting kickstart files and so on.
By default this is an empty string, which means no HTTP server will be
started. The address and port of the HTTP server will be available as
variables in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_command</code>. This is covered in more detail below.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_content</code> (map<!-- -->[string]<!-- -->string) - Key/Values to serve using an HTTP server. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_content</code> works like and
conflicts with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code>. The keys represent the paths and the
values contents, the keys must start with a slash, ex: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/path/to/file</code>.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_content</code> is useful for hosting kickstart files and so on. By
default this is empty, which means no HTTP server will be started. The
address and port of the HTTP server will be available as variables in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_command</code>. This is covered in more detail below.
Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R952hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  http_content </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;/a/b&quot;</span><span style="color:var(--hds-code-block-color-keyword)">     =</span><span style="color:var(--hds-code-block-color-function)"> file(</span><span style="color:var(--hds-code-block-color-string)">&quot;http/b&quot;</span><span style="color:var(--hds-code-block-color-function)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;/foo/bar&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-function)"> templatefile(</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-keyword)">${</span><span style="color:var(--hds-code-block-color-string)">path</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-string)">root</span><span style="color:var(--hds-code-block-color-keyword)">}</span><span style="color:var(--hds-code-block-color-string)">/preseed.cfg&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-function)"> { packages </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-function)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;nginx&quot;</span><span style="color:var(--hds-code-block-color-function)">] })</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R952hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep52hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_port_min</code> (int) - These are the minimum and maximum port to use for the HTTP server
started to serve the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code>. Because Packer often runs in
parallel, Packer will choose a randomly available port in this range to
run the HTTP server. If you want to force the HTTP server to be on one
port, make this minimum and maximum port the same. By default the values
are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8000</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">9000</code>, respectively.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_port_max</code> (int) - HTTP Port Max</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_bind_address</code> (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that
it will work with any network interface.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-floppy-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Floppy configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#floppy-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Floppy configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A floppy can be made available for your build. This is most useful for
unattended Windows installs, which look for an Autounattend.xml file on
removable media. By default, no floppy will be attached. All files listed in
this setting get placed into the root directory of the floppy and the floppy
is attached as the first floppy device. The summary size of the listed files
must not exceed 1.44 MB. The supported ways to move large files into the OS
are using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code> or <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/docs/provisioner/file">the file
provisioner</a>.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_files</code> ([]string) - A list of files to place onto a floppy disk that is attached when the VM
is booted. Currently, no support exists for creating sub-directories on
the floppy. Wildcard characters (<!-- -->\<!-- -->*, ?, and <!-- -->[<!-- -->]<!-- -->) are allowed. Directory
names are also allowed, which will add all the files found in the
directory to the floppy.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_dirs</code> ([]string) - A list of directories to place onto the floppy disk recursively. This is
similar to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_files</code> option except that the directory structure
is preserved. This is useful for when your floppy disk includes drivers
or if you just want to organize it&#x27;s contents as a hierarchy. Wildcard
characters (<!-- -->\<!-- -->*, ?, and <!-- -->[<!-- -->]<!-- -->) are allowed. The maximum summary size of
all files in the listed directories are the same as in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_files</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_content</code> (map<!-- -->[string]<!-- -->string) - Key/Values to add to the floppy disk. The keys represent the paths, and
the values contents. It can be used alongside <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_files</code> or
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_dirs</code>, which is useful to add large files without loading them
into memory. If any paths are specified by both, the contents in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_content</code> will take precedence.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Usage example (HCL):</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rdlihdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">floppy_files </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;vendor-data&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">floppy_content </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;meta-data&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-function)"> jsonencode(local</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">instance_data)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;user-data&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-function)"> templatefile(</span><span style="color:var(--hds-code-block-color-string)">&quot;user-data&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-function)"> { packages </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-function)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;nginx&quot;</span><span style="color:var(--hds-code-block-color-function)">] })</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">floppy_label </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;cidata&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rdlihdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Retlihdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">floppy_label</code> (string) - Floppy Label</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-cd-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="CD configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#cd-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>CD configuration</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">An iso (CD) containing custom files can be made available for your build.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, no extra CD will be attached. All files listed in this setting
get placed into the root directory of the CD and the CD is attached as the
second CD device.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This config exists to work around modern operating systems that have no
way to mount floppy disks, which was our previous go-to for adding files at
boot time.</p><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cd_files</code> ([]string) - A list of files to place onto a CD that is attached when the VM is
booted. This can include either files or directories; any directories
will be copied onto the CD recursively, preserving directory structure
hierarchy. Symlinks will have the link&#x27;s target copied into the directory
tree on the CD where the symlink was. File globbing is allowed.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Usage example (JSON):</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R6mahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">&quot;cd_files&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span><span style="color:var(--hds-code-block-color-string)">&quot;./somedirectory/meta-data&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;./somedirectory/user-data&quot;</span><span style="color:var(--hds-code-block-color-token)">],</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">&quot;cd_label&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;cidata&quot;</span><span style="color:var(--hds-code-block-color-token)">,</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R6mahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rt6mahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Usage example (HCL):</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ramahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_files </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;./somedirectory/meta-data&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;./somedirectory/user-data&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_label </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;cidata&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ramahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtamahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The above will create a CD with two files, user-data and meta-data in the
CD root. This specific example is how you would create a CD that can be
used for an Ubuntu 20.04 autoinstall.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since globbing is also supported,</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rgmahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_files </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;./somedirectory/*&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_label </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;cidata&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rgmahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtgmahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Would also be an acceptable way to define the above cd. The difference
between providing the directory with or without the glob is whether the
directory itself or its contents will be at the CD root.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use of this option assumes that you have a command line tool installed
that can handle the iso creation. Packer will use one of the following
tools:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">xorriso</li><li class="mdx-lists_listItem__nkqhg">mkisofs</li><li class="mdx-lists_listItem__nkqhg">hdiutil (normally found in macOS)</li><li class="mdx-lists_listItem__nkqhg">oscdimg (normally found in Windows as part of the Windows ADK)</li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cd_content</code> (map<!-- -->[string]<!-- -->string) - Key/Values to add to the CD. The keys represent the paths, and the values
contents. It can be used alongside <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cd_files</code>, which is useful to add large
files without loading them into memory. If any paths are specified by both,
the contents in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cd_content</code> will take precedence.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Usage example (HCL):</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R76ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_files </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;vendor-data&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_content </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;meta-data&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-function)"> jsonencode(local</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">instance_data)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;user-data&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-function)"> templatefile(</span><span style="color:var(--hds-code-block-color-string)">&quot;user-data&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-function)"> { packages </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-function)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;nginx&quot;</span><span style="color:var(--hds-code-block-color-function)">] })</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">cd_label </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;cidata&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R76ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7f6ahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cd_label</code> (string) - CD Label</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-shutdown-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Shutdown configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#shutdown-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Shutdown configuration</h2><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">shutdown_command</code> (string) - The command to use to gracefully shut down the machine once all
provisioning is complete. By default this is an empty string, which
tells Packer to just forcefully shut down the machine. This setting can
be safely omitted if for example, a shutdown command to gracefully halt
the machine is configured inside a provisioning script. If one or more
scripts require a reboot it is suggested to leave this blank (since
reboots may fail) and instead specify the final shutdown command in your
last script.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">shutdown_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The amount of time to wait after executing the shutdown_command for the
virtual machine to actually shut down. If the machine doesn&#x27;t shut down
in this time it is considered an error. By default, the time out is &quot;5m&quot;
(five minutes).</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-communicator-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Communicator configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#communicator-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Communicator configuration</h2><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional-common-fields:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional common fields permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-common-fields:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional common fields:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">communicator</code> (string) - Packer currently supports three kinds of communicators:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">none</code> - No communicator will be used. If this is set, most
provisioners also can&#x27;t be used.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh</code> - An SSH connection will be established to the machine. This
is usually the default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm</code> - A WinRM connection will be established.</p></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In addition to the above, some builders have custom communicators they
can use. For example, the Docker builder has a &quot;docker&quot; communicator
that uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">docker exec</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">docker cp</code> to execute scripts and copy
files.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code> (duration string | ex: &quot;1h5m2s&quot;) - We recommend that you enable SSH or WinRM as the very last step in your
guest&#x27;s bootstrap script, but sometimes you may have a race condition
where you need Packer to wait before attempting to connect to your
guest.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you end up in this situation, you can use the template option
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code>. By default, there is no pause. For example if
you set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10m</code> Packer will check whether it
can connect, as normal. But once a connection attempt is successful, it
will disconnect and then wait 10 minutes before connecting to the guest
and beginning provisioning.</p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host_port_min</code> (int) - The minimum port to use for the Communicator port on the host machine which is forwarded
to the SSH or WinRM port on the guest machine. By default this is 2222.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host_port_max</code> (int) - The maximum port to use for the Communicator port on the host machine which is forwarded
to the SSH or WinRM port on the guest machine. Because Packer often runs in parallel,
Packer will choose a randomly available port in this range to use as the
host port. By default this is 4444.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_nat_mapping</code> (bool) - Defaults to false. When enabled, Packer
does not setup forwarded port mapping for communicator (SSH or WinRM) requests and uses ssh_port or winrm_port
on the host to communicate to the virtual machine.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional-ssh-fields:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional SSH fields permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-ssh-fields:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional SSH fields:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_host</code> (string) - The address to SSH to. This usually is automatically configured by the
builder.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_port</code> (int) - The port to connect to SSH. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">22</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_username</code> (string) - The username to connect to SSH with. Required if using SSH.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_password</code> (string) - A plaintext password to use to authenticate with SSH.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_ciphers</code> ([]string) - This overrides the value of ciphers supported by default by Golang.
The default value is <!-- -->[
&quot;aes128-gcm@openssh.com&quot;,
&quot;chacha20-poly1305@openssh.com&quot;,
&quot;aes128-ctr&quot;, &quot;aes192-ctr&quot;, &quot;aes256-ctr&quot;,
]</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Valid options for ciphers include:
&quot;aes128-ctr&quot;, &quot;aes192-ctr&quot;, &quot;aes256-ctr&quot;, &quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:aes128-gcm@openssh.com">aes128-gcm@openssh.com</a>&quot;,
&quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:chacha20-poly1305@openssh.com">chacha20-poly1305@openssh.com</a>&quot;,
&quot;arcfour256&quot;, &quot;arcfour128&quot;, &quot;arcfour&quot;, &quot;aes128-cbc&quot;, &quot;3des-cbc&quot;,</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_clear_authorized_keys</code> (bool) - If true, Packer will attempt to remove its temporary key from
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~/.ssh/authorized_keys</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/.ssh/authorized_keys</code>. This is a
mostly cosmetic option, since Packer will delete the temporary private
key from the host system regardless of whether this is set to true
(unless the user has set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-debug</code> flag). Defaults to &quot;false&quot;;
currently only works on guests with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sed</code> installed.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_key_exchange_algorithms</code> ([]string) - If set, Packer will override the value of key exchange (kex) algorithms
supported by default by Golang. Acceptable values include:
&quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:curve25519-sha256@libssh.org">curve25519-sha256@libssh.org</a>&quot;, &quot;ecdh-sha2-nistp256&quot;,
&quot;ecdh-sha2-nistp384&quot;, &quot;ecdh-sha2-nistp521&quot;,
&quot;diffie-hellman-group14-sha1&quot;, and &quot;diffie-hellman-group1-sha1&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_certificate_file</code> (string) - Path to user certificate used to authenticate with SSH.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_pty</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, a PTY will be requested for the SSH connection. This defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The time to wait for SSH to become available. Packer uses this to
determine when the machine has booted so this is usually quite long.
Example value: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10m</code>.
This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code>, unless <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_handshake_attempts</code> is set.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_disable_agent_forwarding</code> (bool) - If true, SSH agent forwarding will be disabled. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_handshake_attempts</code> (int) - The number of handshakes to attempt with SSH once it can connect.
This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10</code>, unless a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_timeout</code> is set.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_host</code> (string) - A bastion host to use for the actual SSH connection.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_port</code> (int) - The port of the bastion host. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">22</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_agent_auth</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the local SSH agent will be used to authenticate with the
bastion host. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_username</code> (string) - The username to connect to the bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_password</code> (string) - The password to use to authenticate with the bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_interactive</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the keyboard-interactive used to authenticate with bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_private_key_file</code> (string) - Path to a PEM encoded private key file to use to authenticate with the
bastion host. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_certificate_file</code> (string) - Path to user certificate used to authenticate with bastion host.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_file_transfer_method</code> (string) - <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scp</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sftp</code> - How to transfer files, Secure copy (default) or SSH
File Transfer Protocol.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NOTE</strong>: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp
(the default protocol for copying data) returns a a non-zero error code since the MOTW
cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol
with SFTP instead <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_file_transfer_protocol = &quot;sftp&quot;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_host</code> (string) - A SOCKS proxy host to use for SSH connection</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_port</code> (int) - A port of the SOCKS proxy. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1080</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_username</code> (string) - The optional username to authenticate with the proxy server.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_password</code> (string) - The optional password to use to authenticate with the proxy server.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_keep_alive_interval</code> (duration string | ex: &quot;1h5m2s&quot;) - How often to send &quot;keep alive&quot; messages to the server. Set to a negative
value (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-1s</code>) to disable. Example value: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10s</code>. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_read_write_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The amount of time to wait for a remote command to end. This might be
useful if, for example, packer hangs on a connection after a reboot.
Example: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code>. Disabled by default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_remote_tunnels</code> ([]string) - </p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_local_tunnels</code> ([]string) - </p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_private_key_file</code> (string) - Path to a PEM encoded private key file to use to authenticate with SSH.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the home directory
of current user.</li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">temporary_key_pair_type</code> (string) - <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dsa</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ecdsa</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ed25519</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsa</code> ( the default )</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Specifies the type of key to create. The possible values are &#x27;dsa&#x27;,
&#x27;ecdsa&#x27;, &#x27;ed25519&#x27;, or &#x27;rsa&#x27;.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: DSA is deprecated and no longer recognized as secure, please
consider other alternatives like RSA or ED25519.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">temporary_key_pair_bits</code> (int) - Specifies the number of bits in the key to create. For RSA keys, the
minimum size is 1024 bits and the default is 4096 bits. Generally, 3072
bits is considered sufficient. DSA keys must be exactly 1024 bits as
specified by FIPS 186-2. For ECDSA keys, bits determines the key length
by selecting from one of three elliptic curve sizes: 256, 384 or 521
bits. Attempting to use bit lengths other than these three values for
ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be
ignored.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: DSA is deprecated and no longer recognized as secure as specified
by FIPS 186-5, please consider other alternatives like RSA or ED25519.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional-winrm-fields:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional WinRM fields permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-winrm-fields:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional WinRM fields:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_username</code> (string) - The username to use to connect to WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_password</code> (string) - The password to use to connect to WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_host</code> (string) - The address for WinRM to connect to.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: If using an Amazon EBS builder, you can specify the interface
WinRM connects to via
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_interface</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_no_proxy</code> (bool) - Setting this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> adds the remote
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port</code> to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NO_PROXY</code> environment variable. This has the effect of
bypassing any configured proxies when connecting to the remote host.
Default to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_port</code> (int) - The WinRM port to connect to. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5985</code> for plain
unencrypted connection and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5986</code> for SSL when <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ssl</code> is set to
true.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The amount of time to wait for WinRM to become available. This defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30m</code> since setting up a Windows machine generally takes a long time.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ssl</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, use HTTPS for WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_insecure</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, do not check server certificate chain and host name.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ntlm</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, NTLMv2 authentication (with session security) will be used
for WinRM, rather than default (basic authentication), removing the
requirement for basic authentication to be enabled within the target
guest. Further reading for remote connection authentication can be found
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx">here</a>.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-boot-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Boot Configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#boot-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Boot Configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The boot command &quot;typed&quot; character for character over a VNC connection to
the machine, simulating a human actually typing the keyboard.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Keystrokes are typed as separate key up/down events over VNC with a default
100ms delay. The delay alleviates issues with latency and CPU contention.
You can tune this delay on a per-builder basis by specifying
&quot;boot_key_interval&quot; in your Packer template.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The boot configuration is very important: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_command</code> specifies the keys
to type when the virtual machine is first booted in order to start the OS
installer. This command is typed after boot_wait, which gives the virtual
machine some time to actually load.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The boot_command is an array of strings. The strings are all typed in
sequence. It is an array only to improve readability within the template.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are a set of special keys available. If these are in your boot
command, they will be replaced by the proper key:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;bs&gt;</code> - Backspace</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;del&gt;</code> - Delete</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;enter&gt; &lt;return&gt;</code> - Simulates an actual &quot;enter&quot; or &quot;return&quot; keypress.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;esc&gt;</code> - Simulates pressing the escape key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;tab&gt;</code> - Simulates pressing the tab key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;f1&gt; - &lt;f12&gt;</code> - Simulates pressing a function key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;up&gt; &lt;down&gt; &lt;left&gt; &lt;right&gt;</code> - Simulates pressing an arrow key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;spacebar&gt;</code> - Simulates pressing the spacebar.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;insert&gt;</code> - Simulates pressing the insert key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;home&gt; &lt;end&gt;</code> - Simulates pressing the home and end keys.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;pageUp&gt; &lt;pageDown&gt;</code> - Simulates pressing the page up and page down
keys.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;menu&gt;</code> - Simulates pressing the Menu key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;leftAlt&gt; &lt;rightAlt&gt;</code> - Simulates pressing the alt key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;leftCtrl&gt; &lt;rightCtrl&gt;</code> - Simulates pressing the ctrl key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;leftShift&gt; &lt;rightShift&gt;</code> - Simulates pressing the shift key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;leftSuper&gt; &lt;rightSuper&gt;</code> - Simulates pressing the  or Windows key.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;wait&gt; &lt;wait5&gt; &lt;wait10&gt;</code> - Adds a 1, 5 or 10 second pause before
sending any additional keys. This is useful if you have to generally
wait for the UI to update before typing more.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;waitXX&gt;</code> - Add an arbitrary pause before sending any additional keys.
The format of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">XX</code> is a sequence of positive decimal numbers, each with
optional fraction and a unit suffix, such as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">300ms</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.5h</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">2h45m</code>.
Valid time units are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us</code> (or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">s</code>), <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ms</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">s</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">m</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">h</code>. For
example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;wait10m&gt;</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;wait1m20s&gt;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;XXXOn&gt; &lt;XXXOff&gt;</code> - Any printable keyboard character, and of these
&quot;special&quot; expressions, with the exception of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;wait&gt;</code> types, can
also be toggled on or off. For example, to simulate ctrl+c, use
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;leftCtrlOn&gt;c&lt;leftCtrlOff&gt;</code>. Be sure to release them, otherwise they
will be held down until the machine reboots. To hold the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">c</code> key down,
you would use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;cOn&gt;</code>. Likewise, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;cOff&gt;</code> to release.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .HTTPIP }} {{ .HTTPPort }}</code> - The IP and port, respectively of an
HTTP server that is started serving the directory specified by the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code> configuration parameter. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_directory</code> isn&#x27;t
specified, these will be blank!</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ .Name }}</code> - The name of the VM.</p></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example boot command. This is actually a working boot command used to start an
CentOS 6.4 installer:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R96hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">&quot;boot_command&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">       &quot;&lt;tab&gt;&lt;wait&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">       &quot; ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg&lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R96hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R9ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">boot_command </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">       &quot;&lt;tab&gt;&lt;wait&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">       &quot; ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg&lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R9ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Repehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The example shown below is a working boot command used to start an Ubuntu
12.04 installer:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R9qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">&quot;boot_command&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;&lt;esc&gt;&lt;esc&gt;&lt;enter&gt;&lt;wait&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;/install/vmlinuz noapic &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;debian-installer=en_US auto locale=en_US kbd-chooser/method=us &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;hostname={{ .Name }} &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;fb=false debconf/frontend=noninteractive &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;keyboard-configuration/variant=USA console-setup/ask_detect=false &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;initrd=/install/initrd.gz -- &lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R9qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Repqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ra2hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">boot_command </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;&lt;esc&gt;&lt;esc&gt;&lt;enter&gt;&lt;wait&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;/install/vmlinuz noapic &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;debian-installer=en_US auto locale=en_US kbd-chooser/method=us &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;hostname={{ .Name }} &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;fb=false debconf/frontend=noninteractive &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;keyboard-configuration/variant=USA console-setup/ask_detect=false &quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;initrd=/install/initrd.gz -- &lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ra2hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Req2hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For more examples of various boot commands, see the sample projects from our
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://packer.io/community-tools#templates">community templates page</a>.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_vnc</code> (bool) - Whether to create a VNC connection or not. A boot_command cannot be used
when this is true. Defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_key_interval</code> (duration string | ex: &quot;1h5m2s&quot;) - Time in ms to wait between each key press</p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_keygroup_interval</code> (duration string | ex: &quot;1h5m2s&quot;) - Time to wait after sending a group of key pressses. The value of this
should be a duration. Examples are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1m30s</code> which will cause
Packer to wait five seconds and one minute 30 seconds, respectively. If
this isn&#x27;t specified, a sensible default value is picked depending on
the builder type.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_wait</code> (duration string | ex: &quot;1h5m2s&quot;) - The time to wait after booting the initial virtual machine before typing
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_command</code>. The value of this should be a duration. Examples are
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1m30s</code> which will cause Packer to wait five seconds and one
minute 30 seconds, respectively. If this isn&#x27;t specified, the default is
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10s</code> or 10 seconds. To set boot_wait to 0s, use a negative number, such
as &quot;-1s&quot;</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boot_command</code> ([]string) - This is an array of commands to type when the virtual machine is first
booted. The goal of these commands should be to type just enough to
initialize the operating system installer. Special keys can be typed as
well, and are covered in the section below on the boot command. If this
is not specified, it is assumed the installer will start itself.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-efi-boot-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="EFI Boot Configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#efi-boot-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>EFI Boot Configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Booting in EFI mode</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use these options if wanting to boot on a UEFI firmware, as the options to
do so are different from what BIOS (default) booting will require.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_boot</code> (bool) - Boot in EFI mode instead of BIOS. This is required for more modern
guest OS. If either or both of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_firmware_code</code> or
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_firmware_vars</code> are defined, this will implicitely be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: when using a Secure-Boot enabled firmware, the machine type has
to be q35, otherwise qemu will not boot.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_firmware_code</code> (string) - Path to the CODE part of OVMF (or other compatible firmwares)
The OVMF_CODE.fd file contains the bootstrap code for booting in EFI
mode, and requires a separate VARS.fd file to be able to persist data
between boot cycles.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/usr/share/OVMF/OVMF_CODE.fd</code></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_firmware_vars</code> (string) - Path to the VARS corresponding to the OVMF code file.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Default: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/usr/share/OVMF/OVMF_VARS.fd</code></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efi_drop_efivars</code> (bool) - Drop the efivars.fd file in the exported artifact.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In addition to the disks created by the builder, we also expose the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efivars.fd</code> file if the image was booted with UEFI enabled.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">However, if the output is consumed by a post-processor (like AWS,
GCP, etc.), this may not be supported by the code, and since the file
is not a disk image, this will error.
This option can then be used to remove the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">efivars.fd</code> from the
artifact produced by the builder, so it only lists the disks produced
instead.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-smp-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="SMP Configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#smp-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>SMP Configuration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">QemuSMPConfig sets the smp configuration option for the Qemu command-line</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The smp option sets the number of vCPUs to expose to the VM, the final
number of available vCPUs is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sockets * cores * threads</code>.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpus</code> (int) - The number of virtual cpus to use when building the VM.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If undefined, the value will either be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1</code>, or the product of
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sockets * cores * threads</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If this is defined in conjunction with any topology specifier (sockets,
cores and/or threads), the smallest of the two will be used.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If the cpu count is the only thing specified, qemu&#x27;s default behaviour
regarding topology will be applied.
The behaviour depends on the version of qemu; before version 6.2, sockets
were preferred to cores, from version 6.2 onwards, cores are preferred.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sockets</code> (int) - The number of sockets to use when building the VM.
The default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1</code> socket.
The socket count must not be higher than the CPU count.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cores</code> (int) - The number of cores per CPU to use when building the VM.
The default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1</code> core per CPU.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">threads</code> (int) - The number of threads per core to use when building the VM.
The default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1</code> thread per core.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-communicator-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Communicator Configuration permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#communicator-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Communicator Configuration</h3><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Optional permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">communicator</code> (string) - Packer currently supports three kinds of communicators:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">none</code> - No communicator will be used. If this is set, most
provisioners also can&#x27;t be used.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh</code> - An SSH connection will be established to the machine. This
is usually the default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm</code> - A WinRM connection will be established.</p></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In addition to the above, some builders have custom communicators they
can use. For example, the Docker builder has a &quot;docker&quot; communicator
that uses <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">docker exec</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">docker cp</code> to execute scripts and copy
files.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code> (duration string | ex: &quot;1h5m2s&quot;) - We recommend that you enable SSH or WinRM as the very last step in your
guest&#x27;s bootstrap script, but sometimes you may have a race condition
where you need Packer to wait before attempting to connect to your
guest.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you end up in this situation, you can use the template option
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code>. By default, there is no pause. For example if
you set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pause_before_connecting</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10m</code> Packer will check whether it
can connect, as normal. But once a connection attempt is successful, it
will disconnect and then wait 10 minutes before connecting to the guest
and beginning provisioning.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-ssh-key-pair-automation"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="SSH key pair automation permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#ssh-key-pair-automation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>SSH key pair automation</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The QEMU builder can inject the current SSH key pair&#x27;s public key into
the template using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SSHPublicKey</code> template engine. This is the SSH public
key as a line in OpenSSH authorized_keys format.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When a private key is provided using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_private_key_file</code>, the key&#x27;s
corresponding public key can be accessed using the above engine.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_private_key_file</code> (string) - Path to a PEM encoded private key file to use to authenticate with SSH.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the home directory
of current user.</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_password</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_private_key_file</code> are not specified, Packer will
automatically generate en ephemeral key pair. The key pair&#x27;s public key can
be accessed using the template engine.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, the public key can be provided in the boot command as a URL
encoded string by appending <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">| urlquery</code> to the variable:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In JSON:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rd6hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">&quot;boot_command&quot;</span><span style="color:var(--hds-code-block-color-token)">: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;&lt;up&gt;&lt;wait&gt;&lt;tab&gt; text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}&lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rd6hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Ret6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In HCL2:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rdehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">boot_command </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;&lt;up&gt;&lt;wait&gt;&lt;tab&gt; text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}&lt;enter&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rdehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Retehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A kickstart could then leverage those fields from the kernel command line by
decoding the URL-encoded public key:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rdmhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">%post</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-comment)"># Newly created users need the file/folder framework for SSH key authentication.</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">umask</span><span style="color:var(--hds-code-block-color-constant)"> 0077</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">mkdir</span><span style="color:var(--hds-code-block-color-string)"> /etc/skel/.ssh</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">touch</span><span style="color:var(--hds-code-block-color-string)"> /etc/skel/.ssh/authorized_keys</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-comment)"># Loop over the command line. Set interesting variables.</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">for</span><span style="color:var(--hds-code-block-color-token)"> x </span><span style="color:var(--hds-code-block-color-keyword)">in</span><span style="color:var(--hds-code-block-color-string)"> $(</span><span style="color:var(--hds-code-block-color-function)">cat</span><span style="color:var(--hds-code-block-color-string)"> /proc/cmdline)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">do</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  case</span><span style="color:var(--hds-code-block-color-token)"> $x </span><span style="color:var(--hds-code-block-color-keyword)">in</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    PACKER_USER=</span><span style="color:var(--hds-code-block-color-keyword)">*</span><span style="color:var(--hds-code-block-color-keyword)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      PACKER_USER</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;${x</span><span style="color:var(--hds-code-block-color-keyword)">#*</span><span style="color:var(--hds-code-block-color-string)">=}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      ;;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    PACKER_AUTHORIZED_KEY=</span><span style="color:var(--hds-code-block-color-keyword)">*</span><span style="color:var(--hds-code-block-color-keyword)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-comment)">      # URL decode $encoded into $PACKER_AUTHORIZED_KEY</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      encoded</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">$(</span><span style="color:var(--hds-code-block-color-function)">echo</span><span style="color:var(--hds-code-block-color-string)"> &quot;${x</span><span style="color:var(--hds-code-block-color-keyword)">#*</span><span style="color:var(--hds-code-block-color-string)">=}&quot; </span><span style="color:var(--hds-code-block-color-keyword)">|</span><span style="color:var(--hds-code-block-color-function)"> tr</span><span style="color:var(--hds-code-block-color-string)"> &#x27;+&#x27; &#x27; &#x27;)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">      printf</span><span style="color:var(--hds-code-block-color-string)"> -v</span><span style="color:var(--hds-code-block-color-string)"> PACKER_AUTHORIZED_KEY</span><span style="color:var(--hds-code-block-color-string)"> &#x27;%b&#x27;</span><span style="color:var(--hds-code-block-color-string)"> &quot;${encoded</span><span style="color:var(--hds-code-block-color-keyword)">//%/</span><span style="color:var(--hds-code-block-color-string)">\\x}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      ;;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  esac</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">done</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-comment)"># Create/configure packer user, if any.</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">if</span><span style="color:var(--hds-code-block-color-token)"> [ </span><span style="color:var(--hds-code-block-color-keyword)">-n</span><span style="color:var(--hds-code-block-color-string)"> &quot;$PACKER_USER&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">then</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  useradd</span><span style="color:var(--hds-code-block-color-token)"> $PACKER_USER</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  echo</span><span style="color:var(--hds-code-block-color-string)"> &quot;%$PACKER_USER ALL=(ALL) NOPASSWD: ALL&quot;</span><span style="color:var(--hds-code-block-color-keyword)"> &gt;&gt;</span><span style="color:var(--hds-code-block-color-string)"> /etc/sudoers.d/</span><span style="color:var(--hds-code-block-color-token)">$PACKER_USER</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  [ </span><span style="color:var(--hds-code-block-color-keyword)">-n</span><span style="color:var(--hds-code-block-color-string)"> &quot;$PACKER_AUTHORIZED_KEY&quot;</span><span style="color:var(--hds-code-block-color-token)"> ] </span><span style="color:var(--hds-code-block-color-punctuation)">&amp;&amp;</span><span style="color:var(--hds-code-block-color-function)"> echo</span><span style="color:var(--hds-code-block-color-token)"> $PACKER_AUTHORIZED_KEY </span><span style="color:var(--hds-code-block-color-keyword)">&gt;&gt;</span><span style="color:var(--hds-code-block-color-string)"> $(</span><span style="color:var(--hds-code-block-color-function)">eval</span><span style="color:var(--hds-code-block-color-string)"> echo ~&quot;$PACKER_USER&quot;)/.ssh/authorized_keys</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">fi</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">%end</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rdmhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Retmhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.9d24babe.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-troubleshooting"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Troubleshooting permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#troubleshooting"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Troubleshooting</h3><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-invalid-keymaps"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Invalid Keymaps permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#invalid-keymaps"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Invalid Keymaps</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Some users have experienced errors complaining about invalid keymaps. This
seems to be related to having a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">common</code> directory or file in the directory
they&#x27;ve run Packer in, like the Packer source directory. This appears to be an
upstream bug with qemu, and the best solution for now is to remove the
file/directory or run in another directory.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Some users have reported issues with incorrect keymaps using qemu version 2.11.
This is a bug with qemu, and the solution is to upgrade, or downgrade to 2.10.1
or earlier.</p><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-corrupted-image-after-packer-calls-qemu-img-convert-on-osx"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Corrupted image after Packer calls qemu-img convert on OSX permalink" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#corrupted-image-after-packer-calls-qemu-img-convert-on-osx"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Corrupted image after Packer calls qemu-img convert on OSX</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Due to an upstream bug with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">qemu-img convert</code> on OSX, sometimes the qemu-img
convert call will create a corrupted image. If this is an issue for you, make
sure that the the output format (provided using the option <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">format</code>) matches
the input file&#x27;s format and file extension, and Packer will
perform a simple copy operation instead. You will also want to set
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;skip_compaction&quot;: true,</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;disk_compression&quot;: false</code> to skip a final
image conversion at the end of the build. See
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://bugs.launchpad.net/qemu/+bug/1776920">https://bugs.launchpad.net/qemu/+bug/1776920</a> for more details.</p></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-66"><p id="react-aria-66" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#basic-example">Basic Example</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#qemu-specific-configuration-reference">Qemu Specific Configuration Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#iso-configuration">ISO Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#required:">Required:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#http-directory-configuration">Http directory configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#floppy-configuration">Floppy configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#cd-configuration">CD configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#shutdown-configuration">Shutdown configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#communicator-configuration">Communicator configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-common-fields:">Optional common fields:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-ssh-fields:">Optional SSH fields:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional-winrm-fields:">Optional WinRM fields:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#boot-configuration">Boot Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#efi-boot-configuration">EFI Boot Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional">Optional</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#smp-configuration">SMP Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional">Optional</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#communicator-configuration">Communicator Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#ssh-key-pair-automation">SSH key pair automation</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#troubleshooting">Troubleshooting</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#invalid-keymaps">Invalid Keymaps</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/qemu/latest/components/builder/qemu#corrupted-image-after-packer-calls-qemu-img-convert-on-osx">Corrupted image after Packer calls qemu-img convert on OSX</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="254" height="53" fill="none" viewBox="0 0 254 53"><g fill="#000" clip-path="url(#clip0_1743_1384)"><g><path d="M63.01 12.22h5.32v11.43h12.19V12.22h5.36V40.2h-5.36V28.45H68.33V40.2h-5.32zM89.28 34.77c0-4.2 2.96-5.6 6.56-6.44l6.079-1.4v-.48c0-2.04-1.32-3.32-3.44-3.32s-3.36 1.16-3.76 3.08l-4.56-.52c.68-3.84 3.92-6.32 8.52-6.32 5.08 0 8.4 3.2 8.4 7.88v8.2c0 .52.16.68.52.68h1.12v4.08h-3.12c-1.96 0-2.84-.64-2.84-2.24 0-.48.08-1.04.28-1.76l-.44-.16c-1.44 3.12-3.56 4.48-6.56 4.48-4.12 0-6.76-2.28-6.76-5.76m8.12 2c2.639 0 4.519-1.92 4.519-4.96v-1.6l-4.36 1.04c-2.2.52-3.12 1.28-3.12 2.96s1.16 2.56 2.96 2.56M110.59 34.69l4.88-.96c.52 2.16 2.24 3.24 4.52 3.24 2.28 0 3.56-.92 3.56-2.48s-1.52-1.88-4.4-2.4c-3.64-.56-8.35-1.24-8.35-6.28 0-3.8 3.24-6.44 8.52-6.44 4.68 0 8.32 1.96 9.15 5.92l-4.92.8c-.44-2-2.08-3.04-4.24-3.04-2.36 0-3.48 1-3.48 2.36 0 1.56 1.56 1.88 4.44 2.4 3.6.56 8.32 1.24 8.32 6.28 0 3.96-3.2 6.6-8.6 6.6-4.88 0-8.52-2-9.4-6M136.94 40.21h-5.2V11.42h5.2v8.96c0 1.04-.2 2.04-.48 3.52l.48.16c1.24-2.96 3.12-4.68 6.6-4.68 4.44 0 6.8 2.8 6.8 7.56v13.27h-5.2V27.1c0-2.32-1.16-3.6-3.48-3.6-2.64 0-4.72 2-4.72 5.52zM161.01 35.05c0 .8.28 1.04.88 1.04h2.28v4.12h-4.72c-2.36 0-3.64-1.32-3.64-3.76V23.98h-2.88v-4.12h8.08zm-5.92-20.63c0-1.76 1.44-3.2 3.16-3.2 1.72 0 3.16 1.44 3.16 3.2 0 1.76-1.4 3.16-3.16 3.16-1.76 0-3.16-1.4-3.16-3.16M165.89 26.22c0-8.4 5.52-14.47 13.51-14.47 6.72 0 11.31 3.88 12.55 9.15l-5.28 1.28c-1-3.68-3.44-5.76-7.28-5.76-4.88 0-7.96 4.04-7.96 9.79 0 5.75 3.2 9.79 8.16 9.79 3.92 0 6.32-2.12 7.32-6.04l5 .56c-1.2 6.28-5.84 10.15-12.39 10.15-8.08 0-13.63-6.08-13.63-14.47zM194.08 30.01c0-6.2 4.36-10.63 10.39-10.63s10.39 4.44 10.39 10.63-4.36 10.67-10.39 10.67-10.39-4.48-10.39-10.67m15.59 0c0-3.84-2.04-6.4-5.2-6.4s-5.2 2.56-5.2 6.4c0 3.84 2.08 6.44 5.2 6.44s5.2-2.56 5.2-6.44M218.149 19.86h4.8v.8c0 1.08-.04 1.96-.36 3.6l.48.12c.76-2.68 2.16-4.52 5.44-4.52h1.48v5.04h-2.12c-2.92 0-4.52 1.76-4.52 5v10.31h-5.2zM232.43 19.86h5.12v.92c0 .92-.08 1.64-.36 3.28l.48.12c1.24-3.24 3.56-4.8 6.56-4.8 4.96 0 8.88 4.08 8.88 10.63 0 6.55-3.92 10.67-8.88 10.67-3 0-5.2-1.56-6.48-4.84l-.44.16c.24 1.6.32 2.36.32 3.24v9.15h-5.2V19.85zm15.51 10.15c0-3.96-2.16-6.4-5.2-6.4s-5.2 2.44-5.2 6.4c0 3.96 2.16 6.44 5.2 6.44s5.2-2.44 5.2-6.44"/></g><g><path d="M20.79.01.07 11.97v28.71l7.78 4.5V16.46l12.94-7.47z"/><path d="M29.06.01v22.87h-8.27v-8.54L13 18.84v29.3l7.79 4.5v-22.8h8.27v8.48l7.79-4.49V4.51z"/><path d="M29.06 52.65 49.78 40.7V11.99L42 7.49V36.2l-12.94 7.47z"/></g></g><defs><clipPath id="clip0_1743_1384"><path fill="#fff" d="M0 0h254v53H0z"/></clipPath></defs></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-97">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-106" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-106">(opens in new tab)</span></li></ul></footer></div></div></div><div class="style_root__owpNH"></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"QEMU Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"1b52e9c0-51d8-4c48-9180-912e75c3e887","slug":"qemu","name":"QEMU","description":"The Qemu Packer Plugin comes with a single builder able to create KVM virtual machine images.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"official","repo_url":"https://github.com/hashicorp/packer-plugin-qemu","subdirectory":"/.web-docs","created_at":"2023-06-15T19:03:02.511Z","updated_at":"2023-08-08T17:01:17.481Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.1.0","1.0.10","1.0.9"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[],"integration_type":null},"activeRelease":{"id":"f47be6aa-e92e-40b7-8849-3aa23b006eed","integration_id":"1b52e9c0-51d8-4c48-9180-912e75c3e887","version":"1.1.0","readme":"\nThe Qemu Packer Plugin comes with a single builder able to create KVM virtual machine images.\n\n\n### Installation\n\nTo install this plugin add this code into your Packer configuration and run [packer init](/packer/docs/commands/init)\n\n```hcl\npacker {\n  required_plugins {\n    qemu = {\n      version = \"~\u003e 1\"\n      source  = \"github.com/hashicorp/qemu\"\n    }\n  }\n}\n```\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\npacker plugins install github.com/hashicorp/qemu\n```\n\n### Components\n\n#### Builders\n\n- [qemu](/packer/integrations/hashicorp/qemu/latest/components/builder/qemu) - The QEMU builder is able to create [KVM](http://www.linux-kvm.org) virtual machine images.\n\n","created_at":"2024-03-21T16:19:01.492Z","updated_at":"2024-03-21T16:19:01.492Z","components":[{"id":"7eed5e89-edab-49b6-be78-dce2a60a2649","integration_release_id":"f47be6aa-e92e-40b7-8849-3aa23b006eed","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `qemu`\nArtifact BuilderId: `transcend.qemu`\n\nThe Qemu Packer builder is able to create [KVM](http://www.linux-kvm.org) virtual\nmachine images.\n\nThe builder builds a virtual machine by creating a new virtual machine from\nscratch, booting it, installing an OS, rebooting the machine with the boot media\nas the virtual hard drive, provisioning software within the OS, then shutting it\ndown. The result of the Qemu builder is a directory containing the image file\nnecessary to run the virtual machine on KVM.\n\n## Basic Example\n\nHere is a basic example. This example is functional so long as you fixup paths\nto files, URLS for ISOs and checksums.\n\n**HCL2**\n\n```hcl\nsource \"qemu\" \"example\" {\n  iso_url           = \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\"\n  iso_checksum      = \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\"\n  output_directory  = \"output_centos_tdhtest\"\n  shutdown_command  = \"echo 'packer' | sudo -S shutdown -P now\"\n  disk_size         = \"5000M\"\n  format            = \"qcow2\"\n  accelerator       = \"kvm\"\n  http_directory    = \"path/to/httpdir\"\n  ssh_username      = \"root\"\n  ssh_password      = \"s0m3password\"\n  ssh_timeout       = \"20m\"\n  vm_name           = \"tdhtest\"\n  net_device        = \"virtio-net\"\n  disk_interface    = \"virtio\"\n  boot_wait         = \"10s\"\n  boot_command      = [\"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"]\n}\n\nbuild {\n  sources = [\"source.qemu.example\"]\n}\n```\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"qemu\",\n      \"iso_url\": \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\",\n      \"iso_checksum\": \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\",\n      \"output_directory\": \"output_centos_tdhtest\",\n      \"shutdown_command\": \"echo 'packer' | sudo -S shutdown -P now\",\n      \"disk_size\": \"5000M\",\n      \"format\": \"qcow2\",\n      \"accelerator\": \"kvm\",\n      \"http_directory\": \"path/to/httpdir\",\n      \"ssh_username\": \"root\",\n      \"ssh_password\": \"s0m3password\",\n      \"ssh_timeout\": \"20m\",\n      \"vm_name\": \"tdhtest\",\n      \"net_device\": \"virtio-net\",\n      \"disk_interface\": \"virtio\",\n      \"boot_wait\": \"10s\",\n      \"boot_command\": [\n        \"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"\n      ]\n    }\n  ]\n}\n```\n\nThis is an example only, and will time out waiting for SSH because we have not\nprovided a kickstart file. You must add a valid kickstart file to the\n\"http_directory\" and then provide the file in the \"boot_command\" in order for\nthis build to run. We recommend you check out the\n[Community Templates](/community-tools#templates)\nfor a practical usage example.\n\nNote that you will need to set `\"headless\": true` if you are running Packer\non a Linux server without X11; or if you are connected via SSH to a remote\nLinux server and have not enabled X11 forwarding (`ssh -X`).\n\n## Qemu Specific Configuration Reference\n\nThere are many configuration options available for the builder. In addition to\nthe items listed here, you will want to look at the general configuration\nreferences for [ISO](#iso-configuration),\n[HTTP](#http-directory-configuration),\n[Floppy](#floppy-configuration),\n[Boot](#boot-configuration),\n[Shutdown](#shutdown-configuration),\n[Communicator](#communicator-configuration)\nconfiguration references, which are\nnecessary for this build to succeed and can be found further down the page.\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_skip_cache` (bool) - Use iso from provided url. Qemu must support\n  curl block device. This defaults to `false`.\n\n- `accelerator` (string) - The accelerator type to use when running the VM.\n  This may be `none`, `kvm`, `tcg`, `hax`, `hvf`, `whpx`, or `xen`. The appropriate\n  software must have already been installed on your build machine to use the\n  accelerator you specified. When no accelerator is specified, Packer will try\n  to use `kvm` if it is available but will default to `tcg` otherwise.\n  \n  ~\u003e The `hax` accelerator has issues attaching CDROM ISOs. This is an\n  upstream issue which can be tracked\n  [here](https://github.com/intel/haxm/issues/20).\n  \n  ~\u003e The `hvf` and `whpx` accelerator are new and experimental as of\n  [QEMU 2.12.0](https://wiki.qemu.org/ChangeLog/2.12#Host_support).\n  You may encounter issues unrelated to Packer when using these.  You may need to\n  add [ \"-global\", \"virtio-pci.disable-modern=on\" ] to `qemuargs` depending on the\n  guest operating system.\n  \n  ~\u003e HAXM is discontinued, and as of Qemu 8.0, the option is deprecated,\n  please consider using another accelerator.\n  \n  -\u003e As an alternative to setting `accelerator`, you can set the `machine` and `accel` args\n  directly using `qemuargs`. For example, to try potential accelerators in order, you could\n  use the following:\n  ```hcl\n  qemuargs = [\n    [\"-machine\", \"type=q35,accel=hvf:kvm:whpx:tcg\"],\n  ]\n\n- `disk_additional_size` ([]string) - Additional disks to create. Uses `vm_name` as the disk name template and\n  appends `-#` where `#` is the position in the array. `#` starts at 1 since 0\n  is the default disk. Each string represents the disk image size in bytes.\n  Optional suffixes 'k' or 'K' (kilobyte, 1024), 'M' (megabyte, 1024k), 'G'\n  (gigabyte, 1024M), 'T' (terabyte, 1024G), 'P' (petabyte, 1024T) and 'E'\n  (exabyte, 1024P)  are supported. 'b' is ignored. Per qemu-img documentation.\n  Each additional disk uses the same disk parameters as the default disk.\n  Unset by default.\n\n- `firmware` (string) - The firmware file to be used by QEMU.\n  If unset, QEMU will load its default firmware.\n  Also see the QEMU documentation.\n  \n  NOTE: when booting in UEFI mode, please use the `efi_` (see\n  [EFI Boot Configuration](#efi-boot-configuration)) options to\n  setup the firmware.\n\n- `use_pflash` (bool) - If a firmware file option was provided, this option can be\n  used to change how qemu will get it.\n  If false (the default), then the firmware is provided through\n  the -bios option, but if true, a pflash drive will be used\n  instead.\n  \n  NOTE: when booting in UEFI mode, please use the `efi_` (see\n  [EFI Boot Configuration](#efi-boot-configuration)) options to\n  setup the firmware.\n\n- `disk_interface` (string) - The interface to use for the disk. Allowed values include any of `ide`,\n  `sata`, `scsi`, `virtio` or `virtio-scsi`^\\*. Note also that any boot\n  commands or kickstart type scripts must have proper adjustments for\n  resulting device names. The Qemu builder uses `virtio` by default.\n  \n  ^\\* Please be aware that use of the `scsi` disk interface has been\n  disabled by Red Hat due to a bug described\n  [here](https://bugzilla.redhat.com/show_bug.cgi?id=1019220). If you are\n  running Qemu on RHEL or a RHEL variant such as CentOS, you *must* choose\n  one of the other listed interfaces. Using the `scsi` interface under\n  these circumstances will cause the build to fail.\n\n- `disk_size` (string) - The size in bytes of the hard disk of the VM. Suffix with the first\n  letter of common byte types. Use \"k\" or \"K\" for kilobytes, \"M\" for\n  megabytes, G for gigabytes, and T for terabytes. If no value is provided\n  for disk_size, Packer uses a default of `40960M` (40 GB). If a disk_size\n  number is provided with no units, Packer will default to Megabytes.\n\n- `skip_resize_disk` (bool) - Packer resizes the QCOW2 image using\n  qemu-img resize.  Set this option to true to disable resizing.\n  Defaults to false.\n\n- `disk_cache` (string) - The cache mode to use for disk. Allowed values include any of\n  `writethrough`, `writeback`, `none`, `unsafe` or `directsync`. By\n  default, this is set to `writeback`.\n\n- `disk_discard` (string) - The discard mode to use for disk. Allowed values\n  include any of unmap or ignore. By default, this is set to ignore.\n\n- `disk_detect_zeroes` (string) - The detect-zeroes mode to use for disk.\n  Allowed values include any of unmap, on or off. Defaults to off.\n  When the value is \"off\" we don't set the flag in the qemu command, so that\n  Packer still works with old versions of QEMU that don't have this option.\n\n- `skip_compaction` (bool) - Packer compacts the QCOW2 image using\n  qemu-img convert.  Set this option to true to disable compacting.\n  Defaults to false.\n\n- `disk_compression` (bool) - Apply compression to the QCOW2 disk file\n  using qemu-img convert. Defaults to false.\n\n- `format` (string) - Either `qcow2` or `raw`, this specifies the output format of the virtual\n  machine image. This defaults to `qcow2`. Due to a long-standing bug with\n  `qemu-img convert` on OSX, sometimes the qemu-img convert call will\n  create a corrupted image. If this is an issue for you, make sure that the\n  the output format matches the input file's format, and Packer will\n  perform a simple copy operation instead. See\n  https://bugs.launchpad.net/qemu/+bug/1776920 for more details.\n\n- `headless` (bool) - Packer defaults to building QEMU virtual machines by\n  launching a GUI that shows the console of the machine being built. When this\n  value is set to `true`, the machine will start without a console.\n  \n  You can still see the console if you make a note of the VNC display\n  number chosen, and then connect using `vncviewer -Shared \u003chost\u003e:\u003cdisplay\u003e`\n\n- `disk_image` (bool) - Packer defaults to building from an ISO file, this parameter controls\n  whether the ISO URL supplied is actually a bootable QEMU image. When\n  this value is set to `true`, the machine will either clone the source or\n  use it as a backing file (if `use_backing_file` is `true`); then, it\n  will resize the image according to `disk_size` and boot it.\n\n- `use_backing_file` (bool) - Only applicable when disk_image is true\n  and format is qcow2, set this option to true to create a new QCOW2\n  file that uses the file located at iso_url as a backing file. The new file\n  will only contain blocks that have changed compared to the backing file, so\n  enabling this option can significantly reduce disk usage. If true, Packer\n  will force the `skip_compaction` also to be true as well to skip disk\n  conversion which would render the backing file feature useless.\n\n- `machine_type` (string) - The type of machine emulation to use. Run your qemu binary with the\n  flags `-machine help` to list available types for your system. This\n  defaults to `pc`.\n  \n  NOTE: when booting a UEFI machine with Secure Boot enabled, this has\n  to be a q35 derivative.\n  If the machine is not a q35 derivative, nothing will boot (not even\n  an EFI shell).\n\n- `memory` (int) - The amount of memory to use when building the VM\n  in megabytes. This defaults to 512 megabytes.\n\n- `net_device` (string) - The driver to use for the network interface. Allowed values `ne2k_pci`,\n  `i82551`, `i82557b`, `i82559er`, `rtl8139`, `e1000`, `pcnet`, `virtio`,\n  `virtio-net`, `virtio-net-pci`, `usb-net`, `i82559a`, `i82559b`,\n  `i82559c`, `i82550`, `i82562`, `i82557a`, `i82557c`, `i82801`,\n  `vmxnet3`, `i82558a` or `i82558b`. The Qemu builder uses `virtio-net` by\n  default.\n\n- `net_bridge` (string) - Connects the network to this bridge instead of using the user mode\n  networking.\n  \n  **NB** This bridge must already exist. You can use the `virbr0` bridge\n  as created by vagrant-libvirt.\n  \n  **NB** This will automatically enable the QMP socket (see QMPEnable).\n  \n  **NB** This only works in Linux based OSes.\n\n- `output_directory` (string) - This is the path to the directory where the\n  resulting virtual machine will be created. This may be relative or absolute.\n  If relative, the path is relative to the working directory when packer\n  is executed. This directory must not exist or be empty prior to running\n  the builder. By default this is output-BUILDNAME where \"BUILDNAME\" is the\n  name of the build.\n\n- `qemuargs` ([][]string) - Allows complete control over the qemu command line (though not qemu-img).\n  Each array of strings makes up a command line switch\n  that overrides matching default switch/value pairs. Any value specified\n  as an empty string is ignored. All values after the switch are\n  concatenated with no separator.\n  \n  ~\u003e **Warning:** The qemu command line allows extreme flexibility, so\n  beware of conflicting arguments causing failures of your run.\n  For instance adding a \"--drive\" or \"--device\" override will mean that\n  none of the default configuration Packer sets will be used. To see the\n  defaults that Packer sets, look in your packer.log\n  file (set PACKER_LOG=1 to get verbose logging) and search for the\n  qemu-system-x86 command. The arguments are all printed for review, and\n  you can use those arguments along with the template engines allowed\n  by qemu-args to set up a working configuration that includes both the\n  Packer defaults and your extra arguments.\n  \n  Another pitfall could be setting arguments like --no-acpi, which could\n  break the ability to send power signal type commands\n  (e.g., shutdown -P now) to the virtual machine, thus preventing proper\n  shutdown.\n  \n  The following shows a sample usage:\n  \n  In HCL2:\n  ```hcl\n    qemuargs = [\n      [ \"-m\", \"1024M\" ],\n      [ \"--no-acpi\", \"\" ],\n      [\n        \"-netdev\",\n        \"user,id=mynet0,\",\n        \"hostfwd=hostip:hostport-guestip:guestport\",\n        \"\"\n      ],\n      [ \"-device\", \"virtio-net,netdev=mynet0\" ]\n    ]\n  ```\n  \n  In JSON:\n  ```json\n    \"qemuargs\": [\n      [ \"-m\", \"1024M\" ],\n      [ \"--no-acpi\", \"\" ],\n      [\n        \"-netdev\",\n        \"user,id=mynet0,\",\n        \"hostfwd=hostip:hostport-guestip:guestport\",\n        \"\"\n      ],\n      [ \"-device\", \"virtio-net,netdev=mynet0\" ]\n    ]\n  ```\n  \n  would produce the following (not including other defaults supplied by\n  the builder and not otherwise conflicting with the qemuargs):\n  \n  ```text\n  qemu-system-x86 -m 1024m --no-acpi -netdev\n  user,id=mynet0,hostfwd=hostip:hostport-guestip:guestport -device\n  virtio-net,netdev=mynet0\"\n  ```\n  \n  ~\u003e **Windows Users:** [QEMU for Windows](https://qemu.weilnetz.de/)\n  builds are available though an environmental variable does need to be\n  set for QEMU for Windows to redirect stdout to the console instead of\n  stdout.txt.\n  \n  The following shows the environment variable that needs to be set for\n  Windows QEMU support:\n  \n  ```text\n  setx SDL_STDIO_REDIRECT=0\n  ```\n  \n  You can also use the `SSHHostPort` template variable to produce a packer\n  template that can be invoked by `make` in parallel:\n  \n  In HCL2:\n  ```hcl\n    qemuargs = [\n      [ \"-netdev\", \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"],\n      [ \"-device\", \"virtio-net,netdev=forward,id=net0\"]\n    ]\n  ```\n  \n  In JSON:\n  ```json\n    \"qemuargs\": [\n      [ \"-netdev\", \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"],\n      [ \"-device\", \"virtio-net,netdev=forward,id=net0\"]\n    ]\n  ```\n  \n  `make -j 3 my-awesome-packer-templates` spawns 3 packer processes, each\n  of which will bind to their own SSH port as determined by each process.\n  This will also work with WinRM, just change the port forward in\n  `qemuargs` to map to WinRM's default port of `5985` or whatever value\n  you have the service set to listen on.\n  \n  This is a template engine and allows access to the following variables:\n  `{{ .HTTPIP }}`, `{{ .HTTPPort }}`, `{{ .HTTPDir }}`,\n  `{{ .OutputDir }}`, `{{ .Name }}`, and `{{ .SSHHostPort }}`\n\n- `qemu_img_args` (QemuImgArgs) - A map of custom arguments to pass to qemu-img commands, where the key\n  is the subcommand, and the values are lists of strings for each flag.\n  Example:\n  \n  In HCL:\n  ```hcl\n  qemu_img_args {\n   convert = [\"-o\", \"preallocation=full\"]\n   resize  = [\"-foo\", \"bar\"]\n  }\n  ```\n  In JSON:\n  ```json\n  {\n   \"qemu_img_args\": {\n     \"convert\": [\"-o\", \"preallocation=full\"],\n  \t  \"resize\": [\"-foo\", \"bar\"]\n   }\n  ```\n  Please note\n  that unlike qemuargs, these commands are not split into switch-value\n  sub-arrays, because the basic elements in qemu-img calls are  unlikely\n  to need an actual override.\n  The arguments will be constructed as follows:\n  - Convert:\n  \tDefault is `qemu-img convert -O $format $sourcepath $targetpath`. Adding\n  \targuments [\"-foo\", \"bar\"] to qemu_img_args.convert will change this to\n  \t`qemu-img convert -foo bar -O $format $sourcepath $targetpath`\n  - Create:\n  \tDefault is `create -f $format $targetpath $size`. Adding arguments\n  \t[\"-foo\", \"bar\"] to qemu_img_args.create will change this to\n  \t\"create -f qcow2 -foo bar target.qcow2 1234M\"\n  - Resize:\n  \tDefault is `qemu-img resize -f $format $sourcepath $size`. Adding\n  \targuments [\"-foo\", \"bar\"] to qemu_img_args.resize will change this to\n  \t`qemu-img resize -f $format -foo bar $sourcepath $size`\n\n- `qemu_binary` (string) - The name of the Qemu binary to look for. This\n  defaults to qemu-system-x86_64, but may need to be changed for\n  some platforms. For example qemu-kvm, or qemu-system-i386 may be a\n  better choice for some systems.\n\n- `qmp_enable` (bool) - Enable QMP socket. Location is specified by `qmp_socket_path`. Defaults\n  to false.\n\n- `qmp_socket_path` (string) - QMP Socket Path when `qmp_enable` is true. Defaults to\n  `output_directory`/`vm_name`.monitor.\n\n- `use_default_display` (bool) - If true, do not pass a -display option\n  to qemu, allowing it to choose the default. This may be needed when running\n  under macOS, and getting errors about sdl not being available.\n\n- `vga` (string) - The type of VGA card to emulate. If undefined, this will not be included\n  in the command-line, and the default qemu value for the emulated machine\n  will be picked.\n\n- `display` (string) - What QEMU -display option to use. Defaults to gtk, use none to not pass the\n  -display option allowing QEMU to choose the default. This may be needed when\n  running under macOS, and getting errors about sdl not being available.\n\n- `vnc_bind_address` (string) - The IP address that should be\n  binded to for VNC. By default packer will use 127.0.0.1 for this. If you\n  wish to bind to all interfaces use 0.0.0.0.\n\n- `vnc_use_password` (bool) - Whether or not to set a password on the VNC server. This option\n  automatically enables the QMP socket. See `qmp_socket_path`. Defaults to\n  `false`.\n\n- `vnc_port_min` (int) - The minimum and maximum port\n  to use for VNC access to the virtual machine. The builder uses VNC to type\n  the initial boot_command. Because Packer generally runs in parallel,\n  Packer uses a randomly chosen port in this range that appears available. By\n  default this is 5900 to 6000. The minimum and maximum ports are inclusive.\n  The minimum port cannot be set below 5900 due to a quirk in how QEMU parses\n  vnc display address.\n\n- `vnc_port_max` (int) - VNC Port Max\n\n- `vm_name` (string) - This is the name of the image (QCOW2 or IMG) file for\n  the new virtual machine. By default this is packer-BUILDNAME, where\n  \"BUILDNAME\" is the name of the build. Currently, no file extension will be\n  used unless it is specified in this option.\n\n- `cdrom_interface` (string) - The interface to use for the CDROM device which contains the ISO image.\n  Allowed values include any of `ide`, `scsi`, `virtio` or\n  `virtio-scsi`. The Qemu builder uses `virtio` by default.\n  Some ARM64 images require `virtio-scsi`.\n\n- `vtpm` (bool) - Use a virtual (emulated) TPM device to expose to the VM.\n\n- `use_tpm1` (bool) - Use version 1.2 of the TPM specification for the emulated TPM.\n  \n  By default, we use version 2.0 of the TPM specs for the emulated TPM,\n  if you want to force version 1.2, set this option to true.\n\n- `tpm_device_type` (string) - The TPM device type to inject in the qemu command-line\n  \n  This is required to be specified for some platforms, as the device has to\n  behave differently depending on the architecture.\n  \n  As per the docs:\n  \n   * x86: tpm-tis (default)\n   * ARM: tpm-tis-device\n   * PPC (p-series): tpm-spapr\n\n- `boot_steps` ([][]string) - This is an array of tuples of boot commands, to type when the virtual\n  machine is booted. The first element of the tuple is the actual boot\n  command. The second element of the tuple, which is optional, is a\n  description of what the boot command does. This is intended to be used for\n  interactive installers that requires many commands to complete the\n  installation. Both the command and the description will be printed when\n  logging is enabled. When debug mode is enabled Packer will pause after\n  typing each boot command. This will make it easier to follow along the\n  installation process and make sure the Packer and the installer are in\n  sync. `boot_steps` and `boot_commands` are mutually exclusive.\n  \n  Example:\n  \n  In HCL:\n  ```hcl\n  boot_steps = [\n    [\"1\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD\"],\n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Installation messages in English\"],\n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Keyboard type: unchanged\"],\n  \n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD to hard disk\"],\n    [\"b\u003center\u003e\u003cwait5\u003e\", \"Yes\"]\n  ]\n  ```\n  \n  In JSON:\n  ```json\n  {\n    \"boot_steps\": [\n      [\"1\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD\"],\n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Installation messages in English\"],\n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Keyboard type: unchanged\"],\n  \n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD to hard disk\"],\n      [\"b\u003center\u003e\u003cwait5\u003e\", \"Yes\"]\n    ]\n  }\n  ```\n\n- `cpu_model` (string) - The CPU model is what will be used by qemu for booting the virtual machine\n  and determine which features of a specific model/family of processors\n  is supported.\n  \n  Any string is supported here, and to see which models are supported\n  by qemu for a specific architecture, refer to `qemu -cpu help`\n  \n  The default value here is that no cpu option will be passed through to qemu,\n  therefore it will default to whichever CPU model is the default for the\n  targetted system (on x86_64 for example, it will be qemu64)\n  \n  NOTE: RHEL9 removed support for `qemu64` in their distributed qemu package,\n  forcing users of RHEL9 on x86_64 systems to define this. \"host\" is a\n  reasonable value if using an hypervisor.\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/qemu/config.go; --\u003e\n\n\n## ISO Configuration\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nBy default, Packer will symlink, download or copy image files to the Packer\ncache into a \"`hash($iso_url+$iso_checksum).$iso_target_extension`\" file.\nPacker uses [hashicorp/go-getter](https://github.com/hashicorp/go-getter) in\nfile mode in order to perform a download.\n\ngo-getter supports the following protocols:\n\n* Local files\n* Git\n* Mercurial\n* HTTP\n* Amazon S3\n\nExamples:\ngo-getter can guess the checksum type based on `iso_checksum` length, and it is\nalso possible to specify the checksum type.\n\nIn JSON:\n\n```json\n\n\t\"iso_checksum\": \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file://./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\nIn HCL2:\n\n```hcl\n\n\tiso_checksum = \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file://./shasums.txt\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:./shasums.txt\",\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n### Required:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_checksum` (string) - The checksum for the ISO file or virtual hard drive file. The type of\n  the checksum is specified within the checksum field as a prefix, ex:\n  \"md5:{$checksum}\". The type of the checksum can also be omitted and\n  Packer will try to infer it based on string length. Valid values are\n  \"none\", \"{$checksum}\", \"md5:{$checksum}\", \"sha1:{$checksum}\",\n  \"sha256:{$checksum}\", \"sha512:{$checksum}\" or \"file:{$path}\". Here is a\n  list of valid checksum values:\n   * md5:090992ba9fd140077b0661cb75f7ce13\n   * 090992ba9fd140077b0661cb75f7ce13\n   * sha1:ebfb681885ddf1234c18094a45bbeafd91467911\n   * ebfb681885ddf1234c18094a45bbeafd91467911\n   * sha256:ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * file:http://releases.ubuntu.com/20.04/SHA256SUMS\n   * file:file://./local/path/file.sum\n   * file:./local/path/file.sum\n   * none\n  Although the checksum will not be verified when it is set to \"none\",\n  this is not recommended since these files can be very large and\n  corruption does happen from time to time.\n\n- `iso_url` (string) - A URL to the ISO containing the installation image or virtual hard drive\n  (VHD or VHDX) file to clone.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_urls` ([]string) - Multiple URLs for the ISO to download. Packer will try these in order.\n  If anything goes wrong attempting to download or while downloading a\n  single URL, it will move on to the next. All URLs must point to the same\n  file (same checksum). By default this is empty and `iso_url` is used.\n  Only one of `iso_url` or `iso_urls` can be specified.\n\n- `iso_target_path` (string) - The path where the iso should be saved after download. By default will\n  go in the packer cache, with a hash of the original filename and\n  checksum as its name.\n\n- `iso_target_extension` (string) - The extension of the iso file after download. This defaults to `iso`.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n## Http directory configuration\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\nPacker will create an http server serving `http_directory` when it is set, a\nrandom free port will be selected and the architecture of the directory\nreferenced will be available in your builder.\n\nExample usage from a builder:\n\n```\nwget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg\n```\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_directory` (string) - Path to a directory to serve using an HTTP server. The files in this\n  directory will be available over HTTP that will be requestable from the\n  virtual machine. This is useful for hosting kickstart files and so on.\n  By default this is an empty string, which means no HTTP server will be\n  started. The address and port of the HTTP server will be available as\n  variables in `boot_command`. This is covered in more detail below.\n\n- `http_content` (map[string]string) - Key/Values to serve using an HTTP server. `http_content` works like and\n  conflicts with `http_directory`. The keys represent the paths and the\n  values contents, the keys must start with a slash, ex: `/path/to/file`.\n  `http_content` is useful for hosting kickstart files and so on. By\n  default this is empty, which means no HTTP server will be started. The\n  address and port of the HTTP server will be available as variables in\n  `boot_command`. This is covered in more detail below.\n  Example:\n  ```hcl\n    http_content = {\n      \"/a/b\"     = file(\"http/b\")\n      \"/foo/bar\" = templatefile(\"${path.root}/preseed.cfg\", { packages = [\"nginx\"] })\n    }\n  ```\n\n- `http_port_min` (int) - These are the minimum and maximum port to use for the HTTP server\n  started to serve the `http_directory`. Because Packer often runs in\n  parallel, Packer will choose a randomly available port in this range to\n  run the HTTP server. If you want to force the HTTP server to be on one\n  port, make this minimum and maximum port the same. By default the values\n  are `8000` and `9000`, respectively.\n\n- `http_port_max` (int) - HTTP Port Max\n\n- `http_bind_address` (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that\n  it will work with any network interface.\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n## Floppy configuration\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; DO NOT EDIT MANUALLY --\u003e\n\nA floppy can be made available for your build. This is most useful for\nunattended Windows installs, which look for an Autounattend.xml file on\nremovable media. By default, no floppy will be attached. All files listed in\nthis setting get placed into the root directory of the floppy and the floppy\nis attached as the first floppy device. The summary size of the listed files\nmust not exceed 1.44 MB. The supported ways to move large files into the OS\nare using `http_directory` or [the file\nprovisioner](/packer/docs/provisioner/file).\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `floppy_files` ([]string) - A list of files to place onto a floppy disk that is attached when the VM\n  is booted. Currently, no support exists for creating sub-directories on\n  the floppy. Wildcard characters (\\\\*, ?, and \\[\\]) are allowed. Directory\n  names are also allowed, which will add all the files found in the\n  directory to the floppy.\n\n- `floppy_dirs` ([]string) - A list of directories to place onto the floppy disk recursively. This is\n  similar to the `floppy_files` option except that the directory structure\n  is preserved. This is useful for when your floppy disk includes drivers\n  or if you just want to organize it's contents as a hierarchy. Wildcard\n  characters (\\\\*, ?, and \\[\\]) are allowed. The maximum summary size of\n  all files in the listed directories are the same as in `floppy_files`.\n\n- `floppy_content` (map[string]string) - Key/Values to add to the floppy disk. The keys represent the paths, and\n  the values contents. It can be used alongside `floppy_files` or\n  `floppy_dirs`, which is useful to add large files without loading them\n  into memory. If any paths are specified by both, the contents in\n  `floppy_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  floppy_files = [\"vendor-data\"]\n  floppy_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  floppy_label = \"cidata\"\n  ```\n\n- `floppy_label` (string) - Floppy Label\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; --\u003e\n\n\n### CD configuration\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nAn iso (CD) containing custom files can be made available for your build.\n\nBy default, no extra CD will be attached. All files listed in this setting\nget placed into the root directory of the CD and the CD is attached as the\nsecond CD device.\n\nThis config exists to work around modern operating systems that have no\nway to mount floppy disks, which was our previous go-to for adding files at\nboot time.\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cd_files` ([]string) - A list of files to place onto a CD that is attached when the VM is\n  booted. This can include either files or directories; any directories\n  will be copied onto the CD recursively, preserving directory structure\n  hierarchy. Symlinks will have the link's target copied into the directory\n  tree on the CD where the symlink was. File globbing is allowed.\n  \n  Usage example (JSON):\n  \n  ```json\n  \"cd_files\": [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"],\n  \"cd_label\": \"cidata\",\n  ```\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"]\n  cd_label = \"cidata\"\n  ```\n  \n  The above will create a CD with two files, user-data and meta-data in the\n  CD root. This specific example is how you would create a CD that can be\n  used for an Ubuntu 20.04 autoinstall.\n  \n  Since globbing is also supported,\n  \n  ```hcl\n  cd_files = [\"./somedirectory/*\"]\n  cd_label = \"cidata\"\n  ```\n  \n  Would also be an acceptable way to define the above cd. The difference\n  between providing the directory with or without the glob is whether the\n  directory itself or its contents will be at the CD root.\n  \n  Use of this option assumes that you have a command line tool installed\n  that can handle the iso creation. Packer will use one of the following\n  tools:\n  \n    * xorriso\n    * mkisofs\n    * hdiutil (normally found in macOS)\n    * oscdimg (normally found in Windows as part of the Windows ADK)\n\n- `cd_content` (map[string]string) - Key/Values to add to the CD. The keys represent the paths, and the values\n  contents. It can be used alongside `cd_files`, which is useful to add large\n  files without loading them into memory. If any paths are specified by both,\n  the contents in `cd_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"vendor-data\"]\n  cd_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  cd_label = \"cidata\"\n  ```\n\n- `cd_label` (string) - CD Label\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n## Shutdown configuration\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the ShutdownConfig struct in shutdowncommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `shutdown_command` (string) - The command to use to gracefully shut down the machine once all\n  provisioning is complete. By default this is an empty string, which\n  tells Packer to just forcefully shut down the machine. This setting can\n  be safely omitted if for example, a shutdown command to gracefully halt\n  the machine is configured inside a provisioning script. If one or more\n  scripts require a reboot it is suggested to leave this blank (since\n  reboots may fail) and instead specify the final shutdown command in your\n  last script.\n\n- `shutdown_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait after executing the shutdown_command for the\n  virtual machine to actually shut down. If the machine doesn't shut down\n  in this time it is considered an error. By default, the time out is \"5m\"\n  (five minutes).\n\n\u003c!-- End of code generated from the comments of the ShutdownConfig struct in shutdowncommand/config.go; --\u003e\n\n\n## Communicator configuration\n\n### Optional common fields:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the CommConfig struct in builder/qemu/comm_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `host_port_min` (int) - The minimum port to use for the Communicator port on the host machine which is forwarded\n  to the SSH or WinRM port on the guest machine. By default this is 2222.\n\n- `host_port_max` (int) - The maximum port to use for the Communicator port on the host machine which is forwarded\n  to the SSH or WinRM port on the guest machine. Because Packer often runs in parallel,\n  Packer will choose a randomly available port in this range to use as the\n  host port. By default this is 4444.\n\n- `skip_nat_mapping` (bool) - Defaults to false. When enabled, Packer\n  does not setup forwarded port mapping for communicator (SSH or WinRM) requests and uses ssh_port or winrm_port\n  on the host to communicate to the virtual machine.\n\n\u003c!-- End of code generated from the comments of the CommConfig struct in builder/qemu/comm_config.go; --\u003e\n\n\n### Optional SSH fields:\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_protocol = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n### Optional WinRM fields:\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n## Boot Configuration\n\n\u003c!-- Code generated from the comments of the VNCConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot command \"typed\" character for character over a VNC connection to\nthe machine, simulating a human actually typing the keyboard.\n\nKeystrokes are typed as separate key up/down events over VNC with a default\n100ms delay. The delay alleviates issues with latency and CPU contention.\nYou can tune this delay on a per-builder basis by specifying\n\"boot_key_interval\" in your Packer template.\n\n\u003c!-- End of code generated from the comments of the VNCConfig struct in bootcommand/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot configuration is very important: `boot_command` specifies the keys\nto type when the virtual machine is first booted in order to start the OS\ninstaller. This command is typed after boot_wait, which gives the virtual\nmachine some time to actually load.\n\nThe boot_command is an array of strings. The strings are all typed in\nsequence. It is an array only to improve readability within the template.\n\nThere are a set of special keys available. If these are in your boot\ncommand, they will be replaced by the proper key:\n\n-   `\u003cbs\u003e` - Backspace\n\n-   `\u003cdel\u003e` - Delete\n\n-   `\u003center\u003e \u003creturn\u003e` - Simulates an actual \"enter\" or \"return\" keypress.\n\n-   `\u003cesc\u003e` - Simulates pressing the escape key.\n\n-   `\u003ctab\u003e` - Simulates pressing the tab key.\n\n-   `\u003cf1\u003e - \u003cf12\u003e` - Simulates pressing a function key.\n\n-   `\u003cup\u003e \u003cdown\u003e \u003cleft\u003e \u003cright\u003e` - Simulates pressing an arrow key.\n\n-   `\u003cspacebar\u003e` - Simulates pressing the spacebar.\n\n-   `\u003cinsert\u003e` - Simulates pressing the insert key.\n\n-   `\u003chome\u003e \u003cend\u003e` - Simulates pressing the home and end keys.\n\n  - `\u003cpageUp\u003e \u003cpageDown\u003e` - Simulates pressing the page up and page down\n    keys.\n\n-   `\u003cmenu\u003e` - Simulates pressing the Menu key.\n\n-   `\u003cleftAlt\u003e \u003crightAlt\u003e` - Simulates pressing the alt key.\n\n-   `\u003cleftCtrl\u003e \u003crightCtrl\u003e` - Simulates pressing the ctrl key.\n\n-   `\u003cleftShift\u003e \u003crightShift\u003e` - Simulates pressing the shift key.\n\n-   `\u003cleftSuper\u003e \u003crightSuper\u003e` - Simulates pressing the  or Windows key.\n\n  - `\u003cwait\u003e \u003cwait5\u003e \u003cwait10\u003e` - Adds a 1, 5 or 10 second pause before\n    sending any additional keys. This is useful if you have to generally\n    wait for the UI to update before typing more.\n\n  - `\u003cwaitXX\u003e` - Add an arbitrary pause before sending any additional keys.\n    The format of `XX` is a sequence of positive decimal numbers, each with\n    optional fraction and a unit suffix, such as `300ms`, `1.5h` or `2h45m`.\n    Valid time units are `ns`, `us` (or `s`), `ms`, `s`, `m`, `h`. For\n    example `\u003cwait10m\u003e` or `\u003cwait1m20s\u003e`.\n\n  - `\u003cXXXOn\u003e \u003cXXXOff\u003e` - Any printable keyboard character, and of these\n    \"special\" expressions, with the exception of the `\u003cwait\u003e` types, can\n    also be toggled on or off. For example, to simulate ctrl+c, use\n    `\u003cleftCtrlOn\u003ec\u003cleftCtrlOff\u003e`. Be sure to release them, otherwise they\n    will be held down until the machine reboots. To hold the `c` key down,\n    you would use `\u003ccOn\u003e`. Likewise, `\u003ccOff\u003e` to release.\n\n  - `{{ .HTTPIP }} {{ .HTTPPort }}` - The IP and port, respectively of an\n    HTTP server that is started serving the directory specified by the\n    `http_directory` configuration parameter. If `http_directory` isn't\n    specified, these will be blank!\n\n-   `{{ .Name }}` - The name of the VM.\n\nExample boot command. This is actually a working boot command used to start an\nCentOS 6.4 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nThe example shown below is a working boot command used to start an Ubuntu\n12.04 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nFor more examples of various boot commands, see the sample projects from our\n[community templates page](https://packer.io/community-tools#templates).\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the VNCConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disable_vnc` (bool) - Whether to create a VNC connection or not. A boot_command cannot be used\n  when this is true. Defaults to false.\n\n- `boot_key_interval` (duration string | ex: \"1h5m2s\") - Time in ms to wait between each key press\n\n\u003c!-- End of code generated from the comments of the VNCConfig struct in bootcommand/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_keygroup_interval` (duration string | ex: \"1h5m2s\") - Time to wait after sending a group of key pressses. The value of this\n  should be a duration. Examples are `5s` and `1m30s` which will cause\n  Packer to wait five seconds and one minute 30 seconds, respectively. If\n  this isn't specified, a sensible default value is picked depending on\n  the builder type.\n\n- `boot_wait` (duration string | ex: \"1h5m2s\") - The time to wait after booting the initial virtual machine before typing\n  the `boot_command`. The value of this should be a duration. Examples are\n  `5s` and `1m30s` which will cause Packer to wait five seconds and one\n  minute 30 seconds, respectively. If this isn't specified, the default is\n  `10s` or 10 seconds. To set boot_wait to 0s, use a negative number, such\n  as \"-1s\"\n\n- `boot_command` ([]string) - This is an array of commands to type when the virtual machine is first\n  booted. The goal of these commands should be to type just enough to\n  initialize the operating system installer. Special keys can be typed as\n  well, and are covered in the section below on the boot command. If this\n  is not specified, it is assumed the installer will start itself.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n## EFI Boot Configuration\n\n\u003c!-- Code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\nBooting in EFI mode\n\nUse these options if wanting to boot on a UEFI firmware, as the options to\ndo so are different from what BIOS (default) booting will require.\n\n\u003c!-- End of code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `efi_boot` (bool) - Boot in EFI mode instead of BIOS. This is required for more modern\n  guest OS. If either or both of `efi_firmware_code` or\n  `efi_firmware_vars` are defined, this will implicitely be set to `true`.\n  \n  NOTE: when using a Secure-Boot enabled firmware, the machine type has\n  to be q35, otherwise qemu will not boot.\n\n- `efi_firmware_code` (string) - Path to the CODE part of OVMF (or other compatible firmwares)\n  The OVMF_CODE.fd file contains the bootstrap code for booting in EFI\n  mode, and requires a separate VARS.fd file to be able to persist data\n  between boot cycles.\n  \n  Default: `/usr/share/OVMF/OVMF_CODE.fd`\n\n- `efi_firmware_vars` (string) - Path to the VARS corresponding to the OVMF code file.\n  \n  Default: `/usr/share/OVMF/OVMF_VARS.fd`\n\n- `efi_drop_efivars` (bool) - Drop the efivars.fd file in the exported artifact.\n  \n  In addition to the disks created by the builder, we also expose the\n  `efivars.fd` file if the image was booted with UEFI enabled.\n  \n  However, if the output is consumed by a post-processor (like AWS,\n  GCP, etc.), this may not be supported by the code, and since the file\n  is not a disk image, this will error.\n  This option can then be used to remove the `efivars.fd` from the\n  artifact produced by the builder, so it only lists the disks produced\n  instead.\n\n\u003c!-- End of code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; --\u003e\n\n\n## SMP Configuration\n\n\u003c!-- Code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\nQemuSMPConfig sets the smp configuration option for the Qemu command-line\n\nThe smp option sets the number of vCPUs to expose to the VM, the final\nnumber of available vCPUs is `sockets * cores * threads`.\n\n\u003c!-- End of code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cpus` (int) - The number of virtual cpus to use when building the VM.\n  \n  If undefined, the value will either be `1`, or the product of\n  `sockets * cores * threads`\n  \n  If this is defined in conjunction with any topology specifier (sockets,\n  cores and/or threads), the smallest of the two will be used.\n  \n  If the cpu count is the only thing specified, qemu's default behaviour\n  regarding topology will be applied.\n  The behaviour depends on the version of qemu; before version 6.2, sockets\n  were preferred to cores, from version 6.2 onwards, cores are preferred.\n\n- `sockets` (int) - The number of sockets to use when building the VM.\n   The default is `1` socket.\n   The socket count must not be higher than the CPU count.\n\n- `cores` (int) - The number of cores per CPU to use when building the VM.\n   The default is `1` core per CPU.\n\n- `threads` (int) - The number of threads per core to use when building the VM.\n   The default is `1` thread per core.\n\n\u003c!-- End of code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Communicator Configuration\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n### SSH key pair automation\n\nThe QEMU builder can inject the current SSH key pair's public key into\nthe template using the `SSHPublicKey` template engine. This is the SSH public\nkey as a line in OpenSSH authorized_keys format.\n\nWhen a private key is provided using `ssh_private_key_file`, the key's\ncorresponding public key can be accessed using the above engine.\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\nIf `ssh_password` and `ssh_private_key_file` are not specified, Packer will\nautomatically generate en ephemeral key pair. The key pair's public key can\nbe accessed using the template engine.\n\nFor example, the public key can be provided in the boot command as a URL\nencoded string by appending `| urlquery` to the variable:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"\n]\n```\n\nA kickstart could then leverage those fields from the kernel command line by\ndecoding the URL-encoded public key:\n\n```shell\n%post\n\n# Newly created users need the file/folder framework for SSH key authentication.\numask 0077\nmkdir /etc/skel/.ssh\ntouch /etc/skel/.ssh/authorized_keys\n\n# Loop over the command line. Set interesting variables.\nfor x in $(cat /proc/cmdline)\ndo\n  case $x in\n    PACKER_USER=*)\n      PACKER_USER=\"${x#*=}\"\n      ;;\n    PACKER_AUTHORIZED_KEY=*)\n      # URL decode $encoded into $PACKER_AUTHORIZED_KEY\n      encoded=$(echo \"${x#*=}\" | tr '+' ' ')\n      printf -v PACKER_AUTHORIZED_KEY '%b' \"${encoded//%/\\\\x}\"\n      ;;\n  esac\ndone\n\n# Create/configure packer user, if any.\nif [ -n \"$PACKER_USER\" ]\nthen\n  useradd $PACKER_USER\n  echo \"%$PACKER_USER ALL=(ALL) NOPASSWD: ALL\" \u003e\u003e /etc/sudoers.d/$PACKER_USER\n  [ -n \"$PACKER_AUTHORIZED_KEY\" ] \u0026\u0026 echo $PACKER_AUTHORIZED_KEY \u003e\u003e $(eval echo ~\"$PACKER_USER\")/.ssh/authorized_keys\nfi\n\n%end\n```\n\n### Troubleshooting\n\n#### Invalid Keymaps\n\nSome users have experienced errors complaining about invalid keymaps. This\nseems to be related to having a `common` directory or file in the directory\nthey've run Packer in, like the Packer source directory. This appears to be an\nupstream bug with qemu, and the best solution for now is to remove the\nfile/directory or run in another directory.\n\nSome users have reported issues with incorrect keymaps using qemu version 2.11.\nThis is a bug with qemu, and the solution is to upgrade, or downgrade to 2.10.1\nor earlier.\n\n#### Corrupted image after Packer calls qemu-img convert on OSX\n\nDue to an upstream bug with `qemu-img convert` on OSX, sometimes the qemu-img\nconvert call will create a corrupted image. If this is an issue for you, make\nsure that the the output format (provided using the option `format`) matches\nthe input file's format and file extension, and Packer will\nperform a simple copy operation instead. You will also want to set\n`\"skip_compaction\": true,` and `\"disk_compression\": false` to skip a final\nimage conversion at the end of the build. See\nhttps://bugs.launchpad.net/qemu/+bug/1776920 for more details.\n","created_at":"2024-03-21T16:19:01.709Z","updated_at":"2024-03-21T16:19:01.709Z","name":"QEMU","slug":"qemu","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"component":{"id":"7eed5e89-edab-49b6-be78-dce2a60a2649","integration_release_id":"f47be6aa-e92e-40b7-8849-3aa23b006eed","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `qemu`\nArtifact BuilderId: `transcend.qemu`\n\nThe Qemu Packer builder is able to create [KVM](http://www.linux-kvm.org) virtual\nmachine images.\n\nThe builder builds a virtual machine by creating a new virtual machine from\nscratch, booting it, installing an OS, rebooting the machine with the boot media\nas the virtual hard drive, provisioning software within the OS, then shutting it\ndown. The result of the Qemu builder is a directory containing the image file\nnecessary to run the virtual machine on KVM.\n\n## Basic Example\n\nHere is a basic example. This example is functional so long as you fixup paths\nto files, URLS for ISOs and checksums.\n\n**HCL2**\n\n```hcl\nsource \"qemu\" \"example\" {\n  iso_url           = \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\"\n  iso_checksum      = \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\"\n  output_directory  = \"output_centos_tdhtest\"\n  shutdown_command  = \"echo 'packer' | sudo -S shutdown -P now\"\n  disk_size         = \"5000M\"\n  format            = \"qcow2\"\n  accelerator       = \"kvm\"\n  http_directory    = \"path/to/httpdir\"\n  ssh_username      = \"root\"\n  ssh_password      = \"s0m3password\"\n  ssh_timeout       = \"20m\"\n  vm_name           = \"tdhtest\"\n  net_device        = \"virtio-net\"\n  disk_interface    = \"virtio\"\n  boot_wait         = \"10s\"\n  boot_command      = [\"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"]\n}\n\nbuild {\n  sources = [\"source.qemu.example\"]\n}\n```\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"qemu\",\n      \"iso_url\": \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\",\n      \"iso_checksum\": \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\",\n      \"output_directory\": \"output_centos_tdhtest\",\n      \"shutdown_command\": \"echo 'packer' | sudo -S shutdown -P now\",\n      \"disk_size\": \"5000M\",\n      \"format\": \"qcow2\",\n      \"accelerator\": \"kvm\",\n      \"http_directory\": \"path/to/httpdir\",\n      \"ssh_username\": \"root\",\n      \"ssh_password\": \"s0m3password\",\n      \"ssh_timeout\": \"20m\",\n      \"vm_name\": \"tdhtest\",\n      \"net_device\": \"virtio-net\",\n      \"disk_interface\": \"virtio\",\n      \"boot_wait\": \"10s\",\n      \"boot_command\": [\n        \"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"\n      ]\n    }\n  ]\n}\n```\n\nThis is an example only, and will time out waiting for SSH because we have not\nprovided a kickstart file. You must add a valid kickstart file to the\n\"http_directory\" and then provide the file in the \"boot_command\" in order for\nthis build to run. We recommend you check out the\n[Community Templates](/community-tools#templates)\nfor a practical usage example.\n\nNote that you will need to set `\"headless\": true` if you are running Packer\non a Linux server without X11; or if you are connected via SSH to a remote\nLinux server and have not enabled X11 forwarding (`ssh -X`).\n\n## Qemu Specific Configuration Reference\n\nThere are many configuration options available for the builder. In addition to\nthe items listed here, you will want to look at the general configuration\nreferences for [ISO](#iso-configuration),\n[HTTP](#http-directory-configuration),\n[Floppy](#floppy-configuration),\n[Boot](#boot-configuration),\n[Shutdown](#shutdown-configuration),\n[Communicator](#communicator-configuration)\nconfiguration references, which are\nnecessary for this build to succeed and can be found further down the page.\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_skip_cache` (bool) - Use iso from provided url. Qemu must support\n  curl block device. This defaults to `false`.\n\n- `accelerator` (string) - The accelerator type to use when running the VM.\n  This may be `none`, `kvm`, `tcg`, `hax`, `hvf`, `whpx`, or `xen`. The appropriate\n  software must have already been installed on your build machine to use the\n  accelerator you specified. When no accelerator is specified, Packer will try\n  to use `kvm` if it is available but will default to `tcg` otherwise.\n  \n  ~\u003e The `hax` accelerator has issues attaching CDROM ISOs. This is an\n  upstream issue which can be tracked\n  [here](https://github.com/intel/haxm/issues/20).\n  \n  ~\u003e The `hvf` and `whpx` accelerator are new and experimental as of\n  [QEMU 2.12.0](https://wiki.qemu.org/ChangeLog/2.12#Host_support).\n  You may encounter issues unrelated to Packer when using these.  You may need to\n  add [ \"-global\", \"virtio-pci.disable-modern=on\" ] to `qemuargs` depending on the\n  guest operating system.\n  \n  ~\u003e HAXM is discontinued, and as of Qemu 8.0, the option is deprecated,\n  please consider using another accelerator.\n  \n  -\u003e As an alternative to setting `accelerator`, you can set the `machine` and `accel` args\n  directly using `qemuargs`. For example, to try potential accelerators in order, you could\n  use the following:\n  ```hcl\n  qemuargs = [\n    [\"-machine\", \"type=q35,accel=hvf:kvm:whpx:tcg\"],\n  ]\n\n- `disk_additional_size` ([]string) - Additional disks to create. Uses `vm_name` as the disk name template and\n  appends `-#` where `#` is the position in the array. `#` starts at 1 since 0\n  is the default disk. Each string represents the disk image size in bytes.\n  Optional suffixes 'k' or 'K' (kilobyte, 1024), 'M' (megabyte, 1024k), 'G'\n  (gigabyte, 1024M), 'T' (terabyte, 1024G), 'P' (petabyte, 1024T) and 'E'\n  (exabyte, 1024P)  are supported. 'b' is ignored. Per qemu-img documentation.\n  Each additional disk uses the same disk parameters as the default disk.\n  Unset by default.\n\n- `firmware` (string) - The firmware file to be used by QEMU.\n  If unset, QEMU will load its default firmware.\n  Also see the QEMU documentation.\n  \n  NOTE: when booting in UEFI mode, please use the `efi_` (see\n  [EFI Boot Configuration](#efi-boot-configuration)) options to\n  setup the firmware.\n\n- `use_pflash` (bool) - If a firmware file option was provided, this option can be\n  used to change how qemu will get it.\n  If false (the default), then the firmware is provided through\n  the -bios option, but if true, a pflash drive will be used\n  instead.\n  \n  NOTE: when booting in UEFI mode, please use the `efi_` (see\n  [EFI Boot Configuration](#efi-boot-configuration)) options to\n  setup the firmware.\n\n- `disk_interface` (string) - The interface to use for the disk. Allowed values include any of `ide`,\n  `sata`, `scsi`, `virtio` or `virtio-scsi`^\\*. Note also that any boot\n  commands or kickstart type scripts must have proper adjustments for\n  resulting device names. The Qemu builder uses `virtio` by default.\n  \n  ^\\* Please be aware that use of the `scsi` disk interface has been\n  disabled by Red Hat due to a bug described\n  [here](https://bugzilla.redhat.com/show_bug.cgi?id=1019220). If you are\n  running Qemu on RHEL or a RHEL variant such as CentOS, you *must* choose\n  one of the other listed interfaces. Using the `scsi` interface under\n  these circumstances will cause the build to fail.\n\n- `disk_size` (string) - The size in bytes of the hard disk of the VM. Suffix with the first\n  letter of common byte types. Use \"k\" or \"K\" for kilobytes, \"M\" for\n  megabytes, G for gigabytes, and T for terabytes. If no value is provided\n  for disk_size, Packer uses a default of `40960M` (40 GB). If a disk_size\n  number is provided with no units, Packer will default to Megabytes.\n\n- `skip_resize_disk` (bool) - Packer resizes the QCOW2 image using\n  qemu-img resize.  Set this option to true to disable resizing.\n  Defaults to false.\n\n- `disk_cache` (string) - The cache mode to use for disk. Allowed values include any of\n  `writethrough`, `writeback`, `none`, `unsafe` or `directsync`. By\n  default, this is set to `writeback`.\n\n- `disk_discard` (string) - The discard mode to use for disk. Allowed values\n  include any of unmap or ignore. By default, this is set to ignore.\n\n- `disk_detect_zeroes` (string) - The detect-zeroes mode to use for disk.\n  Allowed values include any of unmap, on or off. Defaults to off.\n  When the value is \"off\" we don't set the flag in the qemu command, so that\n  Packer still works with old versions of QEMU that don't have this option.\n\n- `skip_compaction` (bool) - Packer compacts the QCOW2 image using\n  qemu-img convert.  Set this option to true to disable compacting.\n  Defaults to false.\n\n- `disk_compression` (bool) - Apply compression to the QCOW2 disk file\n  using qemu-img convert. Defaults to false.\n\n- `format` (string) - Either `qcow2` or `raw`, this specifies the output format of the virtual\n  machine image. This defaults to `qcow2`. Due to a long-standing bug with\n  `qemu-img convert` on OSX, sometimes the qemu-img convert call will\n  create a corrupted image. If this is an issue for you, make sure that the\n  the output format matches the input file's format, and Packer will\n  perform a simple copy operation instead. See\n  https://bugs.launchpad.net/qemu/+bug/1776920 for more details.\n\n- `headless` (bool) - Packer defaults to building QEMU virtual machines by\n  launching a GUI that shows the console of the machine being built. When this\n  value is set to `true`, the machine will start without a console.\n  \n  You can still see the console if you make a note of the VNC display\n  number chosen, and then connect using `vncviewer -Shared \u003chost\u003e:\u003cdisplay\u003e`\n\n- `disk_image` (bool) - Packer defaults to building from an ISO file, this parameter controls\n  whether the ISO URL supplied is actually a bootable QEMU image. When\n  this value is set to `true`, the machine will either clone the source or\n  use it as a backing file (if `use_backing_file` is `true`); then, it\n  will resize the image according to `disk_size` and boot it.\n\n- `use_backing_file` (bool) - Only applicable when disk_image is true\n  and format is qcow2, set this option to true to create a new QCOW2\n  file that uses the file located at iso_url as a backing file. The new file\n  will only contain blocks that have changed compared to the backing file, so\n  enabling this option can significantly reduce disk usage. If true, Packer\n  will force the `skip_compaction` also to be true as well to skip disk\n  conversion which would render the backing file feature useless.\n\n- `machine_type` (string) - The type of machine emulation to use. Run your qemu binary with the\n  flags `-machine help` to list available types for your system. This\n  defaults to `pc`.\n  \n  NOTE: when booting a UEFI machine with Secure Boot enabled, this has\n  to be a q35 derivative.\n  If the machine is not a q35 derivative, nothing will boot (not even\n  an EFI shell).\n\n- `memory` (int) - The amount of memory to use when building the VM\n  in megabytes. This defaults to 512 megabytes.\n\n- `net_device` (string) - The driver to use for the network interface. Allowed values `ne2k_pci`,\n  `i82551`, `i82557b`, `i82559er`, `rtl8139`, `e1000`, `pcnet`, `virtio`,\n  `virtio-net`, `virtio-net-pci`, `usb-net`, `i82559a`, `i82559b`,\n  `i82559c`, `i82550`, `i82562`, `i82557a`, `i82557c`, `i82801`,\n  `vmxnet3`, `i82558a` or `i82558b`. The Qemu builder uses `virtio-net` by\n  default.\n\n- `net_bridge` (string) - Connects the network to this bridge instead of using the user mode\n  networking.\n  \n  **NB** This bridge must already exist. You can use the `virbr0` bridge\n  as created by vagrant-libvirt.\n  \n  **NB** This will automatically enable the QMP socket (see QMPEnable).\n  \n  **NB** This only works in Linux based OSes.\n\n- `output_directory` (string) - This is the path to the directory where the\n  resulting virtual machine will be created. This may be relative or absolute.\n  If relative, the path is relative to the working directory when packer\n  is executed. This directory must not exist or be empty prior to running\n  the builder. By default this is output-BUILDNAME where \"BUILDNAME\" is the\n  name of the build.\n\n- `qemuargs` ([][]string) - Allows complete control over the qemu command line (though not qemu-img).\n  Each array of strings makes up a command line switch\n  that overrides matching default switch/value pairs. Any value specified\n  as an empty string is ignored. All values after the switch are\n  concatenated with no separator.\n  \n  ~\u003e **Warning:** The qemu command line allows extreme flexibility, so\n  beware of conflicting arguments causing failures of your run.\n  For instance adding a \"--drive\" or \"--device\" override will mean that\n  none of the default configuration Packer sets will be used. To see the\n  defaults that Packer sets, look in your packer.log\n  file (set PACKER_LOG=1 to get verbose logging) and search for the\n  qemu-system-x86 command. The arguments are all printed for review, and\n  you can use those arguments along with the template engines allowed\n  by qemu-args to set up a working configuration that includes both the\n  Packer defaults and your extra arguments.\n  \n  Another pitfall could be setting arguments like --no-acpi, which could\n  break the ability to send power signal type commands\n  (e.g., shutdown -P now) to the virtual machine, thus preventing proper\n  shutdown.\n  \n  The following shows a sample usage:\n  \n  In HCL2:\n  ```hcl\n    qemuargs = [\n      [ \"-m\", \"1024M\" ],\n      [ \"--no-acpi\", \"\" ],\n      [\n        \"-netdev\",\n        \"user,id=mynet0,\",\n        \"hostfwd=hostip:hostport-guestip:guestport\",\n        \"\"\n      ],\n      [ \"-device\", \"virtio-net,netdev=mynet0\" ]\n    ]\n  ```\n  \n  In JSON:\n  ```json\n    \"qemuargs\": [\n      [ \"-m\", \"1024M\" ],\n      [ \"--no-acpi\", \"\" ],\n      [\n        \"-netdev\",\n        \"user,id=mynet0,\",\n        \"hostfwd=hostip:hostport-guestip:guestport\",\n        \"\"\n      ],\n      [ \"-device\", \"virtio-net,netdev=mynet0\" ]\n    ]\n  ```\n  \n  would produce the following (not including other defaults supplied by\n  the builder and not otherwise conflicting with the qemuargs):\n  \n  ```text\n  qemu-system-x86 -m 1024m --no-acpi -netdev\n  user,id=mynet0,hostfwd=hostip:hostport-guestip:guestport -device\n  virtio-net,netdev=mynet0\"\n  ```\n  \n  ~\u003e **Windows Users:** [QEMU for Windows](https://qemu.weilnetz.de/)\n  builds are available though an environmental variable does need to be\n  set for QEMU for Windows to redirect stdout to the console instead of\n  stdout.txt.\n  \n  The following shows the environment variable that needs to be set for\n  Windows QEMU support:\n  \n  ```text\n  setx SDL_STDIO_REDIRECT=0\n  ```\n  \n  You can also use the `SSHHostPort` template variable to produce a packer\n  template that can be invoked by `make` in parallel:\n  \n  In HCL2:\n  ```hcl\n    qemuargs = [\n      [ \"-netdev\", \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"],\n      [ \"-device\", \"virtio-net,netdev=forward,id=net0\"]\n    ]\n  ```\n  \n  In JSON:\n  ```json\n    \"qemuargs\": [\n      [ \"-netdev\", \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"],\n      [ \"-device\", \"virtio-net,netdev=forward,id=net0\"]\n    ]\n  ```\n  \n  `make -j 3 my-awesome-packer-templates` spawns 3 packer processes, each\n  of which will bind to their own SSH port as determined by each process.\n  This will also work with WinRM, just change the port forward in\n  `qemuargs` to map to WinRM's default port of `5985` or whatever value\n  you have the service set to listen on.\n  \n  This is a template engine and allows access to the following variables:\n  `{{ .HTTPIP }}`, `{{ .HTTPPort }}`, `{{ .HTTPDir }}`,\n  `{{ .OutputDir }}`, `{{ .Name }}`, and `{{ .SSHHostPort }}`\n\n- `qemu_img_args` (QemuImgArgs) - A map of custom arguments to pass to qemu-img commands, where the key\n  is the subcommand, and the values are lists of strings for each flag.\n  Example:\n  \n  In HCL:\n  ```hcl\n  qemu_img_args {\n   convert = [\"-o\", \"preallocation=full\"]\n   resize  = [\"-foo\", \"bar\"]\n  }\n  ```\n  In JSON:\n  ```json\n  {\n   \"qemu_img_args\": {\n     \"convert\": [\"-o\", \"preallocation=full\"],\n  \t  \"resize\": [\"-foo\", \"bar\"]\n   }\n  ```\n  Please note\n  that unlike qemuargs, these commands are not split into switch-value\n  sub-arrays, because the basic elements in qemu-img calls are  unlikely\n  to need an actual override.\n  The arguments will be constructed as follows:\n  - Convert:\n  \tDefault is `qemu-img convert -O $format $sourcepath $targetpath`. Adding\n  \targuments [\"-foo\", \"bar\"] to qemu_img_args.convert will change this to\n  \t`qemu-img convert -foo bar -O $format $sourcepath $targetpath`\n  - Create:\n  \tDefault is `create -f $format $targetpath $size`. Adding arguments\n  \t[\"-foo\", \"bar\"] to qemu_img_args.create will change this to\n  \t\"create -f qcow2 -foo bar target.qcow2 1234M\"\n  - Resize:\n  \tDefault is `qemu-img resize -f $format $sourcepath $size`. Adding\n  \targuments [\"-foo\", \"bar\"] to qemu_img_args.resize will change this to\n  \t`qemu-img resize -f $format -foo bar $sourcepath $size`\n\n- `qemu_binary` (string) - The name of the Qemu binary to look for. This\n  defaults to qemu-system-x86_64, but may need to be changed for\n  some platforms. For example qemu-kvm, or qemu-system-i386 may be a\n  better choice for some systems.\n\n- `qmp_enable` (bool) - Enable QMP socket. Location is specified by `qmp_socket_path`. Defaults\n  to false.\n\n- `qmp_socket_path` (string) - QMP Socket Path when `qmp_enable` is true. Defaults to\n  `output_directory`/`vm_name`.monitor.\n\n- `use_default_display` (bool) - If true, do not pass a -display option\n  to qemu, allowing it to choose the default. This may be needed when running\n  under macOS, and getting errors about sdl not being available.\n\n- `vga` (string) - The type of VGA card to emulate. If undefined, this will not be included\n  in the command-line, and the default qemu value for the emulated machine\n  will be picked.\n\n- `display` (string) - What QEMU -display option to use. Defaults to gtk, use none to not pass the\n  -display option allowing QEMU to choose the default. This may be needed when\n  running under macOS, and getting errors about sdl not being available.\n\n- `vnc_bind_address` (string) - The IP address that should be\n  binded to for VNC. By default packer will use 127.0.0.1 for this. If you\n  wish to bind to all interfaces use 0.0.0.0.\n\n- `vnc_use_password` (bool) - Whether or not to set a password on the VNC server. This option\n  automatically enables the QMP socket. See `qmp_socket_path`. Defaults to\n  `false`.\n\n- `vnc_port_min` (int) - The minimum and maximum port\n  to use for VNC access to the virtual machine. The builder uses VNC to type\n  the initial boot_command. Because Packer generally runs in parallel,\n  Packer uses a randomly chosen port in this range that appears available. By\n  default this is 5900 to 6000. The minimum and maximum ports are inclusive.\n  The minimum port cannot be set below 5900 due to a quirk in how QEMU parses\n  vnc display address.\n\n- `vnc_port_max` (int) - VNC Port Max\n\n- `vm_name` (string) - This is the name of the image (QCOW2 or IMG) file for\n  the new virtual machine. By default this is packer-BUILDNAME, where\n  \"BUILDNAME\" is the name of the build. Currently, no file extension will be\n  used unless it is specified in this option.\n\n- `cdrom_interface` (string) - The interface to use for the CDROM device which contains the ISO image.\n  Allowed values include any of `ide`, `scsi`, `virtio` or\n  `virtio-scsi`. The Qemu builder uses `virtio` by default.\n  Some ARM64 images require `virtio-scsi`.\n\n- `vtpm` (bool) - Use a virtual (emulated) TPM device to expose to the VM.\n\n- `use_tpm1` (bool) - Use version 1.2 of the TPM specification for the emulated TPM.\n  \n  By default, we use version 2.0 of the TPM specs for the emulated TPM,\n  if you want to force version 1.2, set this option to true.\n\n- `tpm_device_type` (string) - The TPM device type to inject in the qemu command-line\n  \n  This is required to be specified for some platforms, as the device has to\n  behave differently depending on the architecture.\n  \n  As per the docs:\n  \n   * x86: tpm-tis (default)\n   * ARM: tpm-tis-device\n   * PPC (p-series): tpm-spapr\n\n- `boot_steps` ([][]string) - This is an array of tuples of boot commands, to type when the virtual\n  machine is booted. The first element of the tuple is the actual boot\n  command. The second element of the tuple, which is optional, is a\n  description of what the boot command does. This is intended to be used for\n  interactive installers that requires many commands to complete the\n  installation. Both the command and the description will be printed when\n  logging is enabled. When debug mode is enabled Packer will pause after\n  typing each boot command. This will make it easier to follow along the\n  installation process and make sure the Packer and the installer are in\n  sync. `boot_steps` and `boot_commands` are mutually exclusive.\n  \n  Example:\n  \n  In HCL:\n  ```hcl\n  boot_steps = [\n    [\"1\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD\"],\n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Installation messages in English\"],\n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Keyboard type: unchanged\"],\n  \n    [\"a\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD to hard disk\"],\n    [\"b\u003center\u003e\u003cwait5\u003e\", \"Yes\"]\n  ]\n  ```\n  \n  In JSON:\n  ```json\n  {\n    \"boot_steps\": [\n      [\"1\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD\"],\n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Installation messages in English\"],\n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Keyboard type: unchanged\"],\n  \n      [\"a\u003center\u003e\u003cwait5\u003e\", \"Install NetBSD to hard disk\"],\n      [\"b\u003center\u003e\u003cwait5\u003e\", \"Yes\"]\n    ]\n  }\n  ```\n\n- `cpu_model` (string) - The CPU model is what will be used by qemu for booting the virtual machine\n  and determine which features of a specific model/family of processors\n  is supported.\n  \n  Any string is supported here, and to see which models are supported\n  by qemu for a specific architecture, refer to `qemu -cpu help`\n  \n  The default value here is that no cpu option will be passed through to qemu,\n  therefore it will default to whichever CPU model is the default for the\n  targetted system (on x86_64 for example, it will be qemu64)\n  \n  NOTE: RHEL9 removed support for `qemu64` in their distributed qemu package,\n  forcing users of RHEL9 on x86_64 systems to define this. \"host\" is a\n  reasonable value if using an hypervisor.\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/qemu/config.go; --\u003e\n\n\n## ISO Configuration\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nBy default, Packer will symlink, download or copy image files to the Packer\ncache into a \"`hash($iso_url+$iso_checksum).$iso_target_extension`\" file.\nPacker uses [hashicorp/go-getter](https://github.com/hashicorp/go-getter) in\nfile mode in order to perform a download.\n\ngo-getter supports the following protocols:\n\n* Local files\n* Git\n* Mercurial\n* HTTP\n* Amazon S3\n\nExamples:\ngo-getter can guess the checksum type based on `iso_checksum` length, and it is\nalso possible to specify the checksum type.\n\nIn JSON:\n\n```json\n\n\t\"iso_checksum\": \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file://./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\nIn HCL2:\n\n```hcl\n\n\tiso_checksum = \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file://./shasums.txt\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:./shasums.txt\",\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n### Required:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_checksum` (string) - The checksum for the ISO file or virtual hard drive file. The type of\n  the checksum is specified within the checksum field as a prefix, ex:\n  \"md5:{$checksum}\". The type of the checksum can also be omitted and\n  Packer will try to infer it based on string length. Valid values are\n  \"none\", \"{$checksum}\", \"md5:{$checksum}\", \"sha1:{$checksum}\",\n  \"sha256:{$checksum}\", \"sha512:{$checksum}\" or \"file:{$path}\". Here is a\n  list of valid checksum values:\n   * md5:090992ba9fd140077b0661cb75f7ce13\n   * 090992ba9fd140077b0661cb75f7ce13\n   * sha1:ebfb681885ddf1234c18094a45bbeafd91467911\n   * ebfb681885ddf1234c18094a45bbeafd91467911\n   * sha256:ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * file:http://releases.ubuntu.com/20.04/SHA256SUMS\n   * file:file://./local/path/file.sum\n   * file:./local/path/file.sum\n   * none\n  Although the checksum will not be verified when it is set to \"none\",\n  this is not recommended since these files can be very large and\n  corruption does happen from time to time.\n\n- `iso_url` (string) - A URL to the ISO containing the installation image or virtual hard drive\n  (VHD or VHDX) file to clone.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_urls` ([]string) - Multiple URLs for the ISO to download. Packer will try these in order.\n  If anything goes wrong attempting to download or while downloading a\n  single URL, it will move on to the next. All URLs must point to the same\n  file (same checksum). By default this is empty and `iso_url` is used.\n  Only one of `iso_url` or `iso_urls` can be specified.\n\n- `iso_target_path` (string) - The path where the iso should be saved after download. By default will\n  go in the packer cache, with a hash of the original filename and\n  checksum as its name.\n\n- `iso_target_extension` (string) - The extension of the iso file after download. This defaults to `iso`.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n## Http directory configuration\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\nPacker will create an http server serving `http_directory` when it is set, a\nrandom free port will be selected and the architecture of the directory\nreferenced will be available in your builder.\n\nExample usage from a builder:\n\n```\nwget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg\n```\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_directory` (string) - Path to a directory to serve using an HTTP server. The files in this\n  directory will be available over HTTP that will be requestable from the\n  virtual machine. This is useful for hosting kickstart files and so on.\n  By default this is an empty string, which means no HTTP server will be\n  started. The address and port of the HTTP server will be available as\n  variables in `boot_command`. This is covered in more detail below.\n\n- `http_content` (map[string]string) - Key/Values to serve using an HTTP server. `http_content` works like and\n  conflicts with `http_directory`. The keys represent the paths and the\n  values contents, the keys must start with a slash, ex: `/path/to/file`.\n  `http_content` is useful for hosting kickstart files and so on. By\n  default this is empty, which means no HTTP server will be started. The\n  address and port of the HTTP server will be available as variables in\n  `boot_command`. This is covered in more detail below.\n  Example:\n  ```hcl\n    http_content = {\n      \"/a/b\"     = file(\"http/b\")\n      \"/foo/bar\" = templatefile(\"${path.root}/preseed.cfg\", { packages = [\"nginx\"] })\n    }\n  ```\n\n- `http_port_min` (int) - These are the minimum and maximum port to use for the HTTP server\n  started to serve the `http_directory`. Because Packer often runs in\n  parallel, Packer will choose a randomly available port in this range to\n  run the HTTP server. If you want to force the HTTP server to be on one\n  port, make this minimum and maximum port the same. By default the values\n  are `8000` and `9000`, respectively.\n\n- `http_port_max` (int) - HTTP Port Max\n\n- `http_bind_address` (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that\n  it will work with any network interface.\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n## Floppy configuration\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; DO NOT EDIT MANUALLY --\u003e\n\nA floppy can be made available for your build. This is most useful for\nunattended Windows installs, which look for an Autounattend.xml file on\nremovable media. By default, no floppy will be attached. All files listed in\nthis setting get placed into the root directory of the floppy and the floppy\nis attached as the first floppy device. The summary size of the listed files\nmust not exceed 1.44 MB. The supported ways to move large files into the OS\nare using `http_directory` or [the file\nprovisioner](/packer/docs/provisioner/file).\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `floppy_files` ([]string) - A list of files to place onto a floppy disk that is attached when the VM\n  is booted. Currently, no support exists for creating sub-directories on\n  the floppy. Wildcard characters (\\\\*, ?, and \\[\\]) are allowed. Directory\n  names are also allowed, which will add all the files found in the\n  directory to the floppy.\n\n- `floppy_dirs` ([]string) - A list of directories to place onto the floppy disk recursively. This is\n  similar to the `floppy_files` option except that the directory structure\n  is preserved. This is useful for when your floppy disk includes drivers\n  or if you just want to organize it's contents as a hierarchy. Wildcard\n  characters (\\\\*, ?, and \\[\\]) are allowed. The maximum summary size of\n  all files in the listed directories are the same as in `floppy_files`.\n\n- `floppy_content` (map[string]string) - Key/Values to add to the floppy disk. The keys represent the paths, and\n  the values contents. It can be used alongside `floppy_files` or\n  `floppy_dirs`, which is useful to add large files without loading them\n  into memory. If any paths are specified by both, the contents in\n  `floppy_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  floppy_files = [\"vendor-data\"]\n  floppy_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  floppy_label = \"cidata\"\n  ```\n\n- `floppy_label` (string) - Floppy Label\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in multistep/commonsteps/floppy_config.go; --\u003e\n\n\n### CD configuration\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nAn iso (CD) containing custom files can be made available for your build.\n\nBy default, no extra CD will be attached. All files listed in this setting\nget placed into the root directory of the CD and the CD is attached as the\nsecond CD device.\n\nThis config exists to work around modern operating systems that have no\nway to mount floppy disks, which was our previous go-to for adding files at\nboot time.\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cd_files` ([]string) - A list of files to place onto a CD that is attached when the VM is\n  booted. This can include either files or directories; any directories\n  will be copied onto the CD recursively, preserving directory structure\n  hierarchy. Symlinks will have the link's target copied into the directory\n  tree on the CD where the symlink was. File globbing is allowed.\n  \n  Usage example (JSON):\n  \n  ```json\n  \"cd_files\": [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"],\n  \"cd_label\": \"cidata\",\n  ```\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"]\n  cd_label = \"cidata\"\n  ```\n  \n  The above will create a CD with two files, user-data and meta-data in the\n  CD root. This specific example is how you would create a CD that can be\n  used for an Ubuntu 20.04 autoinstall.\n  \n  Since globbing is also supported,\n  \n  ```hcl\n  cd_files = [\"./somedirectory/*\"]\n  cd_label = \"cidata\"\n  ```\n  \n  Would also be an acceptable way to define the above cd. The difference\n  between providing the directory with or without the glob is whether the\n  directory itself or its contents will be at the CD root.\n  \n  Use of this option assumes that you have a command line tool installed\n  that can handle the iso creation. Packer will use one of the following\n  tools:\n  \n    * xorriso\n    * mkisofs\n    * hdiutil (normally found in macOS)\n    * oscdimg (normally found in Windows as part of the Windows ADK)\n\n- `cd_content` (map[string]string) - Key/Values to add to the CD. The keys represent the paths, and the values\n  contents. It can be used alongside `cd_files`, which is useful to add large\n  files without loading them into memory. If any paths are specified by both,\n  the contents in `cd_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"vendor-data\"]\n  cd_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  cd_label = \"cidata\"\n  ```\n\n- `cd_label` (string) - CD Label\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n## Shutdown configuration\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the ShutdownConfig struct in shutdowncommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `shutdown_command` (string) - The command to use to gracefully shut down the machine once all\n  provisioning is complete. By default this is an empty string, which\n  tells Packer to just forcefully shut down the machine. This setting can\n  be safely omitted if for example, a shutdown command to gracefully halt\n  the machine is configured inside a provisioning script. If one or more\n  scripts require a reboot it is suggested to leave this blank (since\n  reboots may fail) and instead specify the final shutdown command in your\n  last script.\n\n- `shutdown_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait after executing the shutdown_command for the\n  virtual machine to actually shut down. If the machine doesn't shut down\n  in this time it is considered an error. By default, the time out is \"5m\"\n  (five minutes).\n\n\u003c!-- End of code generated from the comments of the ShutdownConfig struct in shutdowncommand/config.go; --\u003e\n\n\n## Communicator configuration\n\n### Optional common fields:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the CommConfig struct in builder/qemu/comm_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `host_port_min` (int) - The minimum port to use for the Communicator port on the host machine which is forwarded\n  to the SSH or WinRM port on the guest machine. By default this is 2222.\n\n- `host_port_max` (int) - The maximum port to use for the Communicator port on the host machine which is forwarded\n  to the SSH or WinRM port on the guest machine. Because Packer often runs in parallel,\n  Packer will choose a randomly available port in this range to use as the\n  host port. By default this is 4444.\n\n- `skip_nat_mapping` (bool) - Defaults to false. When enabled, Packer\n  does not setup forwarded port mapping for communicator (SSH or WinRM) requests and uses ssh_port or winrm_port\n  on the host to communicate to the virtual machine.\n\n\u003c!-- End of code generated from the comments of the CommConfig struct in builder/qemu/comm_config.go; --\u003e\n\n\n### Optional SSH fields:\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_protocol = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n### Optional WinRM fields:\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n## Boot Configuration\n\n\u003c!-- Code generated from the comments of the VNCConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot command \"typed\" character for character over a VNC connection to\nthe machine, simulating a human actually typing the keyboard.\n\nKeystrokes are typed as separate key up/down events over VNC with a default\n100ms delay. The delay alleviates issues with latency and CPU contention.\nYou can tune this delay on a per-builder basis by specifying\n\"boot_key_interval\" in your Packer template.\n\n\u003c!-- End of code generated from the comments of the VNCConfig struct in bootcommand/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot configuration is very important: `boot_command` specifies the keys\nto type when the virtual machine is first booted in order to start the OS\ninstaller. This command is typed after boot_wait, which gives the virtual\nmachine some time to actually load.\n\nThe boot_command is an array of strings. The strings are all typed in\nsequence. It is an array only to improve readability within the template.\n\nThere are a set of special keys available. If these are in your boot\ncommand, they will be replaced by the proper key:\n\n-   `\u003cbs\u003e` - Backspace\n\n-   `\u003cdel\u003e` - Delete\n\n-   `\u003center\u003e \u003creturn\u003e` - Simulates an actual \"enter\" or \"return\" keypress.\n\n-   `\u003cesc\u003e` - Simulates pressing the escape key.\n\n-   `\u003ctab\u003e` - Simulates pressing the tab key.\n\n-   `\u003cf1\u003e - \u003cf12\u003e` - Simulates pressing a function key.\n\n-   `\u003cup\u003e \u003cdown\u003e \u003cleft\u003e \u003cright\u003e` - Simulates pressing an arrow key.\n\n-   `\u003cspacebar\u003e` - Simulates pressing the spacebar.\n\n-   `\u003cinsert\u003e` - Simulates pressing the insert key.\n\n-   `\u003chome\u003e \u003cend\u003e` - Simulates pressing the home and end keys.\n\n  - `\u003cpageUp\u003e \u003cpageDown\u003e` - Simulates pressing the page up and page down\n    keys.\n\n-   `\u003cmenu\u003e` - Simulates pressing the Menu key.\n\n-   `\u003cleftAlt\u003e \u003crightAlt\u003e` - Simulates pressing the alt key.\n\n-   `\u003cleftCtrl\u003e \u003crightCtrl\u003e` - Simulates pressing the ctrl key.\n\n-   `\u003cleftShift\u003e \u003crightShift\u003e` - Simulates pressing the shift key.\n\n-   `\u003cleftSuper\u003e \u003crightSuper\u003e` - Simulates pressing the  or Windows key.\n\n  - `\u003cwait\u003e \u003cwait5\u003e \u003cwait10\u003e` - Adds a 1, 5 or 10 second pause before\n    sending any additional keys. This is useful if you have to generally\n    wait for the UI to update before typing more.\n\n  - `\u003cwaitXX\u003e` - Add an arbitrary pause before sending any additional keys.\n    The format of `XX` is a sequence of positive decimal numbers, each with\n    optional fraction and a unit suffix, such as `300ms`, `1.5h` or `2h45m`.\n    Valid time units are `ns`, `us` (or `s`), `ms`, `s`, `m`, `h`. For\n    example `\u003cwait10m\u003e` or `\u003cwait1m20s\u003e`.\n\n  - `\u003cXXXOn\u003e \u003cXXXOff\u003e` - Any printable keyboard character, and of these\n    \"special\" expressions, with the exception of the `\u003cwait\u003e` types, can\n    also be toggled on or off. For example, to simulate ctrl+c, use\n    `\u003cleftCtrlOn\u003ec\u003cleftCtrlOff\u003e`. Be sure to release them, otherwise they\n    will be held down until the machine reboots. To hold the `c` key down,\n    you would use `\u003ccOn\u003e`. Likewise, `\u003ccOff\u003e` to release.\n\n  - `{{ .HTTPIP }} {{ .HTTPPort }}` - The IP and port, respectively of an\n    HTTP server that is started serving the directory specified by the\n    `http_directory` configuration parameter. If `http_directory` isn't\n    specified, these will be blank!\n\n-   `{{ .Name }}` - The name of the VM.\n\nExample boot command. This is actually a working boot command used to start an\nCentOS 6.4 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nThe example shown below is a working boot command used to start an Ubuntu\n12.04 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nFor more examples of various boot commands, see the sample projects from our\n[community templates page](https://packer.io/community-tools#templates).\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the VNCConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disable_vnc` (bool) - Whether to create a VNC connection or not. A boot_command cannot be used\n  when this is true. Defaults to false.\n\n- `boot_key_interval` (duration string | ex: \"1h5m2s\") - Time in ms to wait between each key press\n\n\u003c!-- End of code generated from the comments of the VNCConfig struct in bootcommand/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_keygroup_interval` (duration string | ex: \"1h5m2s\") - Time to wait after sending a group of key pressses. The value of this\n  should be a duration. Examples are `5s` and `1m30s` which will cause\n  Packer to wait five seconds and one minute 30 seconds, respectively. If\n  this isn't specified, a sensible default value is picked depending on\n  the builder type.\n\n- `boot_wait` (duration string | ex: \"1h5m2s\") - The time to wait after booting the initial virtual machine before typing\n  the `boot_command`. The value of this should be a duration. Examples are\n  `5s` and `1m30s` which will cause Packer to wait five seconds and one\n  minute 30 seconds, respectively. If this isn't specified, the default is\n  `10s` or 10 seconds. To set boot_wait to 0s, use a negative number, such\n  as \"-1s\"\n\n- `boot_command` ([]string) - This is an array of commands to type when the virtual machine is first\n  booted. The goal of these commands should be to type just enough to\n  initialize the operating system installer. Special keys can be typed as\n  well, and are covered in the section below on the boot command. If this\n  is not specified, it is assumed the installer will start itself.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n## EFI Boot Configuration\n\n\u003c!-- Code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\nBooting in EFI mode\n\nUse these options if wanting to boot on a UEFI firmware, as the options to\ndo so are different from what BIOS (default) booting will require.\n\n\u003c!-- End of code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `efi_boot` (bool) - Boot in EFI mode instead of BIOS. This is required for more modern\n  guest OS. If either or both of `efi_firmware_code` or\n  `efi_firmware_vars` are defined, this will implicitely be set to `true`.\n  \n  NOTE: when using a Secure-Boot enabled firmware, the machine type has\n  to be q35, otherwise qemu will not boot.\n\n- `efi_firmware_code` (string) - Path to the CODE part of OVMF (or other compatible firmwares)\n  The OVMF_CODE.fd file contains the bootstrap code for booting in EFI\n  mode, and requires a separate VARS.fd file to be able to persist data\n  between boot cycles.\n  \n  Default: `/usr/share/OVMF/OVMF_CODE.fd`\n\n- `efi_firmware_vars` (string) - Path to the VARS corresponding to the OVMF code file.\n  \n  Default: `/usr/share/OVMF/OVMF_VARS.fd`\n\n- `efi_drop_efivars` (bool) - Drop the efivars.fd file in the exported artifact.\n  \n  In addition to the disks created by the builder, we also expose the\n  `efivars.fd` file if the image was booted with UEFI enabled.\n  \n  However, if the output is consumed by a post-processor (like AWS,\n  GCP, etc.), this may not be supported by the code, and since the file\n  is not a disk image, this will error.\n  This option can then be used to remove the `efivars.fd` from the\n  artifact produced by the builder, so it only lists the disks produced\n  instead.\n\n\u003c!-- End of code generated from the comments of the QemuEFIBootConfig struct in builder/qemu/config.go; --\u003e\n\n\n## SMP Configuration\n\n\u003c!-- Code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\nQemuSMPConfig sets the smp configuration option for the Qemu command-line\n\nThe smp option sets the number of vCPUs to expose to the VM, the final\nnumber of available vCPUs is `sockets * cores * threads`.\n\n\u003c!-- End of code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cpus` (int) - The number of virtual cpus to use when building the VM.\n  \n  If undefined, the value will either be `1`, or the product of\n  `sockets * cores * threads`\n  \n  If this is defined in conjunction with any topology specifier (sockets,\n  cores and/or threads), the smallest of the two will be used.\n  \n  If the cpu count is the only thing specified, qemu's default behaviour\n  regarding topology will be applied.\n  The behaviour depends on the version of qemu; before version 6.2, sockets\n  were preferred to cores, from version 6.2 onwards, cores are preferred.\n\n- `sockets` (int) - The number of sockets to use when building the VM.\n   The default is `1` socket.\n   The socket count must not be higher than the CPU count.\n\n- `cores` (int) - The number of cores per CPU to use when building the VM.\n   The default is `1` core per CPU.\n\n- `threads` (int) - The number of threads per core to use when building the VM.\n   The default is `1` thread per core.\n\n\u003c!-- End of code generated from the comments of the QemuSMPConfig struct in builder/qemu/config.go; --\u003e\n\n\n### Communicator Configuration\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n### SSH key pair automation\n\nThe QEMU builder can inject the current SSH key pair's public key into\nthe template using the `SSHPublicKey` template engine. This is the SSH public\nkey as a line in OpenSSH authorized_keys format.\n\nWhen a private key is provided using `ssh_private_key_file`, the key's\ncorresponding public key can be accessed using the above engine.\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\nIf `ssh_password` and `ssh_private_key_file` are not specified, Packer will\nautomatically generate en ephemeral key pair. The key pair's public key can\nbe accessed using the template engine.\n\nFor example, the public key can be provided in the boot command as a URL\nencoded string by appending `| urlquery` to the variable:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user `username` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"\n]\n```\n\nA kickstart could then leverage those fields from the kernel command line by\ndecoding the URL-encoded public key:\n\n```shell\n%post\n\n# Newly created users need the file/folder framework for SSH key authentication.\numask 0077\nmkdir /etc/skel/.ssh\ntouch /etc/skel/.ssh/authorized_keys\n\n# Loop over the command line. Set interesting variables.\nfor x in $(cat /proc/cmdline)\ndo\n  case $x in\n    PACKER_USER=*)\n      PACKER_USER=\"${x#*=}\"\n      ;;\n    PACKER_AUTHORIZED_KEY=*)\n      # URL decode $encoded into $PACKER_AUTHORIZED_KEY\n      encoded=$(echo \"${x#*=}\" | tr '+' ' ')\n      printf -v PACKER_AUTHORIZED_KEY '%b' \"${encoded//%/\\\\x}\"\n      ;;\n  esac\ndone\n\n# Create/configure packer user, if any.\nif [ -n \"$PACKER_USER\" ]\nthen\n  useradd $PACKER_USER\n  echo \"%$PACKER_USER ALL=(ALL) NOPASSWD: ALL\" \u003e\u003e /etc/sudoers.d/$PACKER_USER\n  [ -n \"$PACKER_AUTHORIZED_KEY\" ] \u0026\u0026 echo $PACKER_AUTHORIZED_KEY \u003e\u003e $(eval echo ~\"$PACKER_USER\")/.ssh/authorized_keys\nfi\n\n%end\n```\n\n### Troubleshooting\n\n#### Invalid Keymaps\n\nSome users have experienced errors complaining about invalid keymaps. This\nseems to be related to having a `common` directory or file in the directory\nthey've run Packer in, like the Packer source directory. This appears to be an\nupstream bug with qemu, and the best solution for now is to remove the\nfile/directory or run in another directory.\n\nSome users have reported issues with incorrect keymaps using qemu version 2.11.\nThis is a bug with qemu, and the solution is to upgrade, or downgrade to 2.10.1\nor earlier.\n\n#### Corrupted image after Packer calls qemu-img convert on OSX\n\nDue to an upstream bug with `qemu-img convert` on OSX, sometimes the qemu-img\nconvert call will create a corrupted image. If this is an issue for you, make\nsure that the the output format (provided using the option `format`) matches\nthe input file's format and file extension, and Packer will\nperform a simple copy operation instead. You will also want to set\n`\"skip_compaction\": true,` and `\"disk_compression\": false` to skip a final\nimage conversion at the end of the build. See\nhttps://bugs.launchpad.net/qemu/+bug/1776920 for more details.\n","created_at":"2024-03-21T16:19:01.709Z","updated_at":"2024-03-21T16:19:01.709Z","name":"QEMU","slug":"qemu","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"basic-example","level":2,"title":"Basic Example"},{"id":"qemu-specific-configuration-reference","level":2,"title":"Qemu Specific Configuration Reference"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"iso-configuration","level":2,"title":"ISO Configuration"},{"id":"required:","level":3,"title":"Required:"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"http-directory-configuration","level":2,"title":"Http directory configuration"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"floppy-configuration","level":2,"title":"Floppy configuration"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"cd-configuration","level":3,"title":"CD configuration"},{"id":"optional:","level":4,"title":"Optional:"},{"id":"shutdown-configuration","level":2,"title":"Shutdown configuration"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"communicator-configuration","level":2,"title":"Communicator configuration"},{"id":"optional-common-fields:","level":3,"title":"Optional common fields:"},{"id":"optional-ssh-fields:","level":3,"title":"Optional SSH fields:"},{"id":"optional-winrm-fields:","level":3,"title":"Optional WinRM fields:"},{"id":"boot-configuration","level":2,"title":"Boot Configuration"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"efi-boot-configuration","level":2,"title":"EFI Boot Configuration"},{"id":"optional","level":3,"title":"Optional"},{"id":"smp-configuration","level":2,"title":"SMP Configuration"},{"id":"optional","level":3,"title":"Optional"},{"id":"communicator-configuration","level":3,"title":"Communicator Configuration"},{"id":"optional:","level":4,"title":"Optional:"},{"id":"ssh-key-pair-automation","level":3,"title":"SSH key pair automation"},{"id":"troubleshooting","level":3,"title":"Troubleshooting"},{"id":"invalid-keymaps","level":4,"title":"Invalid Keymaps"},{"id":"corrupted-image-after-packer-calls-qemu-img-convert-on-osx","level":4,"title":"Corrupted image after Packer calls qemu-img convert on OSX"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`qemu`),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},`transcend.qemu`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The Qemu Packer builder is able to create `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://www.linux-kvm.org\"},`KVM`),` virtual\nmachine images.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The builder builds a virtual machine by creating a new virtual machine from\nscratch, booting it, installing an OS, rebooting the machine with the boot media\nas the virtual hard drive, provisioning software within the OS, then shutting it\ndown. The result of the Qemu builder is a directory containing the image file\nnecessary to run the virtual machine on KVM.`),mdx(\"h2\",{\"id\":\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",\"className\":\"g-type-display-3\"},`Basic Example`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Here is a basic example. This example is functional so long as you fixup paths\nto files, URLS for ISOs and checksums.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`HCL2`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`source`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"qemu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"example\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  iso_url           `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  iso_checksum      `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  output_directory  `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output_centos_tdhtest\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  shutdown_command  `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"echo 'packer' | sudo -S shutdown -P now\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  disk_size         `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"5000M\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  format            `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"qcow2\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  accelerator       `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"kvm\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  http_directory    `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"path/to/httpdir\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ssh_username      `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"root\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ssh_password      `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"s0m3password\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ssh_timeout       `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"20m\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  vm_name           `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"tdhtest\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  net_device        `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  disk_interface    `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  boot_wait         `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10s\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  boot_command      `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`build`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  sources `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"source.qemu.example\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`JSON`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"builders\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"qemu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"http://mirror.raystedman.net/centos/6/isos/x86_64/CentOS-6.9-x86_64-minimal.iso\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"md5:af4a1640c0c6f348c6c41f1ea9e192a2\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"output_directory\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output_centos_tdhtest\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"shutdown_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"echo 'packer' | sudo -S shutdown -P now\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"disk_size\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"5000M\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"format\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"qcow2\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"accelerator\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"kvm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"http_directory\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"path/to/httpdir\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"ssh_username\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"root\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"ssh_password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"s0m3password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"ssh_timeout\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"20m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"vm_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"tdhtest\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"net_device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"disk_interface\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"boot_wait\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10s\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"boot_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\u003cwait\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`This is an example only, and will time out waiting for SSH because we have not\nprovided a kickstart file. You must add a valid kickstart file to the\n\"http_directory\" and then provide the file in the \"boot_command\" in order for\nthis build to run. We recommend you check out the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/community-tools#templates\"},`Community Templates`),`\nfor a practical usage example.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Note that you will need to set `,mdx(\"inlineCode\",{parentName:\"p\"},`\"headless\": true`),` if you are running Packer\non a Linux server without X11; or if you are connected via SSH to a remote\nLinux server and have not enabled X11 forwarding (`,mdx(\"inlineCode\",{parentName:\"p\"},`ssh -X`),`).`),mdx(\"h2\",{\"id\":\"user-content-qemu-specific-configuration-reference\",\"data-text-content\":\"Qemu Specific Configuration Reference\",\"className\":\"g-type-display-3\"},`Qemu Specific Configuration Reference`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`There are many configuration options available for the builder. In addition to\nthe items listed here, you will want to look at the general configuration\nreferences for `,mdx(\"a\",{parentName:\"p\",\"href\":\"#iso-configuration\"},`ISO`),`,\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#http-directory-configuration\"},`HTTP`),`,\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#floppy-configuration\"},`Floppy`),`,\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#boot-configuration\"},`Boot`),`,\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#shutdown-configuration\"},`Shutdown`),`,\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#communicator-configuration\"},`Communicator`),`\nconfiguration references, which are\nnecessary for this build to succeed and can be found further down the page.`),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_skip_cache`),` (bool) - Use iso from provided url. Qemu must support\ncurl block device. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`accelerator`),` (string) - The accelerator type to use when running the VM.\nThis may be `,mdx(\"inlineCode\",{parentName:\"p\"},`none`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`kvm`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`tcg`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`hax`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`hvf`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`whpx`),`, or `,mdx(\"inlineCode\",{parentName:\"p\"},`xen`),`. The appropriate\nsoftware must have already been installed on your build machine to use the\naccelerator you specified. When no accelerator is specified, Packer will try\nto use `,mdx(\"inlineCode\",{parentName:\"p\"},`kvm`),` if it is available but will default to `,mdx(\"inlineCode\",{parentName:\"p\"},`tcg`),` otherwise.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`hax`),` accelerator has issues attaching CDROM ISOs. This is an\nupstream issue which can be tracked\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/intel/haxm/issues/20\"},`here`),`.`)),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`hvf`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`whpx`),` accelerator are new and experimental as of\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://wiki.qemu.org/ChangeLog/2.12#Host_support\"},`QEMU 2.12.0`),`.\nYou may encounter issues unrelated to Packer when using these.  You may need to\nadd `,`[ \"-global\", \"virtio-pci.disable-modern=on\" ]`,` to `,mdx(\"inlineCode\",{parentName:\"p\"},`qemuargs`),` depending on the\nguest operating system.`)),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},`HAXM is discontinued, and as of Qemu 8.0, the option is deprecated,\nplease consider using another accelerator.`)),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-info g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},`As an alternative to setting `,mdx(\"inlineCode\",{parentName:\"p\"},`accelerator`),`, you can set the `,mdx(\"inlineCode\",{parentName:\"p\"},`machine`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`accel`),` args\ndirectly using `,mdx(\"inlineCode\",{parentName:\"p\"},`qemuargs`),`. For example, to try potential accelerators in order, you could\nuse the following:`)),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`qemuargs `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-machine\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"type=q35,accel=hvf:kvm:whpx:tcg\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_additional_size`),` ([]string) - Additional disks to create. Uses `,mdx(\"inlineCode\",{parentName:\"p\"},`vm_name`),` as the disk name template and\nappends `,mdx(\"inlineCode\",{parentName:\"p\"},`-#`),` where `,mdx(\"inlineCode\",{parentName:\"p\"},`#`),` is the position in the array. `,mdx(\"inlineCode\",{parentName:\"p\"},`#`),` starts at 1 since 0\nis the default disk. Each string represents the disk image size in bytes.\nOptional suffixes 'k' or 'K' (kilobyte, 1024), 'M' (megabyte, 1024k), 'G'\n(gigabyte, 1024M), 'T' (terabyte, 1024G), 'P' (petabyte, 1024T) and 'E'\n(exabyte, 1024P)  are supported. 'b' is ignored. Per qemu-img documentation.\nEach additional disk uses the same disk parameters as the default disk.\nUnset by default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`firmware`),` (string) - The firmware file to be used by QEMU.\nIf unset, QEMU will load its default firmware.\nAlso see the QEMU documentation.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: when booting in UEFI mode, please use the `,mdx(\"inlineCode\",{parentName:\"p\"},`efi_`),` (see\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#efi-boot-configuration\"},`EFI Boot Configuration`),`) options to\nsetup the firmware.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`use_pflash`),` (bool) - If a firmware file option was provided, this option can be\nused to change how qemu will get it.\nIf false (the default), then the firmware is provided through\nthe -bios option, but if true, a pflash drive will be used\ninstead.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: when booting in UEFI mode, please use the `,mdx(\"inlineCode\",{parentName:\"p\"},`efi_`),` (see\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#efi-boot-configuration\"},`EFI Boot Configuration`),`) options to\nsetup the firmware.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_interface`),` (string) - The interface to use for the disk. Allowed values include any of `,mdx(\"inlineCode\",{parentName:\"p\"},`ide`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`sata`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`scsi`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-scsi`),`^`,`*`,`. Note also that any boot\ncommands or kickstart type scripts must have proper adjustments for\nresulting device names. The Qemu builder uses `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio`),` by default.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`^`,`*`,` Please be aware that use of the `,mdx(\"inlineCode\",{parentName:\"p\"},`scsi`),` disk interface has been\ndisabled by Red Hat due to a bug described\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://bugzilla.redhat.com/show_bug.cgi?id=1019220\"},`here`),`. If you are\nrunning Qemu on RHEL or a RHEL variant such as CentOS, you `,mdx(\"em\",{parentName:\"p\"},`must`),` choose\none of the other listed interfaces. Using the `,mdx(\"inlineCode\",{parentName:\"p\"},`scsi`),` interface under\nthese circumstances will cause the build to fail.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_size`),` (string) - The size in bytes of the hard disk of the VM. Suffix with the first\nletter of common byte types. Use \"k\" or \"K\" for kilobytes, \"M\" for\nmegabytes, G for gigabytes, and T for terabytes. If no value is provided\nfor disk_size, Packer uses a default of `,mdx(\"inlineCode\",{parentName:\"p\"},`40960M`),` (40 GB). If a disk_size\nnumber is provided with no units, Packer will default to Megabytes.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`skip_resize_disk`),` (bool) - Packer resizes the QCOW2 image using\nqemu-img resize.  Set this option to true to disable resizing.\nDefaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_cache`),` (string) - The cache mode to use for disk. Allowed values include any of\n`,mdx(\"inlineCode\",{parentName:\"p\"},`writethrough`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`writeback`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`none`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`unsafe`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`directsync`),`. By\ndefault, this is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`writeback`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_discard`),` (string) - The discard mode to use for disk. Allowed values\ninclude any of unmap or ignore. By default, this is set to ignore.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_detect_zeroes`),` (string) - The detect-zeroes mode to use for disk.\nAllowed values include any of unmap, on or off. Defaults to off.\nWhen the value is \"off\" we don't set the flag in the qemu command, so that\nPacker still works with old versions of QEMU that don't have this option.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`skip_compaction`),` (bool) - Packer compacts the QCOW2 image using\nqemu-img convert.  Set this option to true to disable compacting.\nDefaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_compression`),` (bool) - Apply compression to the QCOW2 disk file\nusing qemu-img convert. Defaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`format`),` (string) - Either `,mdx(\"inlineCode\",{parentName:\"p\"},`qcow2`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`raw`),`, this specifies the output format of the virtual\nmachine image. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`qcow2`),`. Due to a long-standing bug with\n`,mdx(\"inlineCode\",{parentName:\"p\"},`qemu-img convert`),` on OSX, sometimes the qemu-img convert call will\ncreate a corrupted image. If this is an issue for you, make sure that the\nthe output format matches the input file's format, and Packer will\nperform a simple copy operation instead. See\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://bugs.launchpad.net/qemu/+bug/1776920\"},`https://bugs.launchpad.net/qemu/+bug/1776920`),` for more details.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`headless`),` (bool) - Packer defaults to building QEMU virtual machines by\nlaunching a GUI that shows the console of the machine being built. When this\nvalue is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the machine will start without a console.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`You can still see the console if you make a note of the VNC display\nnumber chosen, and then connect using `,mdx(\"inlineCode\",{parentName:\"p\"},`vncviewer -Shared \u003chost\u003e:\u003cdisplay\u003e`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_image`),` (bool) - Packer defaults to building from an ISO file, this parameter controls\nwhether the ISO URL supplied is actually a bootable QEMU image. When\nthis value is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the machine will either clone the source or\nuse it as a backing file (if `,mdx(\"inlineCode\",{parentName:\"p\"},`use_backing_file`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`); then, it\nwill resize the image according to `,mdx(\"inlineCode\",{parentName:\"p\"},`disk_size`),` and boot it.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`use_backing_file`),` (bool) - Only applicable when disk_image is true\nand format is qcow2, set this option to true to create a new QCOW2\nfile that uses the file located at iso_url as a backing file. The new file\nwill only contain blocks that have changed compared to the backing file, so\nenabling this option can significantly reduce disk usage. If true, Packer\nwill force the `,mdx(\"inlineCode\",{parentName:\"p\"},`skip_compaction`),` also to be true as well to skip disk\nconversion which would render the backing file feature useless.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`machine_type`),` (string) - The type of machine emulation to use. Run your qemu binary with the\nflags `,mdx(\"inlineCode\",{parentName:\"p\"},`-machine help`),` to list available types for your system. This\ndefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`pc`),`.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: when booting a UEFI machine with Secure Boot enabled, this has\nto be a q35 derivative.\nIf the machine is not a q35 derivative, nothing will boot (not even\nan EFI shell).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`memory`),` (int) - The amount of memory to use when building the VM\nin megabytes. This defaults to 512 megabytes.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`net_device`),` (string) - The driver to use for the network interface. Allowed values `,mdx(\"inlineCode\",{parentName:\"p\"},`ne2k_pci`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`i82551`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82557b`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82559er`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`rtl8139`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`e1000`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`pcnet`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-net`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-net-pci`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`usb-net`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82559a`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82559b`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`i82559c`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82550`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82562`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82557a`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82557c`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82801`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`vmxnet3`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`i82558a`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`i82558b`),`. The Qemu builder uses `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-net`),` by\ndefault.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`net_bridge`),` (string) - Connects the network to this bridge instead of using the user mode\nnetworking.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NB`),` This bridge must already exist. You can use the `,mdx(\"inlineCode\",{parentName:\"p\"},`virbr0`),` bridge\nas created by vagrant-libvirt.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NB`),` This will automatically enable the QMP socket (see QMPEnable).`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NB`),` This only works in Linux based OSes.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`output_directory`),` (string) - This is the path to the directory where the\nresulting virtual machine will be created. This may be relative or absolute.\nIf relative, the path is relative to the working directory when packer\nis executed. This directory must not exist or be empty prior to running\nthe builder. By default this is output-BUILDNAME where \"BUILDNAME\" is the\nname of the build.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`qemuargs`),` (`,`[][]`,`string) - Allows complete control over the qemu command line (though not qemu-img).\nEach array of strings makes up a command line switch\nthat overrides matching default switch/value pairs. Any value specified\nas an empty string is ignored. All values after the switch are\nconcatenated with no separator.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` The qemu command line allows extreme flexibility, so\nbeware of conflicting arguments causing failures of your run.\nFor instance adding a \"--drive\" or \"--device\" override will mean that\nnone of the default configuration Packer sets will be used. To see the\ndefaults that Packer sets, look in your packer.log\nfile (set PACKER_LOG=1 to get verbose logging) and search for the\nqemu-system-x86 command. The arguments are all printed for review, and\nyou can use those arguments along with the template engines allowed\nby qemu-args to set up a working configuration that includes both the\nPacker defaults and your extra arguments.`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Another pitfall could be setting arguments like --no-acpi, which could\nbreak the ability to send power signal type commands\n(e.g., shutdown -P now) to the virtual machine, thus preventing proper\nshutdown.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The following shows a sample usage:`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  qemuargs `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"1024M\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"--no-acpi\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"-netdev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"user,id=mynet0,\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"hostfwd=hostip:hostport-guestip:guestport\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=mynet0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"qemuargs\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"1024M\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"--no-acpi\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"-netdev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"user,id=mynet0,\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"hostfwd=hostip:hostport-guestip:guestport\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=mynet0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`would produce the following (not including other defaults supplied by\nthe builder and not otherwise conflicting with the qemuargs):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\"},`qemu-system-x86 -m 1024m --no-acpi -netdev`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\"},`user,id=mynet0,hostfwd=hostip:hostport-guestip:guestport -device`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\"},`virtio-net,netdev=mynet0\"`)),`\n`)),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},``,mdx(\"strong\",{parentName:\"p\"},`Windows Users:`),` `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://qemu.weilnetz.de/\"},`QEMU for Windows`),`\nbuilds are available though an environmental variable does need to be\nset for QEMU for Windows to redirect stdout to the console instead of\nstdout.txt.`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The following shows the environment variable that needs to be set for\nWindows QEMU support:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\"},`setx SDL_STDIO_REDIRECT=0`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`You can also use the `,mdx(\"inlineCode\",{parentName:\"p\"},`SSHHostPort`),` template variable to produce a packer\ntemplate that can be invoked by `,mdx(\"inlineCode\",{parentName:\"p\"},`make`),` in parallel:`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  qemuargs `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-netdev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=forward,id=net0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"qemuargs\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-netdev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"user,hostfwd=tcp::{{ .SSHHostPort }}-:22,id=forward\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=forward,id=net0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`make -j 3 my-awesome-packer-templates`),` spawns 3 packer processes, each\nof which will bind to their own SSH port as determined by each process.\nThis will also work with WinRM, just change the port forward in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`qemuargs`),` to map to WinRM's default port of `,mdx(\"inlineCode\",{parentName:\"p\"},`5985`),` or whatever value\nyou have the service set to listen on.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`This is a template engine and allows access to the following variables:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .HTTPIP }}`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .HTTPPort }}`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .HTTPDir }}`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .OutputDir }}`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .Name }}`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`{{ .SSHHostPort }}`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`qemu_img_args`),` (QemuImgArgs) - A map of custom arguments to pass to qemu-img commands, where the key\nis the subcommand, and the values are lists of strings for each flag.\nExample:`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In HCL:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`qemu_img_args`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` convert `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-o\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"preallocation=full\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` resize  `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-foo\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"bar\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` \"qemu_img_args\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`   \"convert\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-o\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"preallocation=full\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"resize\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-foo\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"bar\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Please note\nthat unlike qemuargs, these commands are not split into switch-value\nsub-arrays, because the basic elements in qemu-img calls are  unlikely\nto need an actual override.\nThe arguments will be constructed as follows:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`Convert:\nDefault is `,mdx(\"inlineCode\",{parentName:\"li\"},`qemu-img convert -O $format $sourcepath $targetpath`),`. Adding\narguments `,`[\"-foo\", \"bar\"]`,` to qemu_img_args.convert will change this to\n`,mdx(\"inlineCode\",{parentName:\"li\"},`qemu-img convert -foo bar -O $format $sourcepath $targetpath`)),mdx(\"li\",{parentName:\"ul\"},`Create:\nDefault is `,mdx(\"inlineCode\",{parentName:\"li\"},`create -f $format $targetpath $size`),`. Adding arguments\n`,`[\"-foo\", \"bar\"]`,` to qemu_img_args.create will change this to\n\"create -f qcow2 -foo bar target.qcow2 1234M\"`),mdx(\"li\",{parentName:\"ul\"},`Resize:\nDefault is `,mdx(\"inlineCode\",{parentName:\"li\"},`qemu-img resize -f $format $sourcepath $size`),`. Adding\narguments `,`[\"-foo\", \"bar\"]`,` to qemu_img_args.resize will change this to\n`,mdx(\"inlineCode\",{parentName:\"li\"},`qemu-img resize -f $format -foo bar $sourcepath $size`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`qemu_binary`),` (string) - The name of the Qemu binary to look for. This\ndefaults to qemu-system-x86_64, but may need to be changed for\nsome platforms. For example qemu-kvm, or qemu-system-i386 may be a\nbetter choice for some systems.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`qmp_enable`),` (bool) - Enable QMP socket. Location is specified by `,mdx(\"inlineCode\",{parentName:\"p\"},`qmp_socket_path`),`. Defaults\nto false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`qmp_socket_path`),` (string) - QMP Socket Path when `,mdx(\"inlineCode\",{parentName:\"p\"},`qmp_enable`),` is true. Defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`output_directory`),`/`,mdx(\"inlineCode\",{parentName:\"p\"},`vm_name`),`.monitor.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`use_default_display`),` (bool) - If true, do not pass a -display option\nto qemu, allowing it to choose the default. This may be needed when running\nunder macOS, and getting errors about sdl not being available.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vga`),` (string) - The type of VGA card to emulate. If undefined, this will not be included\nin the command-line, and the default qemu value for the emulated machine\nwill be picked.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`display`),` (string) - What QEMU -display option to use. Defaults to gtk, use none to not pass the\n-display option allowing QEMU to choose the default. This may be needed when\nrunning under macOS, and getting errors about sdl not being available.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vnc_bind_address`),` (string) - The IP address that should be\nbinded to for VNC. By default packer will use 127.0.0.1 for this. If you\nwish to bind to all interfaces use 0.0.0.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vnc_use_password`),` (bool) - Whether or not to set a password on the VNC server. This option\nautomatically enables the QMP socket. See `,mdx(\"inlineCode\",{parentName:\"p\"},`qmp_socket_path`),`. Defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vnc_port_min`),` (int) - The minimum and maximum port\nto use for VNC access to the virtual machine. The builder uses VNC to type\nthe initial boot_command. Because Packer generally runs in parallel,\nPacker uses a randomly chosen port in this range that appears available. By\ndefault this is 5900 to 6000. The minimum and maximum ports are inclusive.\nThe minimum port cannot be set below 5900 due to a quirk in how QEMU parses\nvnc display address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vnc_port_max`),` (int) - VNC Port Max`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vm_name`),` (string) - This is the name of the image (QCOW2 or IMG) file for\nthe new virtual machine. By default this is packer-BUILDNAME, where\n\"BUILDNAME\" is the name of the build. Currently, no file extension will be\nused unless it is specified in this option.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cdrom_interface`),` (string) - The interface to use for the CDROM device which contains the ISO image.\nAllowed values include any of `,mdx(\"inlineCode\",{parentName:\"p\"},`ide`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`scsi`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio`),` or\n`,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-scsi`),`. The Qemu builder uses `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio`),` by default.\nSome ARM64 images require `,mdx(\"inlineCode\",{parentName:\"p\"},`virtio-scsi`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vtpm`),` (bool) - Use a virtual (emulated) TPM device to expose to the VM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`use_tpm1`),` (bool) - Use version 1.2 of the TPM specification for the emulated TPM.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`By default, we use version 2.0 of the TPM specs for the emulated TPM,\nif you want to force version 1.2, set this option to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`tpm_device_type`),` (string) - The TPM device type to inject in the qemu command-line`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`This is required to be specified for some platforms, as the device has to\nbehave differently depending on the architecture.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`As per the docs:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`x86: tpm-tis (default)`),mdx(\"li\",{parentName:\"ul\"},`ARM: tpm-tis-device`),mdx(\"li\",{parentName:\"ul\"},`PPC (p-series): tpm-spapr`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`boot_steps`),` (`,`[][]`,`string) - This is an array of tuples of boot commands, to type when the virtual\nmachine is booted. The first element of the tuple is the actual boot\ncommand. The second element of the tuple, which is optional, is a\ndescription of what the boot command does. This is intended to be used for\ninteractive installers that requires many commands to complete the\ninstallation. Both the command and the description will be printed when\nlogging is enabled. When debug mode is enabled Packer will pause after\ntyping each boot command. This will make it easier to follow along the\ninstallation process and make sure the Packer and the installer are in\nsync. `,mdx(\"inlineCode\",{parentName:\"p\"},`boot_steps`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`boot_commands`),` are mutually exclusive.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Example:`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In HCL:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`boot_steps `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"1\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Install NetBSD\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Installation messages in English\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Keyboard type: unchanged\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Install NetBSD to hard disk\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"b\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Yes\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"boot_steps\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"1\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Install NetBSD\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Installation messages in English\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Keyboard type: unchanged\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"a\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Install NetBSD to hard disk\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"b\u003center\u003e\u003cwait5\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Yes\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cpu_model`),` (string) - The CPU model is what will be used by qemu for booting the virtual machine\nand determine which features of a specific model/family of processors\nis supported.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Any string is supported here, and to see which models are supported\nby qemu for a specific architecture, refer to `,mdx(\"inlineCode\",{parentName:\"p\"},`qemu -cpu help`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The default value here is that no cpu option will be passed through to qemu,\ntherefore it will default to whichever CPU model is the default for the\ntargetted system (on x86_64 for example, it will be qemu64)`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: RHEL9 removed support for `,mdx(\"inlineCode\",{parentName:\"p\"},`qemu64`),` in their distributed qemu package,\nforcing users of RHEL9 on x86_64 systems to define this. \"host\" is a\nreasonable value if using an hypervisor.`))),mdx(\"h2\",{\"id\":\"user-content-iso-configuration\",\"data-text-content\":\"ISO Configuration\",\"className\":\"g-type-display-3\"},`ISO Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`By default, Packer will symlink, download or copy image files to the Packer\ncache into a \"`,mdx(\"inlineCode\",{parentName:\"p\"},`hash($iso_url+$iso_checksum).$iso_target_extension`),`\" file.\nPacker uses `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/go-getter\"},`hashicorp/go-getter`),` in\nfile mode in order to perform a download.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`go-getter supports the following protocols:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Local files`),mdx(\"li\",{parentName:\"ul\"},`Git`),mdx(\"li\",{parentName:\"ul\"},`Mercurial`),mdx(\"li\",{parentName:\"ul\"},`HTTP`),mdx(\"li\",{parentName:\"ul\"},`Amazon S3`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Examples:\ngo-getter can guess the checksum type based on `,mdx(\"inlineCode\",{parentName:\"p\"},`iso_checksum`),` length, and it is\nalso possible to specify the checksum type.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"file://./shasums.txt\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"file:./shasums.txt\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_checksum `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_checksum `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_checksum `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"file://./shasums.txt\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_checksum `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"file:./shasums.txt\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"`)),`\n`,`\n`)),mdx(\"h3\",{\"id\":\"user-content-required:\",\"data-text-content\":\"Required\",\"className\":\"g-type-display-4\"},`Required:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_checksum`),` (string) - The checksum for the ISO file or virtual hard drive file. The type of\nthe checksum is specified within the checksum field as a prefix, ex:\n\"md5:{$checksum}\". The type of the checksum can also be omitted and\nPacker will try to infer it based on string length. Valid values are\n\"none\", \"{$checksum}\", \"md5:{$checksum}\", \"sha1:{$checksum}\",\n\"sha256:{$checksum}\", \"sha512:{$checksum}\" or \"file:{$path}\". Here is a\nlist of valid checksum values:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`md5:090992ba9fd140077b0661cb75f7ce13`),mdx(\"li\",{parentName:\"ul\"},`090992ba9fd140077b0661cb75f7ce13`),mdx(\"li\",{parentName:\"ul\"},`sha1:ebfb681885ddf1234c18094a45bbeafd91467911`),mdx(\"li\",{parentName:\"ul\"},`ebfb681885ddf1234c18094a45bbeafd91467911`),mdx(\"li\",{parentName:\"ul\"},`sha256:ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93`),mdx(\"li\",{parentName:\"ul\"},`ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93`),mdx(\"li\",{parentName:\"ul\"},`file:`,mdx(\"a\",{parentName:\"li\",\"href\":\"http://releases.ubuntu.com/20.04/SHA256SUMS\"},`http://releases.ubuntu.com/20.04/SHA256SUMS`)),mdx(\"li\",{parentName:\"ul\"},`file:file://./local/path/file.sum`),mdx(\"li\",{parentName:\"ul\"},`file:./local/path/file.sum`),mdx(\"li\",{parentName:\"ul\"},`none\nAlthough the checksum will not be verified when it is set to \"none\",\nthis is not recommended since these files can be very large and\ncorruption does happen from time to time.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_url`),` (string) - A URL to the ISO containing the installation image or virtual hard drive\n(VHD or VHDX) file to clone.`))),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_urls`),` ([]string) - Multiple URLs for the ISO to download. Packer will try these in order.\nIf anything goes wrong attempting to download or while downloading a\nsingle URL, it will move on to the next. All URLs must point to the same\nfile (same checksum). By default this is empty and `,mdx(\"inlineCode\",{parentName:\"p\"},`iso_url`),` is used.\nOnly one of `,mdx(\"inlineCode\",{parentName:\"p\"},`iso_url`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`iso_urls`),` can be specified.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_target_path`),` (string) - The path where the iso should be saved after download. By default will\ngo in the packer cache, with a hash of the original filename and\nchecksum as its name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iso_target_extension`),` (string) - The extension of the iso file after download. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`iso`),`.`))),mdx(\"h2\",{\"id\":\"user-content-http-directory-configuration\",\"data-text-content\":\"Http directory configuration\",\"className\":\"g-type-display-3\"},`Http directory configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Packer will create an http server serving `,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),` when it is set, a\nrandom free port will be selected and the architecture of the directory\nreferenced will be available in your builder.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Example usage from a builder:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg\n`)),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),` (string) - Path to a directory to serve using an HTTP server. The files in this\ndirectory will be available over HTTP that will be requestable from the\nvirtual machine. This is useful for hosting kickstart files and so on.\nBy default this is an empty string, which means no HTTP server will be\nstarted. The address and port of the HTTP server will be available as\nvariables in `,mdx(\"inlineCode\",{parentName:\"p\"},`boot_command`),`. This is covered in more detail below.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`http_content`),` (map`,`[string]`,`string) - Key/Values to serve using an HTTP server. `,mdx(\"inlineCode\",{parentName:\"p\"},`http_content`),` works like and\nconflicts with `,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),`. The keys represent the paths and the\nvalues contents, the keys must start with a slash, ex: `,mdx(\"inlineCode\",{parentName:\"p\"},`/path/to/file`),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`http_content`),` is useful for hosting kickstart files and so on. By\ndefault this is empty, which means no HTTP server will be started. The\naddress and port of the HTTP server will be available as variables in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`boot_command`),`. This is covered in more detail below.\nExample:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  http_content `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"/a/b\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`     =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` file(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"http/b\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"/foo/bar\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` templatefile(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\\${`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`root`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`}`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/preseed.cfg\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` { packages `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"nginx\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`] })`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`http_port_min`),` (int) - These are the minimum and maximum port to use for the HTTP server\nstarted to serve the `,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),`. Because Packer often runs in\nparallel, Packer will choose a randomly available port in this range to\nrun the HTTP server. If you want to force the HTTP server to be on one\nport, make this minimum and maximum port the same. By default the values\nare `,mdx(\"inlineCode\",{parentName:\"p\"},`8000`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`9000`),`, respectively.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`http_port_max`),` (int) - HTTP Port Max`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`http_bind_address`),` (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that\nit will work with any network interface.`))),mdx(\"h2\",{\"id\":\"user-content-floppy-configuration\",\"data-text-content\":\"Floppy configuration\",\"className\":\"g-type-display-3\"},`Floppy configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`A floppy can be made available for your build. This is most useful for\nunattended Windows installs, which look for an Autounattend.xml file on\nremovable media. By default, no floppy will be attached. All files listed in\nthis setting get placed into the root directory of the floppy and the floppy\nis attached as the first floppy device. The summary size of the listed files\nmust not exceed 1.44 MB. The supported ways to move large files into the OS\nare using `,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),` or `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/provisioner/file\"},`the file\nprovisioner`),`.`),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`floppy_files`),` ([]string) - A list of files to place onto a floppy disk that is attached when the VM\nis booted. Currently, no support exists for creating sub-directories on\nthe floppy. Wildcard characters (`,`\\\\`,`*, ?, and `,`[`,`]`,`) are allowed. Directory\nnames are also allowed, which will add all the files found in the\ndirectory to the floppy.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`floppy_dirs`),` ([]string) - A list of directories to place onto the floppy disk recursively. This is\nsimilar to the `,mdx(\"inlineCode\",{parentName:\"p\"},`floppy_files`),` option except that the directory structure\nis preserved. This is useful for when your floppy disk includes drivers\nor if you just want to organize it's contents as a hierarchy. Wildcard\ncharacters (`,`\\\\`,`*, ?, and `,`[`,`]`,`) are allowed. The maximum summary size of\nall files in the listed directories are the same as in `,mdx(\"inlineCode\",{parentName:\"p\"},`floppy_files`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`floppy_content`),` (map`,`[string]`,`string) - Key/Values to add to the floppy disk. The keys represent the paths, and\nthe values contents. It can be used alongside `,mdx(\"inlineCode\",{parentName:\"p\"},`floppy_files`),` or\n`,mdx(\"inlineCode\",{parentName:\"p\"},`floppy_dirs`),`, which is useful to add large files without loading them\ninto memory. If any paths are specified by both, the contents in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`floppy_content`),` will take precedence.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Usage example (HCL):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`floppy_files `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"vendor-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`floppy_content `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"meta-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` jsonencode(local`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`instance_data)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` templatefile(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` { packages `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"nginx\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`] })`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`floppy_label `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"cidata\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`floppy_label`),` (string) - Floppy Label`))),mdx(\"h3\",{\"id\":\"user-content-cd-configuration\",\"data-text-content\":\"CD configuration\",\"className\":\"g-type-display-4\"},`CD configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`An iso (CD) containing custom files can be made available for your build.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`By default, no extra CD will be attached. All files listed in this setting\nget placed into the root directory of the CD and the CD is attached as the\nsecond CD device.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`This config exists to work around modern operating systems that have no\nway to mount floppy disks, which was our previous go-to for adding files at\nboot time.`),mdx(\"h4\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-5\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cd_files`),` ([]string) - A list of files to place onto a CD that is attached when the VM is\nbooted. This can include either files or directories; any directories\nwill be copied onto the CD recursively, preserving directory structure\nhierarchy. Symlinks will have the link's target copied into the directory\ntree on the CD where the symlink was. File globbing is allowed.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Usage example (JSON):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"cd_files\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"./somedirectory/meta-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"./somedirectory/user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`],`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"cd_label\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"cidata\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`,`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Usage example (HCL):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_files `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"./somedirectory/meta-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"./somedirectory/user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_label `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"cidata\"`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The above will create a CD with two files, user-data and meta-data in the\nCD root. This specific example is how you would create a CD that can be\nused for an Ubuntu 20.04 autoinstall.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Since globbing is also supported,`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_files `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"./somedirectory/*\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_label `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"cidata\"`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Would also be an acceptable way to define the above cd. The difference\nbetween providing the directory with or without the glob is whether the\ndirectory itself or its contents will be at the CD root.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Use of this option assumes that you have a command line tool installed\nthat can handle the iso creation. Packer will use one of the following\ntools:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`xorriso`),mdx(\"li\",{parentName:\"ul\"},`mkisofs`),mdx(\"li\",{parentName:\"ul\"},`hdiutil (normally found in macOS)`),mdx(\"li\",{parentName:\"ul\"},`oscdimg (normally found in Windows as part of the Windows ADK)`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cd_content`),` (map`,`[string]`,`string) - Key/Values to add to the CD. The keys represent the paths, and the values\ncontents. It can be used alongside `,mdx(\"inlineCode\",{parentName:\"p\"},`cd_files`),`, which is useful to add large\nfiles without loading them into memory. If any paths are specified by both,\nthe contents in `,mdx(\"inlineCode\",{parentName:\"p\"},`cd_content`),` will take precedence.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Usage example (HCL):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_files `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"vendor-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_content `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"meta-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` jsonencode(local`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`instance_data)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` templatefile(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"user-data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` { packages `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"nginx\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`] })`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`cd_label `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"cidata\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cd_label`),` (string) - CD Label`))),mdx(\"h2\",{\"id\":\"user-content-shutdown-configuration\",\"data-text-content\":\"Shutdown configuration\",\"className\":\"g-type-display-3\"},`Shutdown configuration`),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`shutdown_command`),` (string) - The command to use to gracefully shut down the machine once all\nprovisioning is complete. By default this is an empty string, which\ntells Packer to just forcefully shut down the machine. This setting can\nbe safely omitted if for example, a shutdown command to gracefully halt\nthe machine is configured inside a provisioning script. If one or more\nscripts require a reboot it is suggested to leave this blank (since\nreboots may fail) and instead specify the final shutdown command in your\nlast script.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`shutdown_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait after executing the shutdown_command for the\nvirtual machine to actually shut down. If the machine doesn't shut down\nin this time it is considered an error. By default, the time out is \"5m\"\n(five minutes).`))),mdx(\"h2\",{\"id\":\"user-content-communicator-configuration\",\"data-text-content\":\"Communicator configuration\",\"className\":\"g-type-display-3\"},`Communicator configuration`),mdx(\"h3\",{\"id\":\"user-content-optional-common-fields:\",\"data-text-content\":\"Optional common fields\",\"className\":\"g-type-display-4\"},`Optional common fields:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`communicator`),` (string) - Packer currently supports three kinds of communicators:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`none`),` - No communicator will be used. If this is set, most\nprovisioners also can't be used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh`),` - An SSH connection will be established to the machine. This\nis usually the default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm`),` - A WinRM connection will be established.`))),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In addition to the above, some builders have custom communicators they\ncan use. For example, the Docker builder has a \"docker\" communicator\nthat uses `,mdx(\"inlineCode\",{parentName:\"p\"},`docker exec`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`docker cp`),` to execute scripts and copy\nfiles.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\nguest's bootstrap script, but sometimes you may have a race condition\nwhere you need Packer to wait before attempting to connect to your\nguest.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If you end up in this situation, you can use the template option\n`,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),`. By default, there is no pause. For example if\nyou set `,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),` Packer will check whether it\ncan connect, as normal. But once a connection attempt is successful, it\nwill disconnect and then wait 10 minutes before connecting to the guest\nand beginning provisioning.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`host_port_min`),` (int) - The minimum port to use for the Communicator port on the host machine which is forwarded\nto the SSH or WinRM port on the guest machine. By default this is 2222.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`host_port_max`),` (int) - The maximum port to use for the Communicator port on the host machine which is forwarded\nto the SSH or WinRM port on the guest machine. Because Packer often runs in parallel,\nPacker will choose a randomly available port in this range to use as the\nhost port. By default this is 4444.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`skip_nat_mapping`),` (bool) - Defaults to false. When enabled, Packer\ndoes not setup forwarded port mapping for communicator (SSH or WinRM) requests and uses ssh_port or winrm_port\non the host to communicate to the virtual machine.`))),mdx(\"h3\",{\"id\":\"user-content-optional-ssh-fields:\",\"data-text-content\":\"Optional SSH fields\",\"className\":\"g-type-display-4\"},`Optional SSH fields:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_host`),` (string) - The address to SSH to. This usually is automatically configured by the\nbuilder.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_port`),` (int) - The port to connect to SSH. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_username`),` (string) - The username to connect to SSH with. Required if using SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_password`),` (string) - A plaintext password to use to authenticate with SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_ciphers`),` ([]string) - This overrides the value of ciphers supported by default by Golang.\nThe default value is `,`[\n\"aes128-gcm@openssh.com\",\n\"chacha20-poly1305@openssh.com\",\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n]`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Valid options for ciphers include:\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:aes128-gcm@openssh.com\"},`aes128-gcm@openssh.com`),`\",\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:chacha20-poly1305@openssh.com\"},`chacha20-poly1305@openssh.com`),`\",\n\"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_clear_authorized_keys`),` (bool) - If true, Packer will attempt to remove its temporary key from\n`,mdx(\"inlineCode\",{parentName:\"p\"},`~/.ssh/authorized_keys`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`/root/.ssh/authorized_keys`),`. This is a\nmostly cosmetic option, since Packer will delete the temporary private\nkey from the host system regardless of whether this is set to true\n(unless the user has set the `,mdx(\"inlineCode\",{parentName:\"p\"},`-debug`),` flag). Defaults to \"false\";\ncurrently only works on guests with `,mdx(\"inlineCode\",{parentName:\"p\"},`sed`),` installed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_key_exchange_algorithms`),` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\nsupported by default by Golang. Acceptable values include:\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:curve25519-sha256@libssh.org\"},`curve25519-sha256@libssh.org`),`\", \"ecdh-sha2-nistp256\",\n\"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n\"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_certificate_file`),` (string) - Path to user certificate used to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_pty`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, a PTY will be requested for the SSH connection. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\ndetermine when the machine has booted so this is usually quite long.\nExample value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),`.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`, unless `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_disable_agent_forwarding`),` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` (int) - The number of handshakes to attempt with SSH once it can connect.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`10`),`, unless a `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_host`),` (string) - A bastion host to use for the actual SSH connection.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_port`),` (int) - The port of the bastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_agent_auth`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the local SSH agent will be used to authenticate with the\nbastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_username`),` (string) - The username to connect to the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_password`),` (string) - The password to use to authenticate with the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_interactive`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the keyboard-interactive used to authenticate with bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with the\nbastion host. The `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_certificate_file`),` (string) - Path to user certificate used to authenticate with bastion host.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_method`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`scp`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`sftp`),` - How to transfer files, Secure copy (default) or SSH\nFile Transfer Protocol.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NOTE`),`: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n(the default protocol for copying data) returns a a non-zero error code since the MOTW\ncannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\nwith SFTP instead `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_protocol = \"sftp\"`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_host`),` (string) - A SOCKS proxy host to use for SSH connection`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_port`),` (int) - A port of the SOCKS proxy. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`1080`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_username`),` (string) - The optional username to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_password`),` (string) - The optional password to use to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_keep_alive_interval`),` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\nvalue (`,mdx(\"inlineCode\",{parentName:\"p\"},`-1s`),`) to disable. Example value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),`. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_read_write_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\nuseful if, for example, packer hangs on a connection after a reboot.\nExample: `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`. Disabled by default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_remote_tunnels`),` ([]string) - `)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_local_tunnels`),` ([]string) - `))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`ssh_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"li\"},`~`),` can be used in path and will be expanded to the home directory\nof current user.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_type`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`dsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ecdsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ed25519`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`rsa`),` ( the default )`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Specifies the type of key to create. The possible values are 'dsa',\n'ecdsa', 'ed25519', or 'rsa'.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure, please\nconsider other alternatives like RSA or ED25519.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_bits`),` (int) - Specifies the number of bits in the key to create. For RSA keys, the\nminimum size is 1024 bits and the default is 4096 bits. Generally, 3072\nbits is considered sufficient. DSA keys must be exactly 1024 bits as\nspecified by FIPS 186-2. For ECDSA keys, bits determines the key length\nby selecting from one of three elliptic curve sizes: 256, 384 or 521\nbits. Attempting to use bit lengths other than these three values for\nECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\nignored.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure as specified\nby FIPS 186-5, please consider other alternatives like RSA or ED25519.`))),mdx(\"h3\",{\"id\":\"user-content-optional-winrm-fields:\",\"data-text-content\":\"Optional WinRM fields\",\"className\":\"g-type-display-4\"},`Optional WinRM fields:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_username`),` (string) - The username to use to connect to WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_password`),` (string) - The password to use to connect to WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_host`),` (string) - The address for WinRM to connect to.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: If using an Amazon EBS builder, you can specify the interface\nWinRM connects to via\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_interface`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_no_proxy`),` (bool) - Setting this to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` adds the remote\n`,mdx(\"inlineCode\",{parentName:\"p\"},`host:port`),` to the `,mdx(\"inlineCode\",{parentName:\"p\"},`NO_PROXY`),` environment variable. This has the effect of\nbypassing any configured proxies when connecting to the remote host.\nDefault to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_port`),` (int) - The WinRM port to connect to. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5985`),` for plain\nunencrypted connection and `,mdx(\"inlineCode\",{parentName:\"p\"},`5986`),` for SSL when `,mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ssl`),` is set to\ntrue.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`30m`),` since setting up a Windows machine generally takes a long time.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ssl`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, use HTTPS for WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_insecure`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, do not check server certificate chain and host name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ntlm`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, NTLMv2 authentication (with session security) will be used\nfor WinRM, rather than default (basic authentication), removing the\nrequirement for basic authentication to be enabled within the target\nguest. Further reading for remote connection authentication can be found\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx\"},`here`),`.`))),mdx(\"h2\",{\"id\":\"user-content-boot-configuration\",\"data-text-content\":\"Boot Configuration\",\"className\":\"g-type-display-3\"},`Boot Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The boot command \"typed\" character for character over a VNC connection to\nthe machine, simulating a human actually typing the keyboard.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Keystrokes are typed as separate key up/down events over VNC with a default\n100ms delay. The delay alleviates issues with latency and CPU contention.\nYou can tune this delay on a per-builder basis by specifying\n\"boot_key_interval\" in your Packer template.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The boot configuration is very important: `,mdx(\"inlineCode\",{parentName:\"p\"},`boot_command`),` specifies the keys\nto type when the virtual machine is first booted in order to start the OS\ninstaller. This command is typed after boot_wait, which gives the virtual\nmachine some time to actually load.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The boot_command is an array of strings. The strings are all typed in\nsequence. It is an array only to improve readability within the template.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`There are a set of special keys available. If these are in your boot\ncommand, they will be replaced by the proper key:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cbs\u003e`),` - Backspace`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cdel\u003e`),` - Delete`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003center\u003e \u003creturn\u003e`),` - Simulates an actual \"enter\" or \"return\" keypress.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cesc\u003e`),` - Simulates pressing the escape key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003ctab\u003e`),` - Simulates pressing the tab key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cf1\u003e - \u003cf12\u003e`),` - Simulates pressing a function key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cup\u003e \u003cdown\u003e \u003cleft\u003e \u003cright\u003e`),` - Simulates pressing an arrow key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cspacebar\u003e`),` - Simulates pressing the spacebar.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cinsert\u003e`),` - Simulates pressing the insert key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003chome\u003e \u003cend\u003e`),` - Simulates pressing the home and end keys.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cpageUp\u003e \u003cpageDown\u003e`),` - Simulates pressing the page up and page down\nkeys.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cmenu\u003e`),` - Simulates pressing the Menu key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cleftAlt\u003e \u003crightAlt\u003e`),` - Simulates pressing the alt key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cleftCtrl\u003e \u003crightCtrl\u003e`),` - Simulates pressing the ctrl key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cleftShift\u003e \u003crightShift\u003e`),` - Simulates pressing the shift key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cleftSuper\u003e \u003crightSuper\u003e`),` - Simulates pressing the  or Windows key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cwait\u003e \u003cwait5\u003e \u003cwait10\u003e`),` - Adds a 1, 5 or 10 second pause before\nsending any additional keys. This is useful if you have to generally\nwait for the UI to update before typing more.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cwaitXX\u003e`),` - Add an arbitrary pause before sending any additional keys.\nThe format of `,mdx(\"inlineCode\",{parentName:\"p\"},`XX`),` is a sequence of positive decimal numbers, each with\noptional fraction and a unit suffix, such as `,mdx(\"inlineCode\",{parentName:\"p\"},`300ms`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`1.5h`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`2h45m`),`.\nValid time units are `,mdx(\"inlineCode\",{parentName:\"p\"},`ns`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`us`),` (or `,mdx(\"inlineCode\",{parentName:\"p\"},`\\xb5s`),`), `,mdx(\"inlineCode\",{parentName:\"p\"},`ms`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`s`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`m`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`h`),`. For\nexample `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cwait10m\u003e`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cwait1m20s\u003e`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`\u003cXXXOn\u003e \u003cXXXOff\u003e`),` - Any printable keyboard character, and of these\n\"special\" expressions, with the exception of the `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cwait\u003e`),` types, can\nalso be toggled on or off. For example, to simulate ctrl+c, use\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cleftCtrlOn\u003ec\u003cleftCtrlOff\u003e`),`. Be sure to release them, otherwise they\nwill be held down until the machine reboots. To hold the `,mdx(\"inlineCode\",{parentName:\"p\"},`c`),` key down,\nyou would use `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003ccOn\u003e`),`. Likewise, `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003ccOff\u003e`),` to release.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`{{ .HTTPIP }} {{ .HTTPPort }}`),` - The IP and port, respectively of an\nHTTP server that is started serving the directory specified by the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),` configuration parameter. If `,mdx(\"inlineCode\",{parentName:\"p\"},`http_directory`),` isn't\nspecified, these will be blank!`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`{{ .Name }}`),` - The name of the VM.`))),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Example boot command. This is actually a working boot command used to start an\nCentOS 6.4 installer:`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"boot_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       \"\u003ctab\u003e\u003cwait\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`)),`\n`,`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`boot_command `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       \"\u003ctab\u003e\u003cwait\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`)),`\n`,`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The example shown below is a working boot command used to start an Ubuntu\n12.04 installer:`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"boot_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"/install/vmlinuz noapic \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"hostname={{ .Name }} \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"fb=false debconf/frontend=noninteractive \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"keyboard-configuration/variant=USA console-setup/ask_detect=false \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"initrd=/install/initrd.gz -- \u003center\u003e\"`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`boot_command `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"/install/vmlinuz noapic \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"hostname={{ .Name }} \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"fb=false debconf/frontend=noninteractive \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"keyboard-configuration/variant=USA console-setup/ask_detect=false \"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"initrd=/install/initrd.gz -- \u003center\u003e\"`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`For more examples of various boot commands, see the sample projects from our\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://packer.io/community-tools#templates\"},`community templates page`),`.`),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disable_vnc`),` (bool) - Whether to create a VNC connection or not. A boot_command cannot be used\nwhen this is true. Defaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`boot_key_interval`),` (duration string | ex: \"1h5m2s\") - Time in ms to wait between each key press`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`boot_keygroup_interval`),` (duration string | ex: \"1h5m2s\") - Time to wait after sending a group of key pressses. The value of this\nshould be a duration. Examples are `,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`1m30s`),` which will cause\nPacker to wait five seconds and one minute 30 seconds, respectively. If\nthis isn't specified, a sensible default value is picked depending on\nthe builder type.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`boot_wait`),` (duration string | ex: \"1h5m2s\") - The time to wait after booting the initial virtual machine before typing\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`boot_command`),`. The value of this should be a duration. Examples are\n`,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`1m30s`),` which will cause Packer to wait five seconds and one\nminute 30 seconds, respectively. If this isn't specified, the default is\n`,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),` or 10 seconds. To set boot_wait to 0s, use a negative number, such\nas \"-1s\"`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`boot_command`),` ([]string) - This is an array of commands to type when the virtual machine is first\nbooted. The goal of these commands should be to type just enough to\ninitialize the operating system installer. Special keys can be typed as\nwell, and are covered in the section below on the boot command. If this\nis not specified, it is assumed the installer will start itself.`))),mdx(\"h2\",{\"id\":\"user-content-efi-boot-configuration\",\"data-text-content\":\"EFI Boot Configuration\",\"className\":\"g-type-display-3\"},`EFI Boot Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Booting in EFI mode`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Use these options if wanting to boot on a UEFI firmware, as the options to\ndo so are different from what BIOS (default) booting will require.`),mdx(\"h3\",{\"id\":\"user-content-optional\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`efi_boot`),` (bool) - Boot in EFI mode instead of BIOS. This is required for more modern\nguest OS. If either or both of `,mdx(\"inlineCode\",{parentName:\"p\"},`efi_firmware_code`),` or\n`,mdx(\"inlineCode\",{parentName:\"p\"},`efi_firmware_vars`),` are defined, this will implicitely be set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: when using a Secure-Boot enabled firmware, the machine type has\nto be q35, otherwise qemu will not boot.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`efi_firmware_code`),` (string) - Path to the CODE part of OVMF (or other compatible firmwares)\nThe OVMF_CODE.fd file contains the bootstrap code for booting in EFI\nmode, and requires a separate VARS.fd file to be able to persist data\nbetween boot cycles.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Default: `,mdx(\"inlineCode\",{parentName:\"p\"},`/usr/share/OVMF/OVMF_CODE.fd`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`efi_firmware_vars`),` (string) - Path to the VARS corresponding to the OVMF code file.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Default: `,mdx(\"inlineCode\",{parentName:\"p\"},`/usr/share/OVMF/OVMF_VARS.fd`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`efi_drop_efivars`),` (bool) - Drop the efivars.fd file in the exported artifact.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In addition to the disks created by the builder, we also expose the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`efivars.fd`),` file if the image was booted with UEFI enabled.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`However, if the output is consumed by a post-processor (like AWS,\nGCP, etc.), this may not be supported by the code, and since the file\nis not a disk image, this will error.\nThis option can then be used to remove the `,mdx(\"inlineCode\",{parentName:\"p\"},`efivars.fd`),` from the\nartifact produced by the builder, so it only lists the disks produced\ninstead.`))),mdx(\"h2\",{\"id\":\"user-content-smp-configuration\",\"data-text-content\":\"SMP Configuration\",\"className\":\"g-type-display-3\"},`SMP Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`QemuSMPConfig sets the smp configuration option for the Qemu command-line`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The smp option sets the number of vCPUs to expose to the VM, the final\nnumber of available vCPUs is `,mdx(\"inlineCode\",{parentName:\"p\"},`sockets * cores * threads`),`.`),mdx(\"h3\",{\"id\":\"user-content-optional\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cpus`),` (int) - The number of virtual cpus to use when building the VM.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If undefined, the value will either be `,mdx(\"inlineCode\",{parentName:\"p\"},`1`),`, or the product of\n`,mdx(\"inlineCode\",{parentName:\"p\"},`sockets * cores * threads`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If this is defined in conjunction with any topology specifier (sockets,\ncores and/or threads), the smallest of the two will be used.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If the cpu count is the only thing specified, qemu's default behaviour\nregarding topology will be applied.\nThe behaviour depends on the version of qemu; before version 6.2, sockets\nwere preferred to cores, from version 6.2 onwards, cores are preferred.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`sockets`),` (int) - The number of sockets to use when building the VM.\nThe default is `,mdx(\"inlineCode\",{parentName:\"p\"},`1`),` socket.\nThe socket count must not be higher than the CPU count.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cores`),` (int) - The number of cores per CPU to use when building the VM.\nThe default is `,mdx(\"inlineCode\",{parentName:\"p\"},`1`),` core per CPU.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`threads`),` (int) - The number of threads per core to use when building the VM.\nThe default is `,mdx(\"inlineCode\",{parentName:\"p\"},`1`),` thread per core.`))),mdx(\"h3\",{\"id\":\"user-content-communicator-configuration\",\"data-text-content\":\"Communicator Configuration\",\"className\":\"g-type-display-4\"},`Communicator Configuration`),mdx(\"h4\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-5\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`communicator`),` (string) - Packer currently supports three kinds of communicators:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`none`),` - No communicator will be used. If this is set, most\nprovisioners also can't be used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh`),` - An SSH connection will be established to the machine. This\nis usually the default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm`),` - A WinRM connection will be established.`))),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In addition to the above, some builders have custom communicators they\ncan use. For example, the Docker builder has a \"docker\" communicator\nthat uses `,mdx(\"inlineCode\",{parentName:\"p\"},`docker exec`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`docker cp`),` to execute scripts and copy\nfiles.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\nguest's bootstrap script, but sometimes you may have a race condition\nwhere you need Packer to wait before attempting to connect to your\nguest.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If you end up in this situation, you can use the template option\n`,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),`. By default, there is no pause. For example if\nyou set `,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),` Packer will check whether it\ncan connect, as normal. But once a connection attempt is successful, it\nwill disconnect and then wait 10 minutes before connecting to the guest\nand beginning provisioning.`))),mdx(\"h3\",{\"id\":\"user-content-ssh-key-pair-automation\",\"data-text-content\":\"SSH key pair automation\",\"className\":\"g-type-display-4\"},`SSH key pair automation`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The QEMU builder can inject the current SSH key pair's public key into\nthe template using the `,mdx(\"inlineCode\",{parentName:\"p\"},`SSHPublicKey`),` template engine. This is the SSH public\nkey as a line in OpenSSH authorized_keys format.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`When a private key is provided using `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_private_key_file`),`, the key's\ncorresponding public key can be accessed using the above engine.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`ssh_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"li\"},`~`),` can be used in path and will be expanded to the home directory\nof current user.`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_password`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_private_key_file`),` are not specified, Packer will\nautomatically generate en ephemeral key pair. The key pair's public key can\nbe accessed using the template engine.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`For example, the public key can be provided in the boot command as a URL\nencoded string by appending `,mdx(\"inlineCode\",{parentName:\"p\"},`| urlquery`),` to the variable:`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In JSON:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"boot_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user \\`username\\` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In HCL2:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`boot_command `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"\u003cup\u003e\u003cwait\u003e\u003ctab\u003e text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/ks.cfg PACKER_USER={{ user \\`username\\` }} PACKER_AUTHORIZED_KEY={{ .SSHPublicKey | urlquery }}\u003center\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`A kickstart could then leverage those fields from the kernel command line by\ndecoding the URL-encoded public key:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`%post`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# Newly created users need the file/folder framework for SSH key authentication.`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`umask`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 0077`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`mkdir`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /etc/skel/.ssh`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`touch`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /etc/skel/.ssh/authorized_keys`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# Loop over the command line. Set interesting variables.`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`for`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` x `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`in`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` $(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`cat`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /proc/cmdline)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`do`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  case`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` $x `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`in`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    PACKER_USER=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`*`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      PACKER_USER`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"\\${x`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`#*`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`=}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ;;`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    PACKER_AUTHORIZED_KEY=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`*`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`      # URL decode $encoded into $PACKER_AUTHORIZED_KEY`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      encoded`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`$(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`echo`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\\${x`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`#*`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`=}\" `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`|`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` tr`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '+' ' ')`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`      printf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -v`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` PACKER_AUTHORIZED_KEY`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '%b'`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\\${encoded`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`//%/`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\\\\\\\\x}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ;;`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  esac`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`done`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# Create/configure packer user, if any.`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`-n`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"$PACKER_USER\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`then`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  useradd`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` $PACKER_USER`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  echo`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"%$PACKER_USER ALL=(ALL) NOPASSWD: ALL\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` \u003e\u003e`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /etc/sudoers.d/`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`$PACKER_USER`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`-n`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"$PACKER_AUTHORIZED_KEY\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ] `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`\u0026\u0026`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` echo`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` $PACKER_AUTHORIZED_KEY `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003e\u003e`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` $(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`eval`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` echo ~\"$PACKER_USER\")/.ssh/authorized_keys`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`fi`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`%end`)),`\n`)),mdx(\"h3\",{\"id\":\"user-content-troubleshooting\",\"data-text-content\":\"Troubleshooting\",\"className\":\"g-type-display-4\"},`Troubleshooting`),mdx(\"h4\",{\"id\":\"user-content-invalid-keymaps\",\"data-text-content\":\"Invalid Keymaps\",\"className\":\"g-type-display-5\"},`Invalid Keymaps`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Some users have experienced errors complaining about invalid keymaps. This\nseems to be related to having a `,mdx(\"inlineCode\",{parentName:\"p\"},`common`),` directory or file in the directory\nthey've run Packer in, like the Packer source directory. This appears to be an\nupstream bug with qemu, and the best solution for now is to remove the\nfile/directory or run in another directory.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Some users have reported issues with incorrect keymaps using qemu version 2.11.\nThis is a bug with qemu, and the solution is to upgrade, or downgrade to 2.10.1\nor earlier.`),mdx(\"h4\",{\"id\":\"user-content-corrupted-image-after-packer-calls-qemu-img-convert-on-osx\",\"data-text-content\":\"Corrupted image after Packer calls qemu-img convert on OSX\",\"className\":\"g-type-display-5\"},`Corrupted image after Packer calls qemu-img convert on OSX`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Due to an upstream bug with `,mdx(\"inlineCode\",{parentName:\"p\"},`qemu-img convert`),` on OSX, sometimes the qemu-img\nconvert call will create a corrupted image. If this is an issue for you, make\nsure that the the output format (provided using the option `,mdx(\"inlineCode\",{parentName:\"p\"},`format`),`) matches\nthe input file's format and file extension, and Packer will\nperform a simple copy operation instead. You will also want to set\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\"skip_compaction\": true,`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`\"disk_compression\": false`),` to skip a final\nimage conversion at the end of the build. See\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://bugs.launchpad.net/qemu/+bug/1776920\"},`https://bugs.launchpad.net/qemu/+bug/1776920`),` for more details.`))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"QEMU","url":"/packer/integrations/hashicorp/qemu","isCurrentPage":false},{"title":"v1.1.0","url":"/packer/integrations/hashicorp/qemu/v1.1.0","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"QEMU","url":"/packer/integrations/hashicorp/qemu/latest/components/builder/qemu","isCurrentPage":true}]},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]/[integrationVersion]/components/[componentType]/[componentSlug]","query":{"productSlug":"packer","organizationSlug":"hashicorp","integrationSlug":"qemu","integrationVersion":"latest","componentType":"builder","componentSlug":"qemu"},"buildId":"Z0qtOHf-DkP1l78_miTsu","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>