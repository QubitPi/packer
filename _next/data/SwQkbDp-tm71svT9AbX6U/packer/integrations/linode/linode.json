{"pageProps":{"metadata":{"title":"Linode | Integrations","description":"Create Linode Images for use with Linode."},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://docs.hashicorp.com/sentinel-public/img/og-image.png","icon":[{"href":"/sentinel-public/favicon.svg","sizes":"16x16"},{"href":"/sentinel-public/favicon.svg","sizes":"32x32"},{"href":"/sentinel-public/favicon.svg","sizes":"96x96"},{"href":"/sentinel-public/favicon.svg","sizes":"192x192"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"add50253-bbb1-4e84-b0f2-b4957fdb9f28","slug":"linode","name":"Linode","description":"Create Linode Images for use with Linode.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"partner","repo_url":"https://github.com/linode/packer-plugin-linode","subdirectory":"/.web-docs","created_at":"2023-08-14T20:21:45.743Z","updated_at":"2023-12-04T21:11:45.272Z","hide_versions":false,"organization":{"id":"1a97d1bb-1ff6-495b-87ce-5e79166eaadc","slug":"linode","created_at":"2023-08-14T20:21:45.626Z","updated_at":"2023-08-14T20:21:45.626Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.5.3","1.5.2","1.5.1","1.5.0","1.4.1","1.4.0","1.3.2","1.3.1","1.3.0","0.0.0"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[{"id":"3709e036-b45f-4be8-9043-f7c8cc2af00f","slug":"hcp-ready","name":"HCP Ready","description":"This integration has been tested to work with HashiCorp Cloud Platform (HCP)","created_at":"2022-11-09T22:56:30.673Z","updated_at":"2022-11-09T22:56:30.673Z"}],"integration_type":null},"activeRelease":{"id":"272f2139-451e-468c-a3f9-28c37a6130e3","integration_id":"add50253-bbb1-4e84-b0f2-b4957fdb9f28","version":"1.5.3","readme":"The Linode plugin allows Packer to communicate with [Linode](https://www.linode.com/).\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    linode = {\n      version = \">= 1.0.1\"\n      source  = \"github.com/linode/linode\"\n    }\n  }\n}\n```\n\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/linode/linode\n```\n\n\n### Components\n\n#### Builders\n\n- [linode](/packer/integrations/linode/linode/latest/components/builder/linode) - The Linode Builder creates [Linode Images](https://www.linode.com/docs/guides/linode-images/) for use on [Linode](https://www.linode.com/).\n\n","created_at":"2024-07-15T17:32:33.054Z","updated_at":"2024-07-15T17:32:33.054Z","components":[{"id":"0ad14bdd-a4dd-4e0a-a2fa-3c44662b5077","integration_release_id":"272f2139-451e-468c-a3f9-28c37a6130e3","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `linode`\nArtifact BuilderId: `packer.linode`\n\nThe `linode` Packer builder is able to create [Linode\nImages](https://www.linode.com/docs/platform/disk-images/linode-images/) for\nuse with [Linode](https://www.linode.com). The builder takes a source image,\nruns any provisioning necessary on the image after launching it, then snapshots\nit into a reusable image. This reusable image can then be used as the\nfoundation of new servers that are launched within Linode.\n\nThe builder does _not_ manage images. Once it creates an image, it is up to you\nto use it or delete it.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\nIn addition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder. In addition to the options defined there, a private key file\ncan also be supplied to override the typical auto-generated key:\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n<!--\n  Linode.com has DDOS protection that returns 403 for the markdown link checker\n  so the domain has been added to the ignorepatterns in mlc_config.json\n\n  See https://github.com/tcort/markdown-link-check/issues/109\n-->\n\n### Required\n\n<!-- Code generated from the comments of the LinodeCommon struct in helper/common.go; DO NOT EDIT MANUALLY -->\n\n- `linode_token` (string) - The Linode API token required for provision Linode resources.\n  This can also be specified in `LINODE_TOKEN` environment variable.\n  Saving the token in the environment or centralized vaults\n  can reduce the risk of the token being leaked from the codebase.\n  `images:read_write`, `linodes:read_write`, and `events:read_only`\n  scopes are required for the API token.\n\n<!-- End of code generated from the comments of the LinodeCommon struct in helper/common.go; -->\n\n<!-- Code generated from the comments of the Config struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `region` (string) - The id of the region to launch the Linode instance in. Images are available in all\n  regions, but there will be less delay when deploying from the region where the image\n  was taken. See [regions](https://api.linode.com/v4/regions) for more information on\n  the available regions. Examples are `us-east`, `us-central`, `us-west`, `ap-south`,\n  `ca-east`, `ap-northeast`, `eu-central`, and `eu-west`.\n\n- `instance_type` (string) - The Linode type defines the pricing, CPU, disk, and RAM specs of the instance. See\n  [instance types](https://api.linode.com/v4/linode/types) for more information on the\n  available Linode instance types. Examples are `g6-nanode-1`, `g6-standard-2`,\n  `g6-highmem-16`, and `g6-dedicated-16`.\n\n- `image` (string) - An Image ID to deploy the Disk from. Official Linode Images start with `linode/`,\n  while user Images start with `private/`. See [images](https://api.linode.com/v4/images)\n  for more information on the Images available for use. Examples are `linode/debian9`,\n  `linode/fedora28`, `linode/ubuntu18.04`, `linode/arch`, and `private/12345`.\n\n<!-- End of code generated from the comments of the Config struct in builder/linode/config.go; -->\n\n\n### Optional\n\n<!-- Code generated from the comments of the Config struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `interface` ([]Interface) - Network Interfaces to add to this Linode’s Configuration Profile. Singular repeatable\n  block containing a `purpose`, a `label`, and an `ipam_address` field.\n\n- `authorized_keys` ([]string) - Public SSH keys need to be appended to the Linode instance.\n\n- `authorized_users` ([]string) - Users whose SSH keys need to be appended to the Linode instance.\n\n- `instance_label` (string) - The name assigned to the Linode Instance.\n\n- `instance_tags` ([]string) - Tags to apply to the instance when it is created.\n\n- `swap_size` (int) - The disk size (MiB) allocated for swap space.\n\n- `private_ip` (bool) - If true, the created Linode will have private networking enabled and assigned\n  a private IPv4 address.\n\n- `root_pass` (string) - The root password of the Linode instance for building the image. Please note that when\n  you create a new Linode instance with a private image, you will be required to setup a\n  new root password.\n\n- `image_label` (string) - The name of the resulting image that will appear\n  in your account. Defaults to `packer-{{timestamp}}` (see [configuration\n  templates](/packer/docs/templates/legacy_json_templates/engine) for more info).\n\n- `image_description` (string) - The description of the resulting image that will appear in your account. Defaults to \"\".\n\n- `state_timeout` (duration string | ex: \"1h5m2s\") - The time to wait, as a duration string, for the Linode instance to enter a desired state\n  (such as \"running\") before timing out. The default state timeout is \"5m\".\n\n- `stackscript_data` (map[string]string) - This attribute is required only if the StackScript being deployed requires input data from\n  the User for successful completion. See User Defined Fields (UDFs) for more details.\n  \n  This attribute is required to be valid JSON.\n\n- `stackscript_id` (int) - A StackScript ID that will cause the referenced StackScript to be run during deployment\n  of this Linode. A compatible image is required to use a StackScript. To get a list of\n  available StackScript and their permitted Images see /stackscripts. This field cannot\n  be used when deploying from a Backup or a Private Image.\n\n- `image_create_timeout` (duration string | ex: \"1h5m2s\") - The time to wait, as a duration string, for the disk image to be created successfully\n  before timing out. The default image creation timeout is \"10m\".\n\n- `cloud_init` (bool) - Whether the newly created image supports cloud-init.\n\n- `metadata` (Metadata) - An object containing user-defined data relevant to the creation of Linodes.\n\n- `firewall_id` (int) - The ID of the Firewall to attach this Linode to upon creation.\n\n<!-- End of code generated from the comments of the Config struct in builder/linode/config.go; -->\n\n\n#### Interface\n\nThis section outlines the fields configurable for a single interface object.\n\n##### Required Interface Common Attributes\n\n<!-- Code generated from the comments of the Interface struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `purpose` (string) - The purpose of this interface. (public, vlan, vpc)\n\n<!-- End of code generated from the comments of the Interface struct in builder/linode/config.go; -->\n\n\n##### Optional Interface Common Attributes\n\n<!-- Code generated from the comments of the Interface struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `primary` (bool) - Whether this interface is a primary interface.\n\n<!-- End of code generated from the comments of the Interface struct in builder/linode/config.go; -->\n\n\n##### VLAN-specific Attributes\n\n<!-- Code generated from the comments of the VLANInterfaceAttributes struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `label` (string) - The label of the VLAN this interface relates to.\n\n- `ipam_address` (string) - This Network Interface’s private IP address in CIDR notation.\n\n<!-- End of code generated from the comments of the VLANInterfaceAttributes struct in builder/linode/config.go; -->\n\n\n##### VPC-specific Attributes\n\n<!-- Code generated from the comments of the VPCInterfaceAttributes struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `subnet_id` (\\*int) - The ID of the VPC Subnet this interface references.\n\n- `ipv4` (\\*InterfaceIPv4) - The IPv4 configuration of this VPC interface.\n\n- `ip_ranges` ([]string) - The IPv4 ranges of this VPC interface.\n\n<!-- End of code generated from the comments of the VPCInterfaceAttributes struct in builder/linode/config.go; -->\n\n\n###### VPC Interface IPv4 configuration object\n\n<!-- Code generated from the comments of the InterfaceIPv4 struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `vpc` (string) - The IPv4 address from the VPC subnet to use for this interface.\n\n- `nat_1_1` (\\*string) - The public IPv4 address assigned to this Linode to be 1:1 NATed with the VPC IPv4 address.\n\n<!-- End of code generated from the comments of the InterfaceIPv4 struct in builder/linode/config.go; -->\n\n\n#### Metadata\n\nThis section outlines the fields configurable for a single metadata object.\n\n<!-- Code generated from the comments of the Metadata struct in builder/linode/config.go; DO NOT EDIT MANUALLY -->\n\n- `user_data` (string) - Base64-encoded (cloud-config)[https://www.linode.com/docs/products/compute/compute-instances/guides/metadata-cloud-config/] data.\n\n<!-- End of code generated from the comments of the Metadata struct in builder/linode/config.go; -->\n\n\n## Examples\n\n### Basic Example\n\nHere is a Linode builder example. The `linode_token` should be replaced with an\nactual [Linode Personal Access\nToken](https://www.linode.com/docs/platform/api/getting-started-with-the-linode-api/#get-an-access-token)\nor in the config file or the environmental variable, `LINODE_TOKEN`.\n\n**HCL2**\n\n```hcl\n\nlocals { timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\") }\n\nsource \"linode\" \"example\" {\n  image             = \"linode/debian11\"\n  image_description = \"My Private Image\"\n  image_label       = \"private-image-${local.timestamp}\"\n  instance_label    = \"temporary-linode-${local.timestamp}\"\n  instance_type     = \"g6-nanode-1\"\n  linode_token      = \"YOUR API TOKEN\"\n  region            = \"us-mia\"\n  ssh_username      = \"root\"\n}\n\nbuild {\n  sources = [\"source.linode.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"source\": {\n    \"linode\": {\n      \"example\": {\n        \"image\": \"linode/debian11\",\n        \"linode_token\": \"YOUR API TOKEN\",\n        \"region\": \"us-mia\",\n        \"instance_type\": \"g6-nanode-1\",\n        \"instance_label\": \"temporary-linode-{{timestamp}}\",\n        \"image_label\": \"private-image-{{timestamp}}\",\n        \"image_description\": \"My Private Image\",\n        \"ssh_username\": \"root\"\n      }\n    }\n  },\n  \"build\": {\n    \"sources\": [\n      \"source.linode.example\"\n    ]\n  }\n}\n```\n\n\n### Complicated Example\n\n**HCL2**\n\n```hcl\n\nlocals { timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\") }\n\nsource \"linode\" \"example\" {\n  image             = \"linode/debian11\"\n  image_description = \"My Private Image\"\n  image_label       = \"private-image-${local.timestamp}\"\n  instance_label    = \"temporary-linode-${local.timestamp}\"\n  instance_type     = \"g6-nanode-1\"\n  linode_token      = \"YOUR API TOKEN\"\n  region            = \"us-mia\"\n  ssh_username      = \"root\"\n  private_ip        = true\n  firewall_id       = 12345\n\n  instance_tags     = [\"abc\", \"foo=bar\"]\n  authorized_users  = [\"your_authorized_username\"]\n  authorized_keys   = [\"ssh-rsa AAAA_valid_public_ssh_key_123456785== user@their-computer\"]\n  stackscript_id    = 1177256\n  stackscript_data  = {\n    \"test_key\": \"test_value_1\"\n  }\n\n  interface {\n    purpose       = \"public\"\n  }\n\n  interface {\n    purpose       = \"vpc\"\n    subnet_id     = 123\n    ipv4 {\n        vpc = \"10.0.0.2\"\n        nat_1_1 = \"any\"\n    }\n  }\n\n  metadata {\n    user_data = base64encode(<<EOF\n#cloud-config\n\nwrite_files:\n  - path: /root/helloworld.txt\n    content: |\n      Hello, world!\n    owner: 'root:root'\n    permissions: '0644'\nEOF\n)\n  }\n}\n\nbuild {\n  sources = [\"source.linode.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"source\": {\n    \"linode\": {\n      \"example\": {\n        \"image\": \"linode/debian11\",\n        \"region\": \"us-southeast\",\n        \"instance_type\": \"g6-nanode-1\",\n        \"instance_label\": \"temporary-linode-{{timestamp}}\",\n        \"private_ip\": true,\n        \"image_label\": \"private-image-{{timestamp}}\",\n        \"image_description\": \"My Private Image\",\n        \"ssh_username\": \"root\",\n        \"authorized_users\": [\n          \"your_authorized_username\"\n        ],\n        \"authorized_keys\": [\n          \"ssh-rsa AAAA_valid_public_ssh_key_123456785== user@their-computer\"\n        ],\n        \"stackscript_id\": 123,\n        \"stackscript_data\": {\n          \"test_data\": \"test_value\"\n        },\n        \"interface\": [\n          {\n            \"purpose\": \"public\",\n            \"label\": \"\",\n            \"ipam_address\": \"\"\n          },\n          {\n            \"purpose\": \"vlan\",\n            \"label\": \"vlan-1\",\n            \"ipam_address\": \"10.0.0.1/24\"\n          },\n          {\n            \"purpose\": \"vlan\",\n            \"label\": \"vlan-2\",\n            \"ipam_address\": \"10.0.0.2/24\"\n          }\n        ]\n      }\n    }\n  },\n  \"build\": {\n    \"sources\": [\n      \"source.linode.example\"\n    ]\n  }\n}\n```\n","created_at":"2024-07-15T17:32:33.310Z","updated_at":"2024-07-15T17:32:33.310Z","name":"Linode","slug":"linode","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Linode","url":"/packer/integrations/linode/linode","isCurrentPage":true}],"anchorLinks":[{"id":"installation","level":3,"title":"Installation"},{"id":"components","level":3,"title":"Components"},{"id":"builders","level":4,"title":"Builders"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`The Linode plugin allows Packer to communicate with `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.linode.com/\"},`Linode`),`.`),mdx(\"h3\",{\"id\":\"user-content-installation\",\"data-text-content\":\"Installation\",\"className\":\"g-type-display-4\"},`Installation`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`To install this plugin, copy and paste this code into your Packer configuration, then run `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.packer.io/docs/commands/init\"},mdx(\"inlineCode\",{parentName:\"a\"},`packer init`)),`.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`packer`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  required_plugins`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    linode `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      version `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \">= 1.0.1\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      source  `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"github.com/linode/linode\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Alternatively, you can use `,mdx(\"inlineCode\",{parentName:\"p\"},`packer plugins install`),` to manage installation of this plugin.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` packer`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` plugins`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` install`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` github.com/linode/linode`)),`\n`)),mdx(\"h3\",{\"id\":\"user-content-components\",\"data-text-content\":\"Components\",\"className\":\"g-type-display-4\"},`Components`),mdx(\"h4\",{\"id\":\"user-content-builders\",\"data-text-content\":\"Builders\",\"className\":\"g-type-display-5\"},`Builders`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/packer/integrations/linode/linode/latest/components/builder/linode\"},`linode`),` - The Linode Builder creates `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.linode.com/docs/guides/linode-images/\"},`Linode Images`),` for use on `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.linode.com/\"},`Linode`),`.`)))};MDXContent.isMDXComponent=true;","scope":{}}},"__N_SSG":true}