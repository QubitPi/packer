<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Oracle Builder | Integrations | Packer | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Explore Packer product documentation, tutorials, and examples."/><meta name="twitter:description" content="Explore Packer product documentation, tutorials, and examples."/><meta property="og:site_name" content="Oracle Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:title" content="Oracle Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/packer/integrations/hashicorp/oracle/latest/components/builder/oci"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/icon.svg" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Packer","item":"https://developer.hashicorp.com/packer"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/packer/integrations"},{"@type":"ListItem","position":4,"name":"Oracle","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/oracle"},{"@type":"ListItem","position":5,"name":"v1.0.4","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/oracle/v1.0.4"},{"@type":"ListItem","position":6,"name":"Oracle Cloud Infrastructure","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/oracle/latest/components/builder/oci"}]}]</script><meta name="next-head-count" content="31"/><link rel="preload" href="/hashicorp-packer/_next/static/css/c621b75f20f9135a.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/c621b75f20f9135a.css" data-n-g=""/><link rel="preload" href="/hashicorp-packer/_next/static/css/46db8953ec6dc2da.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/46db8953ec6dc2da.css" data-n-p=""/><link rel="preload" href="/hashicorp-packer/_next/static/css/26afe300494d6bcd.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/26afe300494d6bcd.css" data-n-p=""/><link rel="preload" href="/hashicorp-packer/_next/static/css/2d34fcd0bdba49b0.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/2d34fcd0bdba49b0.css" data-n-p=""/><link rel="preload" href="/hashicorp-packer/_next/static/css/0f613fe490e205b0.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/0f613fe490e205b0.css" data-n-p=""/><link rel="preload" href="/hashicorp-packer/_next/static/css/b094ec1a0eeb50f7.css" as="style"/><link rel="stylesheet" href="/hashicorp-packer/_next/static/css/b094ec1a0eeb50f7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/hashicorp-packer/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/hashicorp-packer/_next/static/chunks/webpack-5807112211686a12.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/framework-2fe4cb6473b20297.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/main-7335293e23c346da.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/pages/_app-fbdec872f00a6a1b.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/5110-abef9c4251241be2.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/6298-0ebb749f40214f31.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/279-2ec7649c2610ad1d.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/5182-68aa414569a67250.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/6584-5218c448d7eacc13.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/1674-7b662558aac53369.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/3890-15dedba2a79fbb17.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/161-5ffad0d39bd4c34f.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/2539-4f6f4f80fb2915bc.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/8569-8ab7a5779bc00bb2.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/7347-fa648846f25ad408.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/386-d78e96edb73dbcba.js" defer=""></script><script src="/hashicorp-packer/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D/%5BintegrationVersion%5D/components/%5BcomponentType%5D/%5BcomponentSlug%5D-55acad9ce6b99354.js" defer=""></script><script src="/hashicorp-packer/_next/static/VGXTUm1VCSgK23NSRIBql/_buildManifest.js" defer=""></script><script src="/hashicorp-packer/_next/static/VGXTUm1VCSgK23NSRIBql/_ssgManifest.js" defer=""></script></head><body><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://artemis.hashicorp.com/script/"+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics._cdn="https://artemis.hashicorp.com";analytics.SNIPPET_VERSION="4.1.0";}}();</script><div id="__next"><div class="style_root__gtmO7 style_isShown__VBT3O style_hideOnMobile__8aYhN"><a href="https://hashi.co/dev-ai-signup" class="style_linkElem__N77Wq"><span class="style_textContainer__nWykx g-grid-container"><span class="style_tag__49wXK g-type-body-small-x-strong">HashiCorp Developer AI<!-- --> </span><span class="style_text__LAM7g g-type-body-small">Private beta now available<span class="style_linkText__zMT7D g-type-body-small-x-strong"> <!-- -->Sign up today</span></span></span></a><button class="style_closeButton__sM2Zq"><div><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 5L5 15M5 5l10 10" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_private-beta-now-available=1')) {
      const element = document.querySelector('.style_root__gtmO7')
      element.classList.remove('style_isShown__VBT3O')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__n_H9f"><div class="base-layout_root__eEe1S" data-layout="base-new"><div class="base-layout_header__tS5Up"><header class="navigation-header_root__melJh"><div class="navigation-header_leftSide__KvYLy"><div class="product-page-content_productsDropdown__ADVi_"><div class="dropdown-menu_root__6KZmR"><div class="dropdown-menu_activatorWrapper__CcEW9"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__ckTuF g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__qQbE_" data-heap-track="navigation-header-dropdown-menu-activator"><span class="dropdown-menu_activatorLeadingIcon__eumCf"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__wBq3i"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__9J6dL"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__PHNMa product-page-content_productsDropdownPane__tPPie" id="navigation-header-menu-react-aria-1" style="display:none"><ul class="dropdown-menu_itemGroup__oGM_M"><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M7.846 2.574a.25.25 0 01.308 0l5.25 4.12a.25.25 0 01.096.196v7.36a.75.75 0 001.5 0V6.89a1.75 1.75 0 00-.67-1.377L9.08 1.394a1.75 1.75 0 00-2.16 0l-5.25 4.12A1.75 1.75 0 001 6.89v7.36a.75.75 0 001.5 0V6.89a.25.25 0 01.096-.196l5.25-4.12z"></path><path d="M6.5 14.25V10.5h3v3.75a.75.75 0 001.5 0v-4C11 9.56 10.44 9 9.75 9h-3.5C5.56 9 5 9.56 5 10.25v4a.75.75 0 001.5 0z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">HashiCorp Developer</span></div></div></a></li></ul><hr class="dropdown-menu_itemGroupDivider__2hzpC"/><ul class="dropdown-menu_itemGroup__oGM_M"><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/hcp"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">HashiCorp Cloud Platform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/terraform"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-terraform-brand)"><path d="M1 0v5.05l4.349 2.527V2.526L1 0zM10.175 5.344l-4.35-2.525v5.05l4.35 2.527V5.344zM10.651 10.396V5.344L15 2.819v5.05l-4.349 2.527zM10.174 16l-4.349-2.526v-5.05l4.349 2.525V16z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Terraform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/packer"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Packer</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/consul"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Consul</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/vault"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Vault</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/boundary"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-boundary-brand)"><path d="M4.81 15v-1.085h2.25v-.67H5.968v-1.093h5.149L8.726 8l2.392-4.154H5.84v5.76H3V1h9.775l1.631 2.832L12.006 8l2.448 4.252L12.872 15H4.81z"></path><path d="M5.248 12.152h-1.09v1.092h1.09v-1.092zM3 13.907h1.09v1.092H3v-1.092z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Boundary</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/nomad"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Nomad</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/waypoint"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-waypoint-brand)"><path d="M4 5.312h1.334L10 13.4l3.334-5.777L10.666 3H8l2.666 4.623L10 8.778 6.667 3H0l6 10.4 1.333-2.31L4 5.311zM14.002 6.463L16 3h-3.996l1.998 3.463z"></path></g></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Waypoint</span></div></div></a></li><li><a class="dropdown-menu_itemLink__VpbEz g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" href="/hashicorp-packer/vagrant"><div class="dropdown-menu_itemLinkContent__DF_Kb"><div class="dropdown-menu_leftAlignedItemLinkContent__DNVQb"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__HoaSb"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="#1868F2" d="M13.08.75L9.924 2.58v1.123L8 8.245 6.076 3.703V2.58L2.92.75 1 1.864v1.293l4.276 10.514L8 15.25l2.724-1.579L15 3.157V1.864L13.08.75z"></path><path fill="#0850C5" d="M15 1.865l-3.157 1.829v1.124L9.28 10.57 8 11.312v3.939l2.724-1.579L15 3.158V1.865zM6.076 3.703V2.58l-1.92 1.113v1.125l2.564 5.751L8 9.827V8.245L6.076 3.703z"></path></svg></span><span class="text_root__WdIWm hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__rL_Fw">Vagrant</span></div></div></a></li></ul></div></div></div><div class="product-page-content_productLinkAndNav___DH4r"><a aria-label="Packer home" class="product-icon-text-link_root__8kSDs g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-product-logo-link" href="/hashicorp-packer/packer"><div class="product-icon-text-lockup_root__p7LuM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__i_EB4"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="product-icon-text-lockup_text__gfI6W hds-typography-body-200">Packer</span></div></a><nav class="nav-bar-list-container_nav__0Q0OL"><ul class="nav-bar-list-container_ul__sgfM9"><li><a aria-label="Packer Install" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/downloads"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Install</span></a></li><li><a aria-label="Packer Tutorials" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/tutorials"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Tutorials</span></a></li><li><a aria-label="Packer Documentation" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/docs"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Documentation</span></a></li><li><a aria-label="Packer Guides" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/guides"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Guides</span></a></li><li><a aria-label="Packer Plugins" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/plugins"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Plugins</span></a></li><li><a aria-label="Packer Integrations" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" href="/hashicorp-packer/packer/integrations"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Integrations</span></a></li><li><a aria-label="Packer Try Cloud" class="primary-nav-link_root__5e0jF g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="undefinedopens-in-new-tab-label-react-aria-19" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__zsIfa">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-19">(opens in new tab)</span></li></ul></nav></div></div><div class="navigation-header_rightSide__VIrVO"><button aria-label="Search" class="command-bar-activator_root__DsgCL g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__BhdH4"><span class="command-bar-activator_leadingIcon__eFqV7"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M7.25 2a5.25 5.25 0 103.144 9.455l2.326 2.325a.75.75 0 101.06-1.06l-2.325-2.326A5.25 5.25 0 007.25 2zM3.5 7.25a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__2TtkO">Search</span></span><span class="command-bar-activator_right__Uai8J"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root__LCJF3 badge_small__gwcZy badge_filled-neutral-dark-mode__mds6M command-bar-activator_keyBadge__Io5xa"><div class="cmd-ctrl-icon_root__5ZSUu"><svg width="41" height="11" viewBox="0 0 41 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.125 2.063V3h2.25v-.938a2.062 2.062 0 112.063 2.063H7.5v2.25h.938a2.062 2.062 0 11-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 11-2.063-2.063H3v-2.25h-.938a2.062 2.062 0 112.063-2.063zm-2.063-.938a.937.937 0 100 1.875H3v-.938a.937.937 0 00-.938-.937zM7.5 7.5v.938a.937.937 0 10.938-.938H7.5zM6.375 6.375v-2.25h-2.25v2.25h2.25zM2.062 7.5H3v.938a.937.937 0 11-.938-.938zM7.5 3h.938a.937.937 0 10-.938-.938V3z" fill="#fff"/><path d="M15.09 10.5L18.085 0h-1.097L14 10.5h1.09zm11.297-5.192c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281h1.368zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041H28.6zm4.607 9.315h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 00-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354v7.438zm5.431 0h1.407V0h-1.407v10.356z" fill="#fff"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root__LCJF3 badge_small__gwcZy badge_filled-neutral-dark-mode__mds6M command-bar-activator_keyBadge__Io5xa"><div class="k-icon_root__ac61X"><svg width="8" height="10" viewBox="0 0 8 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9h1.363z" fill="#fff"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__wYhHm"><div class="disclosure_root__AAinH dropdown-disclosure_root__KM3_y dropdown-disclosure_list-position--right__KzHJE"><button aria-controls="disclosure-react-aria-20-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__jqkij activator_root__cU8vM dropdown-disclosure_activator__Dk5J_ navigation-header_userDropdownDisclosureActivator__9VIsG g-focus-ring-from-box-shadow-dark activator_hasIcon__qoG5l g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__KnFKW"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__6hV29"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__77KIY dropdown-disclosure_content__GVRd1 undefined" id="disclosure-react-aria-20-content"><ul class="dropdown-disclosure_list__wyx6a"><li class="list-item_root__HMbDW"><button class="list-item_button__WHsV6 g-focus-ring-from-box-shadow"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/sign-up"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__HMbDW"><hr class="list-item_separator__frucY"/></li><li class="list-item_root__HMbDW user-dropdown-switcher_listItem__fwBD7 hds-font-weight-medium"><label class="theme-switcher_label__bs8JE hds-typography-body-200" for="react-aria-22">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__BDLU4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__Bvd4x"><div class="sidebar-sidecar-layout_root__8s1Nl sidebar-sidecar-layout_mainWidth-wide__3uqYb"><div class="mobile-menu-container_root__2_51o sidebar-sidecar-layout_sidebarContainer__DVNhA"><div class="sidebar-sidecar-layout_sidebarContentWrapper__Q5ntu"><div class="sidebar_sidebar__eQGRJ"><div class="sidebar_backToLinkWrapper__zbqbb"><div class="sidebar-back-to-link_root__37rRr"><a class="standalone-link_standaloneLink__BqSgp g-focus-ring-from-box-shadow standalone-link_primary__dy62o" data-heap-track="standalone-link sidebar-back-to-link" href="/hashicorp-packer/packer/integrations"><div class="standalone-link_standaloneLinkContents__ch8c6 standalone-link_medium__DU9ke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__mzzHK">Packer Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__EFmKd" id="sidebar-nav"><div><h2 class="sidebar-headings_root__7EIuF" id="sidebar-label"></h2></div><a class="skip-to-main-content_root__KEA0_ g-focus-border-and-box-shadow-light" href="#main">Skip to main content</a><ul class="sidebar_navList__Je2sN"><li><a class="sidebar-nav-highlight-item_root__s8AOR g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-packer__yMAXH" href="/hashicorp-packer/packer/integrations/hashicorp/oracle"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__10CMq"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="sidebar-nav-highlight-item_text__20W05 hds-typography-body-200">Oracle</span></a></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" id="undefined-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Builders</span><div class="sidebar-nav-menu-item_rightIconsContainer__FBm4_"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/classic"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Oracle Cloud Infrastructure Classic Compute</span></a></li><li><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Oracle Cloud Infrastructure</span></a></li></ul></li></ul><hr class="sidebar-horizontal-rule_root__e5nM5"/><ul class="sidebar_navList__Je2sN"><li><h3 class="sidebar-headings_root__7EIuF">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" href="/hashicorp-packer/tutorials/library?product=packer"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="undefinedopens-in-new-tab-label-react-aria-28" target="_blank" href="https://discuss.hashicorp.com/c/packer/23"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__FBm4_"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-28">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="undefinedopens-in-new-tab-label-react-aria-29" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__FBm4_"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-29">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__i1Wj0 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="undefinedopens-in-new-tab-label-react-aria-30" target="_blank" href="https://github.com/hashicorp/packer"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__EY1_n">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__FBm4_"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-30">(opens in new tab)</span></li></ul></nav></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__FtPII"><div class="sidebar-sidecar-layout_paddedAreaWrapper__95V0T"><div class="sidebar-sidecar-layout_breadcrumbContainer__7Yczs"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__vWUZe"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__Z5aTO"><ol class="breadcrumb-bar_listRoot__U6We_"><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer">Developer</a></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer/packer">Packer</a></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer/packer/integrations">Integrations</a></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer/packer/integrations/hashicorp/oracle">Oracle</a></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.4">v1.0.4</a></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><span class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item">Components</span></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><span class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item">Builder</span></li><li class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__Ew2MO"><a class="breadcrumb-bar_breadcrumbText__ftu3n g-focus-ring-from-box-shadow" aria-current="page" data-heap-track="breadcrumb-bar-item" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci">Oracle Cloud Infrastructure</a></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__x_g3M"><main id="main" class="sidebar-sidecar-layout_main__S864v"><div class="hds-surface-base card_root__hKIbm content-header-card_contentHeaderCard__o_pj5 style_header__hC90u"><div class="content-header-card_cardTop__k1b1K"><span class="icon-tile_root__VcaKq icon-tile_size-large__pgQmk icon-tile_color-packer__7zIDY content-header-card_icon__TE3Ym"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><div class="content-header-card_content__E_UK8"><div class="content-header-card_upper__ykPCb"><div class="disclosure_root__AAinH dropdown-disclosure_root__KM3_y dropdown-disclosure_list-position--right__KzHJE content-header-card_dropdown__C3vc7 g-hide-on-desktop g-hide-on-tablet"><button aria-controls="disclosure-react-aria-37-content" aria-expanded="false" class="button_root__eSBLF hds-font-weight-medium button_medium__uIVG8 button_secondary__KpNHc disclosure_activator__jqkij activator_root__cU8vM dropdown-disclosure_activator__Dk5J_" data-heap-track="button " type="button"><span>v1.0.4 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__6hV29"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__77KIY dropdown-disclosure_content__GVRd1 undefined" id="disclosure-react-aria-37-content"><ul class="dropdown-disclosure_list__wyx6a"><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.2/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.2</span></a></li><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.1/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.1</span></a></li><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.0/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.0</span></a></li></ul></div></div><div class="content-header-card_left__N62_5"><div class="content-header-card_titleWrap__TnJZ6"><span class="content-header-card_title__VPM8f hds-typography-display-300 from global, hds-font-weight-bold">Oracle</span><p class="text_root__WdIWm hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__xYqD_">@hashicorp</p></div><p class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular content-header-card_description__9nAXx">The Oracle multi-component plugin can be used with HashiCorp Packer to create custom images.</p></div><div class="disclosure_root__AAinH dropdown-disclosure_root__KM3_y dropdown-disclosure_list-position--right__KzHJE content-header-card_dropdown__C3vc7 g-hide-on-mobile"><button aria-controls="disclosure-react-aria-41-content" aria-expanded="false" class="button_root__eSBLF hds-font-weight-medium button_medium__uIVG8 button_secondary__KpNHc disclosure_activator__jqkij activator_root__cU8vM dropdown-disclosure_activator__Dk5J_" data-heap-track="button " type="button"><span>v1.0.4 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__6hV29"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__77KIY dropdown-disclosure_content__GVRd1 undefined" id="disclosure-react-aria-41-content"><ul class="dropdown-disclosure_list__wyx6a"><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.2/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.2</span></a></li><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.1/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.1</span></a></li><li class="list-item_root__HMbDW"><a class="list-item_link__HfxcT g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/v1.0.0/components/builder/oci"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-medium">v1.0.0</span></a></li></ul></div></div></div><div class="content-header-card_lower__eP0Xh"><ul class="badge-list_badgeList__c8eh4 content-header-card_badgeList__FpL3I"><li class="badge-list_badge__l2QZL"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Community</span><span aria-hidden="true" class="badge_root__LCJF3 badge_small__gwcZy badge_filled-neutral__5Spxj"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M6 2a3.5 3.5 0 100 7 3.5 3.5 0 000-7zM4 5.5a2 2 0 114 0 2 2 0 01-4 0z" clip-rule="evenodd"></path><path d="M4.25 10A3.75 3.75 0 00.5 13.75v.5a.75.75 0 001.5 0v-.5a2.25 2.25 0 012.25-2.25h3.5A2.25 2.25 0 0110 13.75v.5a.75.75 0 001.5 0v-.5A3.75 3.75 0 007.75 10h-3.5zM11.25 10.75A.75.75 0 0112 10h.25a3.25 3.25 0 013.25 3.25v1a.75.75 0 01-1.5 0v-1a1.75 1.75 0 00-1.75-1.75H12a.75.75 0 01-.75-.75zM11.273 2.24a.75.75 0 00-.546 1.396 2.001 2.001 0 010 3.728.75.75 0 00.546 1.397 3.501 3.501 0 000-6.522z"></path></g></svg><span>Community</span></span></span></li><li class="badge-list_badge__l2QZL"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">HCP Ready</span><span aria-hidden="true" class="badge_root__LCJF3 badge_small__gwcZy badge_filled-neutral__5Spxj"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9.78 7.28a.75.75 0 00-1.06-1.06l-.5.5a.75.75 0 001.06 1.06l.5-.5z"></path><path fill-rule="evenodd" d="M12.627 1.32a1.731 1.731 0 012.054 2.053c-.27 1.28-.686 3.19-1.103 4.859a3.625 3.625 0 01-.58 1.224c.002.015.002.03.002.044v2.441a1.75 1.75 0 01-.833 1.49l-2.021 1.244a1.75 1.75 0 01-2.284-.397l-1.27-1.587a2.028 2.028 0 01-1.08-.917 3.426 3.426 0 00-.542-.744 3.428 3.428 0 00-.744-.542c-.4-.223-.755-.61-.917-1.08l-1.587-1.27a1.75 1.75 0 01-.398-2.284l1.244-2.021A1.75 1.75 0 014.058 3H6.5l.044.001c.37-.263.777-.467 1.224-.579 1.669-.417 3.58-.833 4.859-1.103zm-5.43 9.956a.754.754 0 00-.167-.025.517.517 0 01-.209-.208 4.913 4.913 0 00-.79-1.073 4.913 4.913 0 00-1.074-.791.516.516 0 01-.208-.21.754.754 0 00-.025-.166l.002-.008c.255-.78.694-1.941 1.307-2.958.634-1.05 1.353-1.773 2.099-1.96 1.641-.41 3.53-.821 4.804-1.09a.231.231 0 01.277.277c-.269 1.274-.68 3.163-1.09 4.804-.187.746-.91 1.465-1.96 2.099-1.017.613-2.177 1.052-2.958 1.307a.173.173 0 01-.008.002zm1.139 1.193l.697.872a.25.25 0 00.327.057l2.021-1.244a.25.25 0 00.119-.213v-1.056c-.186.13-.375.252-.562.366-.88.53-1.832.936-2.602 1.218zM2.659 6.967l.872.697c.282-.77.687-1.722 1.218-2.602.113-.187.235-.376.366-.562H4.059a.25.25 0 00-.213.119L2.602 6.64a.25.25 0 00.057.327z" clip-rule="evenodd"></path><path d="M4.442 11.558a.625.625 0 010 .884l-2 2a.625.625 0 11-.884-.884l2-2a.625.625 0 01.884 0zM2.692 10.308a.625.625 0 010 .884l-.75.75a.625.625 0 11-.884-.884l.75-.75a.625.625 0 01.884 0zM5.692 14.192a.625.625 0 10-.884-.884l-.75.75a.625.625 0 10.884.884l.75-.75z"></path></g></svg><span>HCP Ready</span></span></span></li></ul><p class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular content-header-card_note__6aAxf">Updated 3 months ago</p></div></div></div><div class="content-header-card_cardBottom__Y_3o3"><ul class="content-header-card_linksList__rW2Fi"><li class="content-header-card_link__yhv4Q"><a class="standalone-link_standaloneLink__BqSgp g-focus-ring-from-box-shadow standalone-link_secondary__2IA5T" data-heap-track="standalone-link " rel="noreferrer noopener" aria-describedby="undefinedopens-in-new-tab-label-react-aria-45" target="_blank" href="https://github.com/hashicorp/packer-plugin-oracle/tree/main/docs"><div class="standalone-link_standaloneLinkContents__ch8c6 standalone-link_medium__DU9ke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__mzzHK">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-45">(opens in new tab)</span></li></ul></div></div><h1>Oracle Cloud Infrastructure</h1><div class="style_integrationComponentView__4R0r1"><div class="style_mdxWrapper__C0ShT"><div class="dev-dot-content_root__PM7Rc hds-typography-body-300"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Type: <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oracle-oci</code>
Artifact BuilderId: <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">packer.oracle.oci</code></p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oracle-oci</code> Packer builder is able to create new custom images for use
with <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://cloud.oracle.com">Oracle Cloud Infrastructure</a> (OCI). The builder
takes a base image, runs any provisioning necessary on the base image after
launching it, and finally snapshots it creating a reusable custom image.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">It is recommended that you familiarise yourself with the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm">Key Concepts and
Terminology</a>
prior to using this builder if you have not done so already.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The builder <em>does not</em> manage images. Once it creates an image, it is up to you
to use it or delete it.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-policy-reference"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Policy Reference permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#policy-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Policy Reference</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">When running this plugin as a non-administrative user, you will need to have OCI policies defined which will enable Packer to do its job.  </p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The following represent minimal required policies for the plugin to operate:</p><div class="g-code-block style_root__rglDp mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">Allow group PackerGroup to manage instance-family in compartment ${COMPARTMENT_NAME}<!-- -->
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">Allow group PackerGroup to manage instance-images in compartment ${COMPARTMENT_NAME}<!-- -->
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">Allow group PackerGroup to use virtual-network-family in compartment ${COMPARTMENT_NAME}<!-- -->
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">Allow group PackerGroup to use compute-image-capability-schema in tenancy<!-- -->
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">This example assumes the user running Packer is in a group named &#x27;PackerGroup&#x27;.  You will need to update ${COMPARTMENT_NAME} to the name of the
compartment in which the plugin is managing resources.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">For more details on working with OCI Policies, please refer to the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/Identity/policiesgs/get-started-with-policies.htm">OCI Policy Documentation</a></p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-authentication"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Authentication permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#authentication"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authentication</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">There are three authentication methods available for the OCI builder. The API
Signing Key of the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">DEFAULT</code> profile in the OCI
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdkconfig.htm#SDK_and_CLI_Configuration_File">SDK and CLI Configuration File</a>
will be used by default.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-api-signing-key"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="API Signing Key permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#api-signing-key"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>API Signing Key</h3><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The OCI REST API requires that requests be signed with the RSA public key
associated with your
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/Identity/Concepts/overview.htm">IAM</a>
user account. For a comprehensive example of how to configure the required
authentication see the documentation on <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/apisigningkey.htm">Required Keys and
OCIDs</a>
(<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/identifiers.htm">Oracle Cloud
IDs</a>).</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-instance-principal"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Instance Principal permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#instance-principal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Instance Principal</h3><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">If you run Packer on an OCI compute instance, you can configure Packer to use the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm">Instance Principal</a>
associated with that instance to authenticate instead of an API Signing Key that
is associated with a specific user. This method requires the creation of appropriately configured
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingdynamicgroups.htm">Dynamic Groups</a>
and <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm">Policies</a>.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://www.packer.io/docs/builder/oracle/oci#use_instance_principals"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code></a>
parameter is used to enable this method.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/example/oci_instance_principals.pkr.hcl"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oci_instance_principals.pkr.hcl</code></a>
and <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/example/oci_instance_principals.json"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oci_instance_principals.json</code></a> examples can be used as a reference for
configuring this authentication method.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-security-token"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Security Token permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#security-token"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Security Token</h3><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm">Token-based authentication</a>
requires you to interactively authenticate a session using the OCI CLI and a web
browser. The token that is created has an extremely limited TTL and must be
refreshed every hour for up to 24 hours. However, this method allows for
authentication using non-SCIM supported federated identity providers.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">To use token-based authentication, start a new session using the CLI&#x27;s
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm#Starting"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oci session authenticate</code></a>
command and provide the path to the configuration file as the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file</code>
configuration parameter and the name of the profile as the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file_account</code>
configuration parameter.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/example/oci_security_token.pkr.hcl"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oci_security_token.pkr.hcl</code></a> and
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/example/oci_security_token.json"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oci_security_token.json</code></a> examples can be
used as a reference for this method.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-configuration-reference"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Configuration Reference permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#configuration-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configuration Reference</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">There are many configuration options available for the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">oracle-oci</code> builder. In
addition to the options listed here, a
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/docs/templates/legacy_json_templates/communicator">communicator</a> can be configured for this
builder.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">In addition to the options defined there, a private key file
can also be supplied to override the typical auto-generated key:</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">ssh_private_key_file</code> (string) - Path to a PEM encoded private key file to use to authenticate with SSH.
The <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">~</code> can be used in path and will be expanded to the home directory
of current user.</li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-required-configuration-parameters"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Required configuration parameters permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#required-configuration-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Required configuration parameters</h3><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">availability_domain</code> (string) - The name of the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm">Availability
Domain</a>
within which a new instance is launched and provisioned. The names of the
Availability Domains have a prefix that is specific to your
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm#two">tenancy</a>.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">To get a list of the Availability Domains, use the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/identity/latest/AvailabilityDomain/ListAvailabilityDomains">ListAvailabilityDomains</a>
operation, which is available in the IAM Service API.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_ocid</code> (string) - The OCID of the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/Compute/References/images.htm">base
image</a>
to use. This is the unique identifier of the image that will be used to
launch a new instance and provision it.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">To get a list of the accepted image OCIDs, use the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Image/ListImages">ListImages</a>
operation available in the Core Services API.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_filter</code> (map of strings) - As an alternative to providing <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_ocid</code>,
the user can supply search criteria, and Packer will use the the most recent image that meets
all search criteria. If no image meets all search criteria, Packer returns an error. The
following fields, if specified, must match exactly:</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">compartment_id</code> - The OCID of the compartment to find the image. If not specified, will use <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">compartment_ocid</code>
used for the instance.</li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">display_name</code> - The full name of the image, e.g., <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">Oracle-Linux-7.8-2020.05.26-0</code></li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">operating_system</code> - The operating system used on the image, e.g., <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">Oracle Linux</code></li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">operating_system_version</code> - The version of the operating system on the image, e.g., <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">7.8</code></li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">shape</code> - A shape that the image supports. If not specified, will use <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">shape</code> used for the instance</li></ul><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Additionally, the following field takes a regular expression:</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">display_name_search</code> - a regular expression for the display name, e.g., <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">^Oracle-Linux</code>. This
is ignored if <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">display_name</code> is also specified under <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_filter</code>. If no images match
the expression, Packer returns an error. If multiple images match, the most recent is used.</li></ul><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_filter</code> is ignored if <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_ocid</code> is also specified.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">compartment_ocid</code> (string) - The OCID of the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Tasks/choosingcompartments.htm">compartment</a> that the instance will run in.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">shape</code> (string) - The template that determines the number of CPUs, amount
of memory, and other resources allocated to a newly created instance.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">To get a list of the available shapes, use the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/Shape/ListShapes">ListShapes</a>
operation available in the Core Services API.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">When using flexible shapes, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">ocpus</code> must be set.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">subnet_ocid</code> (string) - The name of the subnet within which a new instance
is launched and provisioned.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">To get a list of your subnets, use the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Subnet/ListSubnets">ListSubnets</a>
operation available in the Core Services API.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Note: the subnet must be configured to allow access via your chosen
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/docs/communicators">communicator</a> (communicator defaults to
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/docs/communicators/ssh#ssh_port">SSH tcp/22</a>).</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-authentication-parameters"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Authentication parameters permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#authentication-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authentication parameters</h3><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Each of the following configuration parameters is either <strong>mandatory</strong> or <strong>unacceptable</strong>
based on which authentication method is used.</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> (boolean) - Whether to use <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm">Instance
Principals</a>
instead of User Principals. If this key is set to true, setting any one of the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file</code>,
<code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file_account</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">region</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">tenancy_ocid</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">user_ocid</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">key_file</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">fingerprint</code>,
<code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">pass_phrase</code> parameters will cause an invalid configuration error.
Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file</code> (string) - The path to the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config
file</a>.
This parameter is <em>optional</em> when using token-based authentication.
This parameter <em>cannot</em> be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.
Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">$HOME/.oci/config</code>.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">access_cfg_file_account</code> (string) - The specific account in the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config
file</a> to use.
This parameter is <em>mandatory</em> when using token-based authentication.
This parameter <em>cannot</em> be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.
Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">DEFAULT</code>.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-overriding-authentication-defaults"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Overriding authentication defaults permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#overriding-authentication-defaults"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Overriding authentication defaults</h3><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">The following parameters can be used to override the default value provided by
or configured for the default OCI CLI authenticaton profile.</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">region</code> (string) - An Oracle Cloud Infrastructure region. Overrides value provided by the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config file</a>
if present. This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">tenancy_ocid</code> (string) - The OCID of your tenancy. Overrides value provided by the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config
file</a> if present.
This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">user_ocid</code> (string) - The OCID of the user calling the OCI API. Overrides value provided by the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config file</a>
if present. This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">key_file</code> (string) - Full path and filename of the OCI API signing key. Overrides value provided
by the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config file</a>
if present. This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">fingerprint</code> (string) - Fingerprint for the OCI API signing key. Overrides value provided by the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config file</a> if
present. This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">pass_phrase</code> (string) - Pass phrase used to decrypt the OCI API signing key. Overrides value provided
by the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm">OCI config file</a>
if present. This cannot be used along with the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_instance_principals</code> key.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h3__ST7wF" id="user-content-additional-configuration-parameters"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h3__6xxpA" aria-label="Additional configuration parameters permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#additional-configuration-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Additional configuration parameters</h3></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">skip_create_image</code> (bool) - Skip creating the image. Useful for setting to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">true</code> during a build test stage. Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">image_name</code> (string) - The name to assign to the resulting custom image.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">image_compartment_ocid</code> (string) - The OCID of the target compartment for the resulting image. Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">compartment_ocid</code>.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_name</code> (string) - The name to assign to the instance used for the image creation process.
If not set a name of the form <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instanceYYYYMMDDhhmmss</code> will be used.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_tags</code> (map of strings) - Add one or more freeform tags to the instance used for the
image creation process.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_defined_tags_json</code> (string) - Json string to add one or more defined tags for a given namespace
to the instance used for the image creation process. Only works on HCL2 templates. For old-style JSON templates,
use <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#instance_defined_tags">instance_defined_tags</a> instead.</p><div class="g-code-block style_root__rglDp language-hcl mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token property">instance_defined_tags_json</span> <span class="token punctuation">=</span> jsonencode(<span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;Operations&quot;</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;Environment&quot;</span> <span class="token punctuation">=</span> <span class="token string">&quot;prod&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;Team&quot;</span>        <span class="token punctuation">=</span> <span class="token string">&quot;CostCenter&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>)<!-- -->
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_defined_tags</code> (map of maps of strings) - Add one or more defined tags for a given namespace
to the instance used for the image creation process. Only works on old-style JSON templates. For HCL2 templates,
use <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#instance_defined_tags_json">instance_defined_tags_json</a> instead.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">create_vnic_details</code> (map of strings) - Specify details for the virtual network interface card (VNIC)
that is attached to the instance. Possible keys (all optional) are: <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">assign_public_ip</code> (bool),
<code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">display_name</code> (string), <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">hostname_lable</code> (string), <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">nsg_ids</code> (list), <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">private_ip</code> (string),
<code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">skip_source_dest_check</code> (bool), <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">subnet_id</code> (string), <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">tags</code> (map of string). Besides the previous keys, the <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">defined_tags</code>
(map of maps of strings) is also available on old-style JSON templates, while <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">defined_tags_json</code> (string) is the json
string equivalent variant for HCL2 templates. See
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/en-us/iaas/Content/Network/Tasks/managingVNICs.htm">the Oracle docs</a>
for more information about VNICs.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">disk_size</code> (int64) - The size of the boot volume in GBs. Minimum value is 50 and maximum value is 16384 (16TB).
Sets the <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://godoc.org/github.com/oracle/oci-go-sdk/core#InstanceConfigurationInstanceSourceViaImageDetails">BootVolumeSizeInGBs</a>
when launching the instance. Defaults to <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">50</code>.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">image_launch_mode</code> (string) - Specifies the configuration mode for launching instances.
Valid values are <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;NATIVE&quot;</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;EMULATED&quot;</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;PARAVIRTUALIZED&quot;</code>, and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;CUSTOM&quot;</code>. See the
<a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/2.12.5/oci_cli_docs/cmdref/compute/image/create.html#cmdoption-launch-mode">Oracle CLI docs</a>
for more information about these modes.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">nic_attachment_type</code> (string) - Emulation type for the NIC card of the image.
Valid values are <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;E1000&quot;</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;VFIO&quot;</code>, and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;PARAVIRTUALIZED&quot;</code>. For applications that require VFIO networking for performance reasons this setting allows for the image to default to this network type. </p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">use_private_ip</code> (boolean) - Use private ip addresses to connect to the
instance via ssh.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">shape_config</code> (object) - The shape configuration for an instance. The shape configuration determines the resources
allocated to an instance. Options:</p><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">ocpus</code> (required when using flexible shapes or memory_in_gbs is set) (float32) - The total number of OCPUs available to the instance.</li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">memory_in_gbs</code> (optional) (float32) - The total amount of memory, in gigabytes, available to the instance.</li><li class="mdx-lists_listItem__2Palk"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">baseline_ocpu_utilization</code> (optional) (string) - The baseline OCPU utilization for a burstable instance.
Valid values are <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;BASELINE_1_8&quot;</code>, <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;BASELINE_1_2&quot;</code>and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;BASELINE_1_1&quot;</code>.</li></ul></li></ul><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">metadata</code> (map of strings) - Metadata optionally contains custom metadata
key/value pairs provided in the configuration. While this can be used to
set metadata<!-- -->[<!-- -->&quot;user_data&quot;<!-- -->]<!-- --> the explicit &quot;user_data&quot; and
&quot;user_data_file&quot; values will have precedence. An instance&#x27;s metadata can
be obtained from at <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="http://169.254.169.254">http://169.254.169.254</a> on
the launched instance.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">user_data</code> (string) - User data to be used by cloud-init. See <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails">the Oracle
docs</a>
for more details. Generally speaking, it is easier to use the
<code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">user_data_file</code>, but you can use this option to put either the plaintext
data or the base64 encoded data directly into your Packer config. Packer
will not automatically wait for a user script to finish before shutting
down the instance this must be handled in a provisioner.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">user_data_file</code> (string) - Path to a file to be used as user data by
cloud-init. See <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails">the Oracle
docs</a>
for more details. Example: <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">&quot;user_data_file&quot;: &quot;./boot_config/myscript.sh&quot;</code></p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">tags</code> (map of strings) - Add one or more freeform tags to the resulting
custom image. See <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm">the Oracle
docs</a>
for more details. Example:</p></li></ul><div class="g-code-block style_root__rglDp language-yaml mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-yaml mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-yaml mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token key atrule">&#x27;tags&#x27;</span><span class="token punctuation">:</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token key atrule">&#x27;tag1&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;value1&#x27;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token key atrule">&#x27;tag2&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;value2&#x27;</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><ul class="mdx-lists_listRoot__zHI9u"><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">defined_tags_json</code> (string) - JSON string to add one or more defined tags for a given namespace to the resulting
custom image. Only works on HCL2 templates. For old-style JSON templates, use <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#defined_tags">defined_tags</a> instead.</p><div class="g-code-block style_root__rglDp language-hcl mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token property">defined_tags_json</span> <span class="token punctuation">=</span> jsonencode(<span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;tag1&quot;</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;tag1.2&quot;</span> <span class="token punctuation">=</span> <span class="token string">&quot;value1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;tag2&quot;</span> <span class="token punctuation">=</span> <span class="token string">&quot;value2&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>)<!-- -->
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">See <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm">the Oracle docs</a> for more details.</p></li><li class="mdx-lists_listItem__2Palk"><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">defined_tags</code> (map of map of strings) - Add one or more defined tags for a given namespace to the resulting
custom image. Only works on old-style JSON templates. For HCL2 templates,
use <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#defined_tags_json">defined_tags_json</a> instead. See <a class="inline-link_root__jsfnc g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__1z8vI" href="https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm">the Oracle
docs</a>
for more details. Example:</p></li></ul><div class="g-code-block style_root__rglDp language-yaml mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-yaml mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-yaml mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token key atrule">&#x27;tags&#x27;</span><span class="token punctuation">:</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token key atrule">&#x27;namespace&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">&#x27;tag1&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;value1&#x27;</span><span class="token punctuation">,</span> <span class="token key atrule">&#x27;tag2&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;value2&#x27;</span> <span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-basic-example"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Basic Example permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#basic-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Basic Example</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Here is a basic example. Note that account specific configuration has been
substituted with the letter <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">a</code> and OCIDS have been shortened for brevity.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>HCL2</strong></p><div class="g-code-block style_root__rglDp language-hcl mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">source <span class="token string">&quot;oracle-oci&quot;</span> <span class="token string">&quot;example&quot;</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">availability_domain</span> <span class="token punctuation">=</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">base_image_ocid</span>     <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">compartment_ocid</span>    <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">image_name</span>          <span class="token punctuation">=</span> <span class="token string">&quot;ExampleImage&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">shape</span>               <span class="token punctuation">=</span> <span class="token string">&quot;VM.Standard1.1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">ssh_username</span>        <span class="token punctuation">=</span> <span class="token string">&quot;opc&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">subnet_ocid</span>         <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.subnet.oc1..aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token keyword">build</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">sources</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;source.oracle-oci.example&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>JSON</strong></p><div class="g-code-block style_root__rglDp language-json mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-json mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-json mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;availability_domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;base_image_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;compartment_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;image_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ExampleImage&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;shape&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VM.Standard1.1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;ssh_username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opc&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;subnet_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.subnet.oc1..aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle-oci&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-using-instance-principals"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Using Instance Principals permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#using-instance-principals"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Using Instance Principals</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Here is a basic example. Note that account specific configuration has been
substituted with the letter <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">a</code> and OCIDS have been shortened for brevity.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>HCL2</strong></p><div class="g-code-block style_root__rglDp language-hcl mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">source <span class="token string">&quot;oracle-oci&quot;</span> <span class="token string">&quot;example&quot;</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">availability_domain</span>     <span class="token punctuation">=</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">base_image_ocid</span>         <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">compartment_ocid</span>        <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">image_name</span>              <span class="token punctuation">=</span> <span class="token string">&quot;ExampleImage&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">shape</span>                   <span class="token punctuation">=</span> <span class="token string">&quot;VM.Standard2.1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">ssh_username</span>            <span class="token punctuation">=</span> <span class="token string">&quot;opc&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">subnet_ocid</span>             <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.subnet.oc1..aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">use_instance_principals</span> <span class="token punctuation">=</span> <span class="token string">&quot;true&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token keyword">build</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">sources</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;source.oracle-oci.example&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>JSON</strong></p><div class="g-code-block style_root__rglDp language-json mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-json mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-json mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;use_instance_principals&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;availability_domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;base_image_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;compartment_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;image_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ExampleImage&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;shape&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VM.Standard2.1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;ssh_username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opc&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;subnet_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.subnet.oc1..aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle-oci&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><div class="g-code-block style_root__rglDp language-shell-session mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-shell-session mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-shell-session mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token command"><span class="token info punctuation"><span class="token user">[opc@packerhost ~]</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">packer build packer.json</span></span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">oracle-oci: output will be in this color.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Creating temporary ssh key for instance...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Creating instance...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Created instance (ocid1.instance.oc1.phx.aaa).</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Waiting for instance to enter &#x27;RUNNING&#x27; state...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Instance &#x27;RUNNING&#x27;.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Instance has IP: 10.10.10.10.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Using ssh communicator to connect: 10.10.10.10</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Waiting for SSH to become available...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Connected to SSH!</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Creating image from instance...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Image created.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Terminating instance (ocid1.instance.oc1.phx.aaa)...</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; oracle-oci: Terminated instance.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">Build &#x27;oracle-oci&#x27; finished.</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">==&gt; Builds finished. The artifacts of successful builds are:</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">--&gt; oracle-oci: An image was created: &#x27;ExampleImage&#x27; (OCID: ocid1.image.oc1.phx.aaa) in region &#x27;us-phoenix-1&#x27;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token output">[opc@packerhost ~]$</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-assigning-tags-and-network-security-groups-to-the-instance"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Assigning Tags and Network Security Groups to the Instance permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#assigning-tags-and-network-security-groups-to-the-instance"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Assigning Tags and Network Security Groups to the Instance</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Tags are useful for breaking down costs and usage. The keys <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_tags</code>
and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">instance_defined_tags</code> are assigned to the temporary instance,
whereas <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">tags</code> and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">defined_tags</code> are assigned to the resulting image.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Network Security Groups (NSGs) are used for granting networking permissions
to the instance. Depending on network (VCN and subnet) setup, this may be
required for Packer to successfully SSH into the instance. NSGs are a property
of the virtual network interface card (VNIC) attached to the instance, and
are listed in <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">nsg_ids</code> under <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">create_vnic_details</code>.</p><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>HCL2</strong></p><div class="g-code-block style_root__rglDp language-hcl mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-hcl mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token keyword">locals</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">timestamp</span> <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token function">formatdate</span><span class="token punctuation">(</span><span class="token string">&quot;YYYYMMDDhhmmss&quot;</span><span class="token punctuation">,</span> <span class="token function">timestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">source <span class="token string">&quot;oracle-oci&quot;</span> <span class="token string">&quot;base-image-example&quot;</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">availability_domain</span> <span class="token punctuation">=</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">base_image_ocid</span>     <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.image.oc1.iad.aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">compartment_ocid</span>    <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token keyword">create_vnic_details</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">assign_public_ip</span> <span class="token punctuation">=</span> <span class="token string">&quot;false&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">display_name</span>     <span class="token punctuation">=</span> <span class="token string">&quot;testing-123&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">nsg_ids</span>          <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ocid1.networksecuritygroup.oc1.iad.aaa&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">image_name</span> <span class="token punctuation">=</span> <span class="token string">&quot;my-image-<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">local</span><span class="token punctuation">.</span><span class="token type variable">timestamp</span><span class="token punctuation">}</span></span>&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">instance_defined_tags_json</span> <span class="token punctuation">=</span> jsonencode(<span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;Operations&quot;</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;Environment&quot;</span> <span class="token punctuation">=</span> <span class="token string">&quot;prod&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;Team&quot;</span>        <span class="token punctuation">=</span> <span class="token string">&quot;CostCenter&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>)<!-- -->
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">instance_name</span> <span class="token punctuation">=</span> <span class="token string">&quot;packer-build-<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">local</span><span class="token punctuation">.</span><span class="token type variable">timestamp</span><span class="token punctuation">}</span></span>&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">instance_tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">testing</span> <span class="token punctuation">=</span> <span class="token string">&quot;yes&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">shape</span>       <span class="token punctuation">=</span> <span class="token string">&quot;VM.Standard.E2.1&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">subnet_ocid</span> <span class="token punctuation">=</span> <span class="token string">&quot;ocid1.subnet.oc1.iad.aaa&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">CreationDate</span> <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token function">legacy_isotime</span><span class="token punctuation">(</span><span class="token string">&quot;20060102 03:04:05 MST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">use_private_ip</span> <span class="token punctuation">=</span> <span class="token string">&quot;true&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token keyword">build</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">sources</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;source.oracle-oci.base-image-example&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ"><strong>JSON</strong></p><div class="g-code-block style_root__rglDp language-json mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-json mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-json mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{isotime `20060102030405`}}&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;builders&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;base-image-example&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle-oci&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;availability_domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;base_image_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.image.oc1.iad.aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;compartment_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.compartment.oc1..aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;image_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-image-{{ user `timestamp` }}&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;shape&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VM.Standard.E2.1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;subnet_ocid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ocid1.subnet.oc1.iad.aaa&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;use_private_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;instance_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packer-build-{{ user `timestamp` }}&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;instance_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;testing&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yes&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;instance_defined_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;Operations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">        <span class="token property">&quot;Team&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CostCenter&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">        <span class="token property">&quot;Environment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prod&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;create_vnic_details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;assign_public_ip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;display_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testing-123&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;nsg_ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ocid1.networksecuritygroup.oc1.iad.aaa&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">      <span class="token property">&quot;CreationDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{isotime `20060102 03:04:05 MST`}}&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__T_KWX g-offset-scroll-margin-top mdx-headings_h2__8mhgN" id="user-content-base-image-filter-example"><a class="mdx-heading-permalink_root__rMneC g-focus-ring-from-box-shadow mdx-heading-permalink_h2___xzUm" aria-label="Base Image Filter Example permalink" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#base-image-filter-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__wRuQa"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Base Image Filter Example</h2><p class="text_root__WdIWm hds-typography-body-300 hds-font-weight-regular mdx-p_p__iAYvZ">Note that <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">base_image_filter</code> gets passed as a string, then interpreted as a
regular expression. This means that all back-slashes must be doubled, e.g.,
use <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">\\w+</code> to mean <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">\w+</code>, and <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">\\\\</code> to create the regular expression equivalent
of <code class="mdx-inline-code_inlineCode__mRRzk mdx-inline-code_size-200__jzxqL hds-typography-code-200">\\</code> (which will search for a literal back-slash).</p><div class="g-code-block style_root__rglDp language-json mdx-code-blocks_codeBlockMargin__TI7B4 style_codeMargin__yBb2n theme-dark_base__fkY9D theme-dark_syntax__HBUbm" data-heap-track="code-block"><div class="style_linesContainer__V510Y"><pre class="code-lines_pre__bRMIh language-json mdx-code-blocks_codeBlockMargin__TI7B4"><code class="code-lines_code__TAAF7 language-json mdx-code-blocks_codeBlockMargin__TI7B4"><span class="code-lines_linesColumn__szsmm code-lines_styledScrollbars__2NpYc"><span class="code-lines_linesScrollableContent___HFem"><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span>                <span class="token string">&quot;base-image-{{isotime \&quot;20060102030405\&quot;}}&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span>                <span class="token string">&quot;oracle-oci&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;availability_domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aaaa:PHX-AD-1&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token property">&quot;base_image_filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;operating_system&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Oracle Linux&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;operating_system_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.8&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">    <span class="token property">&quot;display_name_search&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^Oracle-Linux-7\\.8-2020\\.\\d+&quot;</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs">  ...<!-- -->
</span><span class="code-lines_LineOfCode__Q1cnP g-type-code code-lines_padRight__jnuQs"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__H7t5c"><button class="style_button__pIRtg" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__85MLW"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__p5onY"><div class="sidebar-sidecar-layout_sidecarTopSlot__o1T7C"></div><div class="sidecar-scroll-container_root__MHD0z"><div class="sidecar-scroll-container_scrollContainer__fvA5n"><div><nav aria-labelledby="react-aria-96"><p id="react-aria-96" class="outline-nav_navLabel__jk_MG hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__cbYFw"><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#policy-reference">Policy Reference</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#authentication">Authentication</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#api-signing-key">API Signing Key</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#instance-principal">Instance Principal</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#security-token">Security Token</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#configuration-reference">Configuration Reference</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#required-configuration-parameters">Required configuration parameters</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#authentication-parameters">Authentication parameters</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#overriding-authentication-defaults">Overriding authentication defaults</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#additional-configuration-parameters">Additional configuration parameters</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#basic-example">Basic Example</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#using-instance-principals">Using Instance Principals</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#assigning-tags-and-network-security-groups-to-the-instance">Assigning Tags and Network Security Groups to the Instance</a></li><li><a class="outline-link_root__K1_Dc hds-typography-body-200 g-focus-ring-from-box-shadow" href="/hashicorp-packer/packer/integrations/hashicorp/oracle/latest/components/builder/oci#base-image-filter-example">Base Image Filter Example</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__C73k2 base-layout_showFooterTopBorder__ajDfV"><footer class="footer_root__rBmjT"><span class="footer_logoAndSwitcher__X6G8O"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__SR4lJ g-focus-ring-from-box-shadow"><div><svg width="317" height="88" viewBox="0 0 317 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M107.692 64.421V47.4h-14.97v17.02h-7.623V24.06h7.622v16.602h14.971V24.06h7.622v40.36h-7.622zm35.567-.001h-6.053l-.548-1.996a16.137 16.137 0 01-8.789 2.607c-5.397 0-7.699-3.697-7.699-8.79 0-5.998 2.607-8.3 8.606-8.3h7.089v-3.095c0-3.27-.907-4.421-5.633-4.421a41.255 41.255 0 00-8.179.877l-.907-5.634a38.496 38.496 0 0110.122-1.395c9.269 0 11.998 3.27 11.998 10.672l-.007 19.476zm-7.394-11.151h-5.45c-2.424 0-3.087.663-3.087 2.912 0 2.058.663 2.973 2.972 2.973a11.629 11.629 0 005.572-1.525l-.007-4.36zm21.701 11.754a34.776 34.776 0 01-10.183-1.7l1.029-5.633a33.038 33.038 0 008.788 1.273c3.271 0 3.758-.762 3.758-2.973 0-1.814-.366-2.729-5.152-3.88-7.211-1.76-8.058-3.575-8.058-9.269 0-5.938 2.607-8.545 11.03-8.545 2.98.003 5.949.348 8.85 1.03l-.762 5.876a51.98 51.98 0 00-8.118-.846c-3.209 0-3.758.763-3.758 2.546 0 2.363.183 2.546 4.185 3.575 8.263 2.188 9.055 3.278 9.055 9.307 0 5.725-1.761 9.239-10.664 9.239zm32.663-.602V43.84c0-1.578-.663-2.363-2.363-2.363-1.814 0-5.031 1.09-7.699 2.485v20.459h-7.394V22.847l7.394-1.029v15.33a26.045 26.045 0 0110.786-2.852c4.909 0 6.662 3.453 6.662 8.728v21.397h-7.386zm12.844-33.692v-8.545h7.394v8.545h-7.394zm0 33.692V34.906h7.394v29.515h-7.394zM215.62 35.15c0-7.394 4.299-11.693 14.361-11.693 3.697 0 7.38.447 10.969 1.334l-.839 6.601a59.517 59.517 0 00-9.909-1.029c-5.275 0-6.967 1.822-6.967 6.098v15.512c0 4.3 1.7 6.098 6.967 6.098a59.506 59.506 0 009.909-1.029l.846 6.609a45.672 45.672 0 01-10.968 1.334c-10.062 0-14.361-4.3-14.361-11.693l-.008-18.142zm40.499 29.873c-10.123 0-12.844-5.572-12.844-11.632v-7.455c0-6.06 2.728-11.632 12.844-11.632 10.115 0 12.844 5.572 12.844 11.632v7.455c-.023 6.06-2.744 11.632-12.844 11.632zm0-24.392c-3.941 0-5.45 1.76-5.45 5.092v7.912c0 3.331 1.524 5.092 5.45 5.092 3.925 0 5.45-1.76 5.45-5.092v-7.943c-.015-3.33-1.532-5.092-5.45-5.092v.03zm32.457.457a57.835 57.835 0 00-7.821 4.3v19.056h-7.394V34.906h6.243l.488 3.27a33.064 33.064 0 017.76-3.88l.724 6.792zm28.035 13.515c0 6.548-2.911 10.42-9.756 10.42a40.76 40.76 0 01-7.882-.853v12.196l-7.394 1.029V34.906h5.877l.762 2.485a15.535 15.535 0 019.33-3.087c5.938 0 9.086 3.514 9.086 10.245l-.023 10.054zm-17.631 3.331c2.152.474 4.346.73 6.548.763 2.668 0 3.697-1.274 3.697-3.941V44.35c0-2.424-.907-3.758-3.636-3.758a10.46 10.46 0 00-6.609 2.668v14.673zM29.134 7L0 23.808v40.361l10.946 6.32V30.127l18.188-10.504V7z" fill="#000"/><path d="M40.758 7v32.144H29.133V27.147l-10.945 6.319V74.65l10.946 6.335V48.932h11.624v11.914l10.946-6.312V13.32L40.758 7z" fill="#000"/><path d="M40.758 81L69.89 64.192V23.831l-10.946-6.32v40.362L40.758 68.377V81z" fill="#000"/></svg></div></a><span class="footer_themeSwitcher__W26Rs hds-font-weight-regular"><label class="theme-switcher_label__bs8JE hds-typography-body-200" for="react-aria-111">Theme</label></span></span><ul class="footer_links__Ews9a"><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="/hashicorp-packer/certifications"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/security"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__g2TXk g-focus-ring-from-box-shadow" aria-describedby="undefinedopens-in-new-tab-label-react-aria-119" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__WdIWm hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-119">(opens in new tab)</span></li></ul></footer></div></div></div><div class="style_root__Fb7pu"></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"Oracle Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct\u0026utm_medium=banner\u0026utm_campaign=23Q3_HASHICONFGLOBAL_EVENT\u0026utm_content=\u0026utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"f451b9c9-3739-4a64-9077-57251c41ddf4","slug":"oracle","name":"Oracle","description":"The Oracle multi-component plugin can be used with HashiCorp Packer to create custom images.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/hashicorp/packer-plugin-oracle","subdirectory":"/.web-docs","created_at":"2023-04-25T20:05:46.779Z","updated_at":"2023-08-08T17:01:14.628Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.0.4","1.0.2","1.0.1","1.0.0"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[{"id":"3709e036-b45f-4be8-9043-f7c8cc2af00f","slug":"hcp-ready","name":"HCP Ready","description":"This integration has been tested to work with HashiCorp Cloud Platform (HCP)","created_at":"2022-11-09T22:56:30.673Z","updated_at":"2022-11-09T22:56:30.673Z"}],"integration_type":null},"activeRelease":{"id":"36fc1ac0-616c-4306-a0dc-96bae5736f40","integration_id":"f451b9c9-3739-4a64-9077-57251c41ddf4","version":"1.0.4","readme":"This plugin allows Packer to communicate with the Oracle cloud platform.\nIt is able to create custom images on both Oracle Cloud Infrastructure and\nOracle Cloud Infrastructure Classic Compute. This plugin comes with builders\ndesigned to support both platforms.\n\n## Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    oracle = {\n      source  = \"github.com/hashicorp/oracle\"\n      version = \"~\u003e 1\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/hashicorp/oracle\n```\n\n## Components\n\n### Builders\n\n- [oracle-classic](/packer/integrations/hashicorp/oracle/latest/components/builder/oci) - Create custom images in Oracle Cloud Infrastructure\n    Classic Compute by launching a source instance and creating an image list\n    from a snapshot of it after provisioning.\n\n- [oracle-oci](/packer/integrations/hashicorp/oracle/latest/components/builder/classic) - Create custom images in Oracle Cloud Infrastructure (OCI) by\n    launching a base instance and creating an image from it after provisioning.\n","created_at":"2023-08-29T15:25:38.006Z","updated_at":"2023-08-29T15:25:38.006Z","components":[{"id":"2cc6fa0c-2c35-4ce2-b9e7-581dd9f0fb10","integration_release_id":"36fc1ac0-616c-4306-a0dc-96bae5736f40","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `oracle-classic`\nArtifact BuilderId: `packer.oracle.classic`\n\nThe `oracle-classic` Packer builder is able to create custom images for use\nwith [Oracle Cloud Infrastructure Classic\nCompute](https://cloud.oracle.com/compute-classic). The builder takes a base\nimage, runs any provisioning necessary on the base image after launching it,\nand finally snapshots it creating a reusable custom image.\n\nIt is recommended that you familiarise yourself with the [Key Concepts and\nTerminology](https://docs.oracle.com/en/cloud/iaas-classic/compute-iaas-cloud/stcsg/getting-started-oracle-compute-cloud-service.html#GUID-6CB9D494-4F3C-4B78-BD03-127983FEC357)\nprior to using this builder if you have not done so already.\n\nThe builder _does not_ manage images. Once it creates an image, it is up to you\nto use it or delete it.\n\n## Authorization\n\nThis builder authenticates API calls to Oracle Cloud Infrastructure Classic\nCompute using basic authentication (user name and password). To read more, see\nthe [authentication\ndocumentation](https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsa/Authentication.html)\n\n## Configuration Reference\n\nThere are many configuration options available for the `oracle-classic`\nbuilder. This builder currently only works with the SSH communicator.\n\n### Required\n\n- `api_endpoint` (string) - This is your custom API endpoint for sending\n  requests. Instructions for determining your API endpoint can be found\n  [here](https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsa/SendRequests.html)\n\n- `dest_image_list` (string) - Where to save the machine image to once you've\n  provisioned it. If the provided image list does not exist, Packer will\n  create it.\n\n- `identity_domain` (string) - This is your customer-specific identity domain\n  as generated by Oracle. If you don't know what your identity domain is, ask\n  your account administrator. For a little more information, see the Oracle\n  [documentation](https://docs.oracle.com/en/cloud/get-started/subscriptions-cloud/ocuid/identity-domain-overview.html#GUID-7969F881-5F4D-443E-B86C-9044C8085B8A).\n\n- `source_image_list` (string) - This is what image you want to use as your\n  base image. See the\n  [documentation](https://docs.oracle.com/en/cloud/iaas-classic/compute-iaas-cloud/stcsg/managing-machine-images.html#GUID-652E6797-A5B8-40A7-860F-F27FF3E42471)\n  for more details. You may use either a public image list, or a private\n  image list. To see what public image lists are available, you can use the\n  CLI, as described\n  [here](https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stopc/image-lists-stclr-and-nmcli.html#GUID-DB7E75FE-F752-4FF7-AB70-3C8DCDFCA0FA)\n\n- `source_image_list_entry` (string) - The entry identifying the machine\n  image to use in the image list. Defaults to the latest available entry.\n\n- `password` (string) - Your account password.\n\n- `shape` (string) - The template that determines the number of CPUs, amount\n  of memory, and other resources allocated to a newly created instance. For\n  more information about shapes, see the documentation\n  [here](https://docs.oracle.com/en/cloud/iaas-classic/compute-iaas-cloud/stcsg/creating-instances.html#GUID-1DD0FA71-AC7B-461C-B8C1-14892725AA69).\n\n- `username` (string) - Your account username.\n\n### Optional\n\n- `attributes` (string) - (string) - Attributes to apply when launching the\n  instance. Note that you need to be careful about escaping characters due to\n  the templates being JSON. It is often more convenient to use\n  `attributes_file`, instead. You may only define either `attributes` or\n  `attributes_file`, not both.\n\n- `attributes_file` (string) - Path to a json file that will be used for the\n  attributes when launching the instance. You may only define either\n  `attributes` or `attributes_file`, not both.\n\n- `image_description` (string) - a description for your destination image\n  list. If you don't provide one, Packer will provide a generic description.\n\n- `ssh_username` (string) - The username that Packer will use to SSH into the\n  instance; required if using SSH. The default oracle user with sudo\n  privileges is `opc`, so you may set `ssh_username` to `opc` if you have not\n  yet configured users on your machine. If you have already configured users\n  on your machine, you may prompt Packer to use one of those instead. For\n  more detail, see the\n  [documentation](https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsg/accessing-oracle-linux-instance-using-ssh.html).\n\n- `image_name` (string) - The name to assign to the resulting custom image.\n\n- `persistent_volume_size` (int) - Size in gigabytes of the persistent boot\n  storage volume to build the image on. Use this if you want a bigger volume\n  than what instance storage provides. Note that using this option puts the\n  builder into a \"persistent volume\" mode, which is substantially different\n  than the default snapshot mode. Please see the configuration section below\n  for additional configuration options.\n\n- `snapshot_timeout` (string) - How long to wait for a snapshot to be\n  created. Expects a positive golang Time.Duration string, which is a\n  sequence of decimal numbers and a unit suffix; valid suffixes are `ns`\n  (nanoseconds), `us` (microseconds), `ms` (milliseconds), `s` (seconds), `m`\n  (minutes), and `h` (hours). Examples of valid inputs: `100ms`, `250ms`,\n  `1s`, `2.5s`, `2.5m`, `1m30s`. Example: `\"snapshot_timeout\": \"15m\"`.\n  Default: `20m`.\n\n### Persistent Volume Build\n\nYou will use this type of build if you've set the `persistent_volume_size`\noption. If you need a bigger disk than what you normally get with instance\nstorage, you'll want to set this.\n\nIn the _persistent volume_ mode, things are built a little differently.\nNormally, we launch an instance, then provision it and take a snapshot, which\nbecomes your machine image. This relies on the disk of the created instance\nbeing large enough to perform your entire provisioning process. If that disk\nsize isn't sufficient, we can build with a persistent volume of arbitrary size.\n\nFirst, we create a persistent volume of the requested size. This volume is\nbootable and initialized with your image list. We start an instance with this\nvolume as the boot volume. After this instance launches, we provision and\nterminate it, leaving the persistent volume around.\n\nNext, we create a second instance, the \"builder\", this time booting from\ninstance storage. We also attach a new persistent volume, making it twice the\nsize of the original. We connect to this instance and copy the contents of the\nfirst volume into a tarball file on the second volume. We then upload this file\nto Object Storage Classic, and create a new machine image with it.\n\nIf this is set, a few more options become available.\n\n- `builder_communicator` (communicator) - This represents an\n  [`ssh communicator`](/packer/docs/communicators/ssh),\n  and can be configured as such. If you use a different builder image, you\n  may need to change the `ssh_username`, for example. That might look like\n  this:\n\n  ```json\n  {\n    \"builders\": [\n      {\n        \"builder_communicator\": {\n          \"ssh_username\": \"soandso\"\n        },\n        \"type\": \"oracle-classic\"\n      }\n    ]\n  }\n  ```\n\n  See below for more details on configuring this communicator.\n\n- `builder_image_list` (string) - This is the image to use for the builder\n  instance. This _must_ be a linux image, and Oracle Linux is recommended.\n  Default: `/oracle/public/OL_7.2_UEKR4_x86_64`.\n\n- `builder_image_list_entry` (string) - The entry identifying the machine\n  image to use in the image list. If `builder_image_list` is unset, this\n  defaults to `5`, which is a working image as of this time. Otherwise, it\n  defaults to the latest entry. Set this to `0` to force it to use the latest\n  entry when using the default `builder_image_list`.\n\n- `builder_shape` (string) - The template that determines the number of CPUs,\n  amount of memory, and other resources allocated to the builder instance.\n  Default: `oc3`.\n\n- `builder_upload_image_command` (string) - The command to run to upload the\n  image to Object Storage Classic. This is for advanced users only, and you\n  should consult the default in code to decide on the changes to make. For\n  most users the default should suffice. If you choose to write your own,\n  this command is a template engine and can make use of the following\n  variables: `{{ .Username }}`, `{{ .Password }}`, `{{ .AccountID }}`,\n  `{{ .ImageFile }}`, and `{{ .SegmentPath }}`.\n\n### Communicator Configuration\n\nThe `builder_communicator` has the following options:\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_protocol = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n## Basic Example\n\nHere is a basic example. Note that account specific configuration has been\nobfuscated; you will need to add a working `username`, `password`,\n`identity_domain`, and `api_endpoint` in order for the example to work.\n\n**HCL2**\n\n```hcl\nlocals { timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\") }\n\nsource \"oracle-classic\" \"basic\" {\n  api_endpoint      = \"https://api-###.compute.###.oraclecloud.com/\"\n  attributes        = \"{\\\"userdata\\\": {\\\"pre-bootstrap\\\": {\\\"script\\\": [\\\"...\\\"]}}}\"\n  dest_image_list   = \"Packer_Builder_Test_List\"\n  identity_domain   = \"#######\"\n  image_name        = \"Packer_Builder_Test_${local.timestamp}\"\n  password          = \"supersecretpasswordhere\"\n  shape             = \"oc3\"\n  source_image_list = \"/oracle/public/OL_7.2_UEKR4_x86_64\"\n  username          = \"myuser@myaccount.com\"\n}\n\nbuild {\n  sources = [\"source.oracle-classic.basic\"]\n\n  provisioner \"shell\" {\n    inline = [\"echo hello\"]\n  }\n\n}\n```\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"oracle-classic\",\n      \"username\": \"myuser@myaccount.com\",\n      \"password\": \"supersecretpasswordhere\",\n      \"identity_domain\": \"#######\",\n      \"api_endpoint\": \"https://api-###.compute.###.oraclecloud.com/\",\n      \"source_image_list\": \"/oracle/public/OL_7.2_UEKR4_x86_64\",\n      \"shape\": \"oc3\",\n      \"image_name\": \"Packer_Builder_Test_{{timestamp}}\",\n      \"attributes\": \"{\\\"userdata\\\": {\\\"pre-bootstrap\\\": {\\\"script\\\": [\\\"...\\\"]}}}\",\n      \"dest_image_list\": \"Packer_Builder_Test_List\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"echo hello\"]\n    }\n  ]\n}\n```\n\n\n\n## Basic Example -- Windows\n\nAttributes file is optional for connecting via ssh, but required for winrm.\n\nThe following file contains the bare minimum necessary to get winRM working;\nyou have to give it the password to give to the \"Administrator\" user, which\nwill be the one winrm connects to. You must also whitelist your computer to\nconnect via winRM -- the empty braces below whitelist any computer to access\nwinRM but you can make it more secure by only allowing your build machine\naccess. See the\n[docs](https://docs.oracle.com/en/cloud/iaas/compute-iaas-cloud/stcsg/automating-instance-initialization-using-opc-init.html#GUID-A0A107D6-3B38-47F4-8FC8-96D50D99379B)\nfor more details on how to define a trusted host.\n\nSave this file as `windows_attributes.json`:\n\n```json\n{\n  \"userdata\": {\n    \"administrator_password\": \"password\",\n    \"winrm\": {}\n  }\n}\n```\n\nFollowing is a minimal but working Packer config that references this\nattributes file:\n\n**HCL2**\n\n```hcl\n\nvariable \"opc_api_endpoint\" {\n  type    = string\n  default = \"${env(\"OPC_ENDPOINT\")}\"\n}\n\nvariable \"opc_identity_domain\" {\n  type    = string\n  default = \"${env(\"OPC_IDENTITY_DOMAIN\")}\"\n}\n\nvariable \"opc_password\" {\n  type    = string\n  default = \"${env(\"OPC_PASSWORD\")}\"\n}\n\nvariable \"opc_username\" {\n  type    = string\n  default = \"${env(\"OPC_USERNAME\")}\"\n}\n\nlocals { timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\") }\n\nsource \"oracle-classic\" \"windows_attrs\" {\n  api_endpoint      = \"${var.opc_api_endpoint}\"\n  attributes_file   = \"./windows_attributes.json\"\n  communicator      = \"winrm\"\n  dest_image_list   = \"Packer_Windows_Demo\"\n  identity_domain   = \"${var.opc_identity_domain}\"\n  image_name        = \"Packer_Windows_Demo_${local.timestamp}\"\n  password          = \"${var.opc_password}\"\n  shape             = \"oc3\"\n  source_image_list = \"/Compute-${var.opc_identity_domain}/${var.opc_username}/Microsoft_Windows_Server_2012_R2-17.3.6-20170930-124649\"\n  username          = \"${var.opc_username}\"\n  winrm_password    = \"password\"\n  winrm_username    = \"Administrator\"\n}\n\nbuild {\n  sources = [\"source.oracle-classic.windows_attrs\"]\n\n  provisioner \"powershell\" {\n    inline = \"Write-Output(\\\"HELLO WORLD\\\")\"\n  }\n\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"opc_username\": \"{{ env `OPC_USERNAME`}}\",\n    \"opc_password\": \"{{ env `OPC_PASSWORD`}}\",\n    \"opc_identity_domain\": \"{{env `OPC_IDENTITY_DOMAIN`}}\",\n    \"opc_api_endpoint\": \"{{ env `OPC_ENDPOINT`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"oracle-classic\",\n      \"username\": \"{{ user `opc_username`}}\",\n      \"password\": \"{{ user `opc_password`}}\",\n      \"identity_domain\": \"{{ user `opc_identity_domain`}}\",\n      \"api_endpoint\": \"{{ user `opc_api_endpoint`}}\",\n      \"source_image_list\": \"/Compute-{{ user `opc_identity_domain` }}/{{ user `opc_username`}}/Microsoft_Windows_Server_2012_R2-17.3.6-20170930-124649\",\n      \"attributes_file\": \"./windows_attributes.json\",\n      \"shape\": \"oc3\",\n      \"image_name\": \"Packer_Windows_Demo_{{timestamp}}\",\n      \"dest_image_list\": \"Packer_Windows_Demo\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\",\n      \"winrm_password\": \"password\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": \"Write-Output(\\\"HELLO WORLD\\\")\"\n    }\n  ]\n}\n```\n\n\n## Persistent Volume Example\n\nHere is an example using a persistent volume. Note the `persistent_volume_size`\nsetting.\n\n**HCL2**\n\n```hcl\n\nvariable \"opc_api_endpoint\" {\n  type    = string\n  default = \"${env(\"OPC_ENDPOINT\")}\"\n}\n\nvariable \"opc_identity_domain\" {\n  type    = string\n  default = \"${env(\"OPC_IDENTITY_DOMAIN\")}\"\n}\n\nvariable \"opc_password\" {\n  type    = string\n  default = \"${env(\"OPC_PASSWORD\")}\"\n}\n\nvariable \"opc_username\" {\n  type    = string\n  default = \"${env(\"OPC_USERNAME\")}\"\n}\n\nlocals { timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\") }\n\nsource \"oracle-classic\" \"persistent\" {\n  api_endpoint           = \"${var.opc_api_endpoint}\"\n  dest_image_list        = \"Packer_Builder_Test_List\"\n  identity_domain        = \"${var.opc_identity_domain}\"\n  image_name             = \"Packer_Builder_Test_${local.timestamp}\"\n  password               = \"${var.opc_password}\"\n  persistent_volume_size = 15\n  shape                  = \"oc3\"\n  source_image_list      = \"/oracle/public/OL_7.2_UEKR4_x86_64\"\n  ssh_username           = \"opc\"\n  username               = \"${var.opc_username}\"\n}\n\nbuild {\n  sources = [\"source.oracle-classic.persistent\"]\n\n  provisioner \"shell\" {\n    inline = [\"echo hello\"]\n  }\n\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"opc_username\": \"{{ env `OPC_USERNAME`}}\",\n    \"opc_password\": \"{{ env `OPC_PASSWORD`}}\",\n    \"opc_identity_domain\": \"{{env `OPC_IDENTITY_DOMAIN`}}\",\n    \"opc_api_endpoint\": \"{{ env `OPC_ENDPOINT`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"oracle-classic\",\n      \"username\": \"{{ user `opc_username`}}\",\n      \"password\": \"{{ user `opc_password`}}\",\n      \"identity_domain\": \"{{ user `opc_identity_domain`}}\",\n      \"api_endpoint\": \"{{ user `opc_api_endpoint`}}\",\n      \"source_image_list\": \"/oracle/public/OL_7.2_UEKR4_x86_64\",\n      \"persistent_volume_size\": 15,\n      \"image_name\": \"Packer_Builder_Test_{{timestamp}}\",\n      \"dest_image_list\": \"Packer_Builder_Test_List\",\n      \"ssh_username\": \"opc\",\n      \"shape\": \"oc3\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"echo hello\"]\n    }\n  ]\n}\n```\n","created_at":"2023-08-29T15:25:39.897Z","updated_at":"2023-08-29T15:25:39.897Z","name":"Oracle Cloud Infrastructure Classic Compute","slug":"classic","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"3193303f-5bb9-430e-9d10-e01bc60d3390","integration_release_id":"36fc1ac0-616c-4306-a0dc-96bae5736f40","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `oracle-oci`\nArtifact BuilderId: `packer.oracle.oci`\n\nThe `oracle-oci` Packer builder is able to create new custom images for use\nwith [Oracle Cloud Infrastructure](https://cloud.oracle.com) (OCI). The builder\ntakes a base image, runs any provisioning necessary on the base image after\nlaunching it, and finally snapshots it creating a reusable custom image.\n\nIt is recommended that you familiarise yourself with the [Key Concepts and\nTerminology](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm)\nprior to using this builder if you have not done so already.\n\nThe builder _does not_ manage images. Once it creates an image, it is up to you\nto use it or delete it.\n\n## Policy Reference\n\nWhen running this plugin as a non-administrative user, you will need to have OCI policies defined which will enable Packer to do its job.  \n\nThe following represent minimal required policies for the plugin to operate:\n\n```\nAllow group PackerGroup to manage instance-family in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to manage instance-images in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to use virtual-network-family in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to use compute-image-capability-schema in tenancy\n```\n\nThis example assumes the user running Packer is in a group named 'PackerGroup'.  You will need to update ${COMPARTMENT_NAME} to the name of the\ncompartment in which the plugin is managing resources.\n\nFor more details on working with OCI Policies, please refer to the [OCI Policy Documentation](https://docs.oracle.com/en-us/iaas/Content/Identity/policiesgs/get-started-with-policies.htm)\n\n## Authentication\n\nThere are three authentication methods available for the OCI builder. The API\nSigning Key of the `DEFAULT` profile in the OCI\n [SDK and CLI Configuration File](https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdkconfig.htm#SDK_and_CLI_Configuration_File)\n will be used by default.\n\n### API Signing Key\n\nThe OCI REST API requires that requests be signed with the RSA public key\nassociated with your\n[IAM](https://docs.us-phoenix-1.oraclecloud.com/Content/Identity/Concepts/overview.htm)\nuser account. For a comprehensive example of how to configure the required\nauthentication see the documentation on [Required Keys and\nOCIDs](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/apisigningkey.htm)\n([Oracle Cloud\nIDs](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/identifiers.htm)).\n\n### Instance Principal\n\nIf you run Packer on an OCI compute instance, you can configure Packer to use the\n[Instance Principal](https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm)\nassociated with that instance to authenticate instead of an API Signing Key that\nis associated with a specific user. This method requires the creation of appropriately configured\n[Dynamic Groups](https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingdynamicgroups.htm)\nand [Policies](https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm).\n\nThe [`use_instance_principals`](https://www.packer.io/docs/builder/oracle/oci#use_instance_principals)\nparameter is used to enable this method.\n\nThe [`oci_instance_principals.pkr.hcl`](/example/oci_instance_principals.pkr.hcl)\nand [`oci_instance_principals.json`](/example/oci_instance_principals.json) examples can be used as a reference for\nconfiguring this authentication method.\n\n### Security Token\n\n[Token-based authentication](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm)\nrequires you to interactively authenticate a session using the OCI CLI and a web\nbrowser. The token that is created has an extremely limited TTL and must be\nrefreshed every hour for up to 24 hours. However, this method allows for\nauthentication using non-SCIM supported federated identity providers.\n\nTo use token-based authentication, start a new session using the CLI's\n[`oci session authenticate`](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm#Starting)\ncommand and provide the path to the configuration file as the `access_cfg_file`\nconfiguration parameter and the name of the profile as the `access_cfg_file_account`\nconfiguration parameter.\n\nThe [`oci_security_token.pkr.hcl`](/example/oci_security_token.pkr.hcl) and\n[`oci_security_token.json`](/example/oci_security_token.json) examples can be\nused as a reference for this method.\n\n## Configuration Reference\n\nThere are many configuration options available for the `oracle-oci` builder. In\naddition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\nIn addition to the options defined there, a private key file\ncan also be supplied to override the typical auto-generated key:\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n### Required configuration parameters\n\n- `availability_domain` (string) - The name of the [Availability\n  Domain](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm)\n  within which a new instance is launched and provisioned. The names of the\n  Availability Domains have a prefix that is specific to your\n  [tenancy](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm#two).\n\n  To get a list of the Availability Domains, use the\n  [ListAvailabilityDomains](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/identity/latest/AvailabilityDomain/ListAvailabilityDomains)\n  operation, which is available in the IAM Service API.\n\n- `base_image_ocid` (string) - The OCID of the [base\n  image](https://docs.us-phoenix-1.oraclecloud.com/Content/Compute/References/images.htm)\n  to use. This is the unique identifier of the image that will be used to\n  launch a new instance and provision it.\n\n  To get a list of the accepted image OCIDs, use the\n  [ListImages](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Image/ListImages)\n  operation available in the Core Services API.\n\n- `base_image_filter` (map of strings) - As an alternative to providing `base_image_ocid`,\n  the user can supply search criteria, and Packer will use the the most recent image that meets\n  all search criteria. If no image meets all search criteria, Packer returns an error. The\n  following fields, if specified, must match exactly:\n\n  - `compartment_id` - The OCID of the compartment to find the image. If not specified, will use `compartment_ocid`\n    used for the instance.\n  - `display_name` - The full name of the image, e.g., `Oracle-Linux-7.8-2020.05.26-0`\n  - `operating_system` - The operating system used on the image, e.g., `Oracle Linux`\n  - `operating_system_version` - The version of the operating system on the image, e.g., `7.8`\n  - `shape` - A shape that the image supports. If not specified, will use `shape` used for the instance\n\n  Additionally, the following field takes a regular expression:\n\n  - `display_name_search` - a regular expression for the display name, e.g., `^Oracle-Linux`. This\n    is ignored if `display_name` is also specified under `base_image_filter`. If no images match\n    the expression, Packer returns an error. If multiple images match, the most recent is used.\n\n  `base_image_filter` is ignored if `base_image_ocid` is also specified.\n\n- `compartment_ocid` (string) - The OCID of the\n  [compartment](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Tasks/choosingcompartments.htm) that the instance will run in.\n\n- `shape` (string) - The template that determines the number of CPUs, amount\n  of memory, and other resources allocated to a newly created instance.\n\n  To get a list of the available shapes, use the\n  [ListShapes](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/Shape/ListShapes)\n  operation available in the Core Services API.\n\n  When using flexible shapes, `ocpus` must be set.\n\n- `subnet_ocid` (string) - The name of the subnet within which a new instance\n  is launched and provisioned.\n\n  To get a list of your subnets, use the\n  [ListSubnets](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Subnet/ListSubnets)\n  operation available in the Core Services API.\n\n  Note: the subnet must be configured to allow access via your chosen\n  [communicator](/packer/docs/communicators) (communicator defaults to\n  [SSH tcp/22](/packer/docs/communicators/ssh#ssh_port)).\n\n\n### Authentication parameters\n\nEach of the following configuration parameters is either **mandatory** or **unacceptable**\nbased on which authentication method is used.\n\n- `use_instance_principals` (boolean) - Whether to use [Instance\n  Principals](https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm)\n  instead of User Principals. If this key is set to true, setting any one of the `access_cfg_file`,\n  `access_cfg_file_account`, `region`, `tenancy_ocid`, `user_ocid`, `key_file`, `fingerprint`,\n  `pass_phrase` parameters will cause an invalid configuration error.\n  Defaults to `false`.\n\n- `access_cfg_file` (string) - The path to the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm).\n  This parameter is _optional_ when using token-based authentication.\n  This parameter _cannot_ be used along with the `use_instance_principals` key.\n  Defaults to `$HOME/.oci/config`.\n\n- `access_cfg_file_account` (string) - The specific account in the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) to use.\n  This parameter is _mandatory_ when using token-based authentication.\n  This parameter _cannot_ be used along with the `use_instance_principals` key.\n  Defaults to `DEFAULT`.\n\n\n### Overriding authentication defaults\n\nThe following parameters can be used to override the default value provided by\nor configured for the default OCI CLI authenticaton profile.\n\n- `region` (string) - An Oracle Cloud Infrastructure region. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `tenancy_ocid` (string) - The OCID of your tenancy. Overrides value provided by the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) if present.\n  This cannot be used along with the `use_instance_principals` key.\n\n- `user_ocid` (string) - The OCID of the user calling the OCI API. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `key_file` (string) - Full path and filename of the OCI API signing key. Overrides value provided\n  by the [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `fingerprint` (string) - Fingerprint for the OCI API signing key. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) if\n  present. This cannot be used along with the `use_instance_principals` key.\n\n- `pass_phrase` (string) - Pass phrase used to decrypt the OCI API signing key. Overrides value provided\n  by the [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n  ### Additional configuration parameters\n\n- `skip_create_image` (bool) - Skip creating the image. Useful for setting to `true` during a build test stage. Defaults to `false`.\n\n- `image_name` (string) - The name to assign to the resulting custom image.\n\n- `image_compartment_ocid` (string) - The OCID of the target compartment for the resulting image. Defaults to `compartment_ocid`.\n\n- `instance_name` (string) - The name to assign to the instance used for the image creation process.\n  If not set a name of the form `instanceYYYYMMDDhhmmss` will be used.\n\n- `instance_tags` (map of strings) - Add one or more freeform tags to the instance used for the\n  image creation process.\n\n- `instance_defined_tags_json` (string) - Json string to add one or more defined tags for a given namespace\n   to the instance used for the image creation process. Only works on HCL2 templates. For old-style JSON templates,\n   use [instance_defined_tags](#instance_defined_tags) instead.\n\n  ```hcl\n  instance_defined_tags_json = jsonencode({\n    \"Operations\" = {\n      \"Environment\" = \"prod\"\n      \"Team\"        = \"CostCenter\"\n    }\n  })\n  ```\n\n- `instance_defined_tags` (map of maps of strings) - Add one or more defined tags for a given namespace\n  to the instance used for the image creation process. Only works on old-style JSON templates. For HCL2 templates,\n  use [instance_defined_tags_json](#instance_defined_tags_json) instead.\n\n- `create_vnic_details` (map of strings) - Specify details for the virtual network interface card (VNIC)\n  that is attached to the instance. Possible keys (all optional) are: `assign_public_ip` (bool),\n  `display_name` (string), `hostname_lable` (string), `nsg_ids` (list), `private_ip` (string),\n  `skip_source_dest_check` (bool), `subnet_id` (string), `tags` (map of string). Besides the previous keys, the `defined_tags`\n  (map of maps of strings) is also available on old-style JSON templates, while `defined_tags_json` (string) is the json\n  string equivalent variant for HCL2 templates. See\n  [the Oracle docs](https://docs.cloud.oracle.com/en-us/iaas/Content/Network/Tasks/managingVNICs.htm)\n  for more information about VNICs.\n\n- `disk_size` (int64) - The size of the boot volume in GBs. Minimum value is 50 and maximum value is 16384 (16TB).\n  Sets the [BootVolumeSizeInGBs](https://godoc.org/github.com/oracle/oci-go-sdk/core#InstanceConfigurationInstanceSourceViaImageDetails)\n  when launching the instance. Defaults to `50`.\n\n- `image_launch_mode` (string) - Specifies the configuration mode for launching instances.\n  Valid values are `\"NATIVE\"`, `\"EMULATED\"`, `\"PARAVIRTUALIZED\"`, and `\"CUSTOM\"`. See the\n  [Oracle CLI docs](https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/2.12.5/oci_cli_docs/cmdref/compute/image/create.html#cmdoption-launch-mode)\n  for more information about these modes.\n\n- `nic_attachment_type` (string) - Emulation type for the NIC card of the image.\n  Valid values are `\"E1000\"`, `\"VFIO\"`, and `\"PARAVIRTUALIZED\"`. For applications that require VFIO networking for performance reasons this setting allows for the image to default to this network type. \n\n- `use_private_ip` (boolean) - Use private ip addresses to connect to the\n  instance via ssh.\n\n- `shape_config` (object) - The shape configuration for an instance. The shape configuration determines the resources\n  allocated to an instance. Options:\n  - `ocpus` (required when using flexible shapes or memory_in_gbs is set) (float32) - The total number of OCPUs available to the instance.\n  - `memory_in_gbs` (optional) (float32) - The total amount of memory, in gigabytes, available to the instance.\n  - `baseline_ocpu_utilization` (optional) (string) - The baseline OCPU utilization for a burstable instance.\n    Valid values are `\"BASELINE_1_8\"`, `\"BASELINE_1_2\"`and `\"BASELINE_1_1\"`.\n\n\u003c!-- markdown-link-check-disable --\u003e\n\n- `metadata` (map of strings) - Metadata optionally contains custom metadata\nkey/value pairs provided in the configuration. While this can be used to\nset metadata\\[\"user_data\"\\] the explicit \"user_data\" and\n\"user_data_file\" values will have precedence. An instance's metadata can\nbe obtained from at [http://169.254.169.254](http://169.254.169.254) on\nthe launched instance.\n\u003c!-- markdown-link-check-enable --\u003e\n\n- `user_data` (string) - User data to be used by cloud-init. See [the Oracle\n  docs](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails)\n  for more details. Generally speaking, it is easier to use the\n  `user_data_file`, but you can use this option to put either the plaintext\n  data or the base64 encoded data directly into your Packer config. Packer\n  will not automatically wait for a user script to finish before shutting\n  down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file to be used as user data by\n  cloud-init. See [the Oracle\n  docs](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails)\n  for more details. Example: `\"user_data_file\": \"./boot_config/myscript.sh\"`\n\n- `tags` (map of strings) - Add one or more freeform tags to the resulting\n  custom image. See [the Oracle\n  docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm)\n  for more details. Example:\n\n```yaml\n'tags':\n  'tag1': 'value1'\n  'tag2': 'value2'\n```\n\n- `defined_tags_json` (string) - JSON string to add one or more defined tags for a given namespace to the resulting\n  custom image. Only works on HCL2 templates. For old-style JSON templates, use [defined_tags](#defined_tags) instead.\n\n  ```hcl\n  defined_tags_json = jsonencode({\n    \"tag1\" = {\n      \"tag1.2\" = \"value1\"\n    }\n    \"tag2\" = \"value2\"\n  })\n  ```\n\n  See [the Oracle docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm) for more details.\n\n- `defined_tags` (map of map of strings) - Add one or more defined tags for a given namespace to the resulting\n  custom image. Only works on old-style JSON templates. For HCL2 templates,\nuse [defined_tags_json](#defined_tags_json) instead. See [the Oracle\n  docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm)\n  for more details. Example:\n\n```yaml\n'tags':\n  'namespace': { 'tag1': 'value1', 'tag2': 'value2' }\n```\n\n## Basic Example\n\nHere is a basic example. Note that account specific configuration has been\nsubstituted with the letter `a` and OCIDS have been shortened for brevity.\n\n\n**HCL2**\n\n```hcl\nsource \"oracle-oci\" \"example\" {\n  availability_domain = \"aaaa:PHX-AD-1\"\n  base_image_ocid     = \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"\n  compartment_ocid    = \"ocid1.compartment.oc1..aaa\"\n  image_name          = \"ExampleImage\"\n  shape               = \"VM.Standard1.1\"\n  ssh_username        = \"opc\"\n  subnet_ocid         = \"ocid1.subnet.oc1..aaa\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_ocid\": \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\",\n  \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n  \"image_name\": \"ExampleImage\",\n  \"shape\": \"VM.Standard1.1\",\n  \"ssh_username\": \"opc\",\n  \"subnet_ocid\": \"ocid1.subnet.oc1..aaa\",\n  \"type\": \"oracle-oci\"\n}\n```\n\n\n\n## Using Instance Principals\n\nHere is a basic example. Note that account specific configuration has been\nsubstituted with the letter `a` and OCIDS have been shortened for brevity.\n\n**HCL2**\n\n```hcl\nsource \"oracle-oci\" \"example\" {\n  availability_domain     = \"aaaa:PHX-AD-1\"\n  base_image_ocid         = \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"\n  compartment_ocid        = \"ocid1.compartment.oc1..aaa\"\n  image_name              = \"ExampleImage\"\n  shape                   = \"VM.Standard2.1\"\n  ssh_username            = \"opc\"\n  subnet_ocid             = \"ocid1.subnet.oc1..aaa\"\n  use_instance_principals = \"true\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"use_instance_principals\": \"true\",\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_ocid\": \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\",\n  \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n  \"image_name\": \"ExampleImage\",\n  \"shape\": \"VM.Standard2.1\",\n  \"ssh_username\": \"opc\",\n  \"subnet_ocid\": \"ocid1.subnet.oc1..aaa\",\n  \"type\": \"oracle-oci\"\n}\n```\n\n\n\n```shell-session\n[opc@packerhost ~]$ packer build packer.json\noracle-oci: output will be in this color.\n\n==\u003e oracle-oci: Creating temporary ssh key for instance...\n==\u003e oracle-oci: Creating instance...\n==\u003e oracle-oci: Created instance (ocid1.instance.oc1.phx.aaa).\n==\u003e oracle-oci: Waiting for instance to enter 'RUNNING' state...\n==\u003e oracle-oci: Instance 'RUNNING'.\n==\u003e oracle-oci: Instance has IP: 10.10.10.10.\n==\u003e oracle-oci: Using ssh communicator to connect: 10.10.10.10\n==\u003e oracle-oci: Waiting for SSH to become available...\n==\u003e oracle-oci: Connected to SSH!\n==\u003e oracle-oci: Creating image from instance...\n==\u003e oracle-oci: Image created.\n==\u003e oracle-oci: Terminating instance (ocid1.instance.oc1.phx.aaa)...\n==\u003e oracle-oci: Terminated instance.\nBuild 'oracle-oci' finished.\n\n==\u003e Builds finished. The artifacts of successful builds are:\n--\u003e oracle-oci: An image was created: 'ExampleImage' (OCID: ocid1.image.oc1.phx.aaa) in region 'us-phoenix-1'\n[opc@packerhost ~]$\n```\n\n## Assigning Tags and Network Security Groups to the Instance\n\nTags are useful for breaking down costs and usage. The keys `instance_tags`\nand `instance_defined_tags` are assigned to the temporary instance,\nwhereas `tags` and `defined_tags` are assigned to the resulting image.\n\nNetwork Security Groups (NSGs) are used for granting networking permissions\nto the instance. Depending on network (VCN and subnet) setup, this may be\nrequired for Packer to successfully SSH into the instance. NSGs are a property\nof the virtual network interface card (VNIC) attached to the instance, and\nare listed in `nsg_ids` under `create_vnic_details`.\n\n**HCL2**\n\n```hcl\nlocals {\n  timestamp = \"${formatdate(\"YYYYMMDDhhmmss\", timestamp())}\"\n}\n\nsource \"oracle-oci\" \"base-image-example\" {\n  availability_domain = \"aaaa:PHX-AD-1\"\n  base_image_ocid     = \"ocid1.image.oc1.iad.aaa\"\n  compartment_ocid    = \"ocid1.compartment.oc1..aaa\"\n  create_vnic_details {\n    assign_public_ip = \"false\"\n    display_name     = \"testing-123\"\n    nsg_ids          = [\"ocid1.networksecuritygroup.oc1.iad.aaa\"]\n  }\n  image_name = \"my-image-${local.timestamp}\"\n  instance_defined_tags_json = jsonencode({\n    \"Operations\" = {\n      \"Environment\" = \"prod\"\n      \"Team\"        = \"CostCenter\"\n    }\n  })\n  instance_name = \"packer-build-${local.timestamp}\"\n  instance_tags = {\n    testing = \"yes\"\n  }\n  shape       = \"VM.Standard.E2.1\"\n  subnet_ocid = \"ocid1.subnet.oc1.iad.aaa\"\n  tags = {\n    CreationDate = \"${legacy_isotime(\"20060102 03:04:05 MST\")}\"\n  }\n  use_private_ip = \"true\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.base-image-example\"]\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"timestamp\": \"{{isotime `20060102030405`}}\"\n  },\n  \"builders\":[{\n    \"name\": \"base-image-example\",\n    \"type\": \"oracle-oci\",\n    \"availability_domain\": \"aaaa:PHX-AD-1\",\n    \"base_image_ocid\": \"ocid1.image.oc1.iad.aaa\",\n    \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n    \"image_name\": \"my-image-{{ user `timestamp` }}\",\n    \"shape\": \"VM.Standard.E2.1\",\n    \"subnet_ocid\": \"ocid1.subnet.oc1.iad.aaa\",\n    \"use_private_ip\": \"true\",\n    \"instance_name\": \"packer-build-{{ user `timestamp` }}\",\n    \"instance_tags\": { \"testing\": \"yes\" },\n    \"instance_defined_tags\": {\n      \"Operations\": {\n        \"Team\": \"CostCenter\",\n        \"Environment\": \"prod\"\n      }\n    },\n    \"create_vnic_details\": {\n      \"assign_public_ip\": \"false\",\n      \"display_name\": \"testing-123\",\n      \"nsg_ids\": [\"ocid1.networksecuritygroup.oc1.iad.aaa\"]\n    },\n    \"tags\": {\n      \"CreationDate\": \"{{isotime `20060102 03:04:05 MST`}}\"\n    }\n  }]\n}\n```\n\n\n\n## Base Image Filter Example\n\nNote that `base_image_filter` gets passed as a string, then interpreted as a\nregular expression. This means that all back-slashes must be doubled, e.g.,\nuse `\\\\w+` to mean `\\w+`, and `\\\\\\\\` to create the regular expression equivalent\nof `\\\\` (which will search for a literal back-slash).\n\n```json\n{\n  \"name\":                \"base-image-{{isotime \\\"20060102030405\\\"}}\",\n  \"type\":                \"oracle-oci\",\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_filter\": {\n    \"operating_system\": \"Oracle Linux\",\n    \"operating_system_version\": \"7.8\",\n    \"display_name_search\": \"^Oracle-Linux-7\\\\.8-2020\\\\.\\\\d+\"\n  }\n  ...\n}\n```\n","created_at":"2023-08-29T15:25:39.438Z","updated_at":"2023-08-29T15:25:39.438Z","name":"Oracle Cloud Infrastructure","slug":"oci","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"component":{"id":"3193303f-5bb9-430e-9d10-e01bc60d3390","integration_release_id":"36fc1ac0-616c-4306-a0dc-96bae5736f40","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `oracle-oci`\nArtifact BuilderId: `packer.oracle.oci`\n\nThe `oracle-oci` Packer builder is able to create new custom images for use\nwith [Oracle Cloud Infrastructure](https://cloud.oracle.com) (OCI). The builder\ntakes a base image, runs any provisioning necessary on the base image after\nlaunching it, and finally snapshots it creating a reusable custom image.\n\nIt is recommended that you familiarise yourself with the [Key Concepts and\nTerminology](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm)\nprior to using this builder if you have not done so already.\n\nThe builder _does not_ manage images. Once it creates an image, it is up to you\nto use it or delete it.\n\n## Policy Reference\n\nWhen running this plugin as a non-administrative user, you will need to have OCI policies defined which will enable Packer to do its job.  \n\nThe following represent minimal required policies for the plugin to operate:\n\n```\nAllow group PackerGroup to manage instance-family in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to manage instance-images in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to use virtual-network-family in compartment ${COMPARTMENT_NAME}\nAllow group PackerGroup to use compute-image-capability-schema in tenancy\n```\n\nThis example assumes the user running Packer is in a group named 'PackerGroup'.  You will need to update ${COMPARTMENT_NAME} to the name of the\ncompartment in which the plugin is managing resources.\n\nFor more details on working with OCI Policies, please refer to the [OCI Policy Documentation](https://docs.oracle.com/en-us/iaas/Content/Identity/policiesgs/get-started-with-policies.htm)\n\n## Authentication\n\nThere are three authentication methods available for the OCI builder. The API\nSigning Key of the `DEFAULT` profile in the OCI\n [SDK and CLI Configuration File](https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdkconfig.htm#SDK_and_CLI_Configuration_File)\n will be used by default.\n\n### API Signing Key\n\nThe OCI REST API requires that requests be signed with the RSA public key\nassociated with your\n[IAM](https://docs.us-phoenix-1.oraclecloud.com/Content/Identity/Concepts/overview.htm)\nuser account. For a comprehensive example of how to configure the required\nauthentication see the documentation on [Required Keys and\nOCIDs](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/apisigningkey.htm)\n([Oracle Cloud\nIDs](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/identifiers.htm)).\n\n### Instance Principal\n\nIf you run Packer on an OCI compute instance, you can configure Packer to use the\n[Instance Principal](https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm)\nassociated with that instance to authenticate instead of an API Signing Key that\nis associated with a specific user. This method requires the creation of appropriately configured\n[Dynamic Groups](https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingdynamicgroups.htm)\nand [Policies](https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm).\n\nThe [`use_instance_principals`](https://www.packer.io/docs/builder/oracle/oci#use_instance_principals)\nparameter is used to enable this method.\n\nThe [`oci_instance_principals.pkr.hcl`](/example/oci_instance_principals.pkr.hcl)\nand [`oci_instance_principals.json`](/example/oci_instance_principals.json) examples can be used as a reference for\nconfiguring this authentication method.\n\n### Security Token\n\n[Token-based authentication](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm)\nrequires you to interactively authenticate a session using the OCI CLI and a web\nbrowser. The token that is created has an extremely limited TTL and must be\nrefreshed every hour for up to 24 hours. However, this method allows for\nauthentication using non-SCIM supported federated identity providers.\n\nTo use token-based authentication, start a new session using the CLI's\n[`oci session authenticate`](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm#Starting)\ncommand and provide the path to the configuration file as the `access_cfg_file`\nconfiguration parameter and the name of the profile as the `access_cfg_file_account`\nconfiguration parameter.\n\nThe [`oci_security_token.pkr.hcl`](/example/oci_security_token.pkr.hcl) and\n[`oci_security_token.json`](/example/oci_security_token.json) examples can be\nused as a reference for this method.\n\n## Configuration Reference\n\nThere are many configuration options available for the `oracle-oci` builder. In\naddition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\nIn addition to the options defined there, a private key file\ncan also be supplied to override the typical auto-generated key:\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n### Required configuration parameters\n\n- `availability_domain` (string) - The name of the [Availability\n  Domain](https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm)\n  within which a new instance is launched and provisioned. The names of the\n  Availability Domains have a prefix that is specific to your\n  [tenancy](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm#two).\n\n  To get a list of the Availability Domains, use the\n  [ListAvailabilityDomains](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/identity/latest/AvailabilityDomain/ListAvailabilityDomains)\n  operation, which is available in the IAM Service API.\n\n- `base_image_ocid` (string) - The OCID of the [base\n  image](https://docs.us-phoenix-1.oraclecloud.com/Content/Compute/References/images.htm)\n  to use. This is the unique identifier of the image that will be used to\n  launch a new instance and provision it.\n\n  To get a list of the accepted image OCIDs, use the\n  [ListImages](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Image/ListImages)\n  operation available in the Core Services API.\n\n- `base_image_filter` (map of strings) - As an alternative to providing `base_image_ocid`,\n  the user can supply search criteria, and Packer will use the the most recent image that meets\n  all search criteria. If no image meets all search criteria, Packer returns an error. The\n  following fields, if specified, must match exactly:\n\n  - `compartment_id` - The OCID of the compartment to find the image. If not specified, will use `compartment_ocid`\n    used for the instance.\n  - `display_name` - The full name of the image, e.g., `Oracle-Linux-7.8-2020.05.26-0`\n  - `operating_system` - The operating system used on the image, e.g., `Oracle Linux`\n  - `operating_system_version` - The version of the operating system on the image, e.g., `7.8`\n  - `shape` - A shape that the image supports. If not specified, will use `shape` used for the instance\n\n  Additionally, the following field takes a regular expression:\n\n  - `display_name_search` - a regular expression for the display name, e.g., `^Oracle-Linux`. This\n    is ignored if `display_name` is also specified under `base_image_filter`. If no images match\n    the expression, Packer returns an error. If multiple images match, the most recent is used.\n\n  `base_image_filter` is ignored if `base_image_ocid` is also specified.\n\n- `compartment_ocid` (string) - The OCID of the\n  [compartment](https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Tasks/choosingcompartments.htm) that the instance will run in.\n\n- `shape` (string) - The template that determines the number of CPUs, amount\n  of memory, and other resources allocated to a newly created instance.\n\n  To get a list of the available shapes, use the\n  [ListShapes](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/Shape/ListShapes)\n  operation available in the Core Services API.\n\n  When using flexible shapes, `ocpus` must be set.\n\n- `subnet_ocid` (string) - The name of the subnet within which a new instance\n  is launched and provisioned.\n\n  To get a list of your subnets, use the\n  [ListSubnets](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Subnet/ListSubnets)\n  operation available in the Core Services API.\n\n  Note: the subnet must be configured to allow access via your chosen\n  [communicator](/packer/docs/communicators) (communicator defaults to\n  [SSH tcp/22](/packer/docs/communicators/ssh#ssh_port)).\n\n\n### Authentication parameters\n\nEach of the following configuration parameters is either **mandatory** or **unacceptable**\nbased on which authentication method is used.\n\n- `use_instance_principals` (boolean) - Whether to use [Instance\n  Principals](https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm)\n  instead of User Principals. If this key is set to true, setting any one of the `access_cfg_file`,\n  `access_cfg_file_account`, `region`, `tenancy_ocid`, `user_ocid`, `key_file`, `fingerprint`,\n  `pass_phrase` parameters will cause an invalid configuration error.\n  Defaults to `false`.\n\n- `access_cfg_file` (string) - The path to the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm).\n  This parameter is _optional_ when using token-based authentication.\n  This parameter _cannot_ be used along with the `use_instance_principals` key.\n  Defaults to `$HOME/.oci/config`.\n\n- `access_cfg_file_account` (string) - The specific account in the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) to use.\n  This parameter is _mandatory_ when using token-based authentication.\n  This parameter _cannot_ be used along with the `use_instance_principals` key.\n  Defaults to `DEFAULT`.\n\n\n### Overriding authentication defaults\n\nThe following parameters can be used to override the default value provided by\nor configured for the default OCI CLI authenticaton profile.\n\n- `region` (string) - An Oracle Cloud Infrastructure region. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `tenancy_ocid` (string) - The OCID of your tenancy. Overrides value provided by the [OCI config\n  file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) if present.\n  This cannot be used along with the `use_instance_principals` key.\n\n- `user_ocid` (string) - The OCID of the user calling the OCI API. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `key_file` (string) - Full path and filename of the OCI API signing key. Overrides value provided\n  by the [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n- `fingerprint` (string) - Fingerprint for the OCI API signing key. Overrides value provided by the\n  [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm) if\n  present. This cannot be used along with the `use_instance_principals` key.\n\n- `pass_phrase` (string) - Pass phrase used to decrypt the OCI API signing key. Overrides value provided\n  by the [OCI config file](https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm)\n  if present. This cannot be used along with the `use_instance_principals` key.\n\n  ### Additional configuration parameters\n\n- `skip_create_image` (bool) - Skip creating the image. Useful for setting to `true` during a build test stage. Defaults to `false`.\n\n- `image_name` (string) - The name to assign to the resulting custom image.\n\n- `image_compartment_ocid` (string) - The OCID of the target compartment for the resulting image. Defaults to `compartment_ocid`.\n\n- `instance_name` (string) - The name to assign to the instance used for the image creation process.\n  If not set a name of the form `instanceYYYYMMDDhhmmss` will be used.\n\n- `instance_tags` (map of strings) - Add one or more freeform tags to the instance used for the\n  image creation process.\n\n- `instance_defined_tags_json` (string) - Json string to add one or more defined tags for a given namespace\n   to the instance used for the image creation process. Only works on HCL2 templates. For old-style JSON templates,\n   use [instance_defined_tags](#instance_defined_tags) instead.\n\n  ```hcl\n  instance_defined_tags_json = jsonencode({\n    \"Operations\" = {\n      \"Environment\" = \"prod\"\n      \"Team\"        = \"CostCenter\"\n    }\n  })\n  ```\n\n- `instance_defined_tags` (map of maps of strings) - Add one or more defined tags for a given namespace\n  to the instance used for the image creation process. Only works on old-style JSON templates. For HCL2 templates,\n  use [instance_defined_tags_json](#instance_defined_tags_json) instead.\n\n- `create_vnic_details` (map of strings) - Specify details for the virtual network interface card (VNIC)\n  that is attached to the instance. Possible keys (all optional) are: `assign_public_ip` (bool),\n  `display_name` (string), `hostname_lable` (string), `nsg_ids` (list), `private_ip` (string),\n  `skip_source_dest_check` (bool), `subnet_id` (string), `tags` (map of string). Besides the previous keys, the `defined_tags`\n  (map of maps of strings) is also available on old-style JSON templates, while `defined_tags_json` (string) is the json\n  string equivalent variant for HCL2 templates. See\n  [the Oracle docs](https://docs.cloud.oracle.com/en-us/iaas/Content/Network/Tasks/managingVNICs.htm)\n  for more information about VNICs.\n\n- `disk_size` (int64) - The size of the boot volume in GBs. Minimum value is 50 and maximum value is 16384 (16TB).\n  Sets the [BootVolumeSizeInGBs](https://godoc.org/github.com/oracle/oci-go-sdk/core#InstanceConfigurationInstanceSourceViaImageDetails)\n  when launching the instance. Defaults to `50`.\n\n- `image_launch_mode` (string) - Specifies the configuration mode for launching instances.\n  Valid values are `\"NATIVE\"`, `\"EMULATED\"`, `\"PARAVIRTUALIZED\"`, and `\"CUSTOM\"`. See the\n  [Oracle CLI docs](https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/2.12.5/oci_cli_docs/cmdref/compute/image/create.html#cmdoption-launch-mode)\n  for more information about these modes.\n\n- `nic_attachment_type` (string) - Emulation type for the NIC card of the image.\n  Valid values are `\"E1000\"`, `\"VFIO\"`, and `\"PARAVIRTUALIZED\"`. For applications that require VFIO networking for performance reasons this setting allows for the image to default to this network type. \n\n- `use_private_ip` (boolean) - Use private ip addresses to connect to the\n  instance via ssh.\n\n- `shape_config` (object) - The shape configuration for an instance. The shape configuration determines the resources\n  allocated to an instance. Options:\n  - `ocpus` (required when using flexible shapes or memory_in_gbs is set) (float32) - The total number of OCPUs available to the instance.\n  - `memory_in_gbs` (optional) (float32) - The total amount of memory, in gigabytes, available to the instance.\n  - `baseline_ocpu_utilization` (optional) (string) - The baseline OCPU utilization for a burstable instance.\n    Valid values are `\"BASELINE_1_8\"`, `\"BASELINE_1_2\"`and `\"BASELINE_1_1\"`.\n\n\u003c!-- markdown-link-check-disable --\u003e\n\n- `metadata` (map of strings) - Metadata optionally contains custom metadata\nkey/value pairs provided in the configuration. While this can be used to\nset metadata\\[\"user_data\"\\] the explicit \"user_data\" and\n\"user_data_file\" values will have precedence. An instance's metadata can\nbe obtained from at [http://169.254.169.254](http://169.254.169.254) on\nthe launched instance.\n\u003c!-- markdown-link-check-enable --\u003e\n\n- `user_data` (string) - User data to be used by cloud-init. See [the Oracle\n  docs](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails)\n  for more details. Generally speaking, it is easier to use the\n  `user_data_file`, but you can use this option to put either the plaintext\n  data or the base64 encoded data directly into your Packer config. Packer\n  will not automatically wait for a user script to finish before shutting\n  down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file to be used as user data by\n  cloud-init. See [the Oracle\n  docs](https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails)\n  for more details. Example: `\"user_data_file\": \"./boot_config/myscript.sh\"`\n\n- `tags` (map of strings) - Add one or more freeform tags to the resulting\n  custom image. See [the Oracle\n  docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm)\n  for more details. Example:\n\n```yaml\n'tags':\n  'tag1': 'value1'\n  'tag2': 'value2'\n```\n\n- `defined_tags_json` (string) - JSON string to add one or more defined tags for a given namespace to the resulting\n  custom image. Only works on HCL2 templates. For old-style JSON templates, use [defined_tags](#defined_tags) instead.\n\n  ```hcl\n  defined_tags_json = jsonencode({\n    \"tag1\" = {\n      \"tag1.2\" = \"value1\"\n    }\n    \"tag2\" = \"value2\"\n  })\n  ```\n\n  See [the Oracle docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm) for more details.\n\n- `defined_tags` (map of map of strings) - Add one or more defined tags for a given namespace to the resulting\n  custom image. Only works on old-style JSON templates. For HCL2 templates,\nuse [defined_tags_json](#defined_tags_json) instead. See [the Oracle\n  docs](https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm)\n  for more details. Example:\n\n```yaml\n'tags':\n  'namespace': { 'tag1': 'value1', 'tag2': 'value2' }\n```\n\n## Basic Example\n\nHere is a basic example. Note that account specific configuration has been\nsubstituted with the letter `a` and OCIDS have been shortened for brevity.\n\n\n**HCL2**\n\n```hcl\nsource \"oracle-oci\" \"example\" {\n  availability_domain = \"aaaa:PHX-AD-1\"\n  base_image_ocid     = \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"\n  compartment_ocid    = \"ocid1.compartment.oc1..aaa\"\n  image_name          = \"ExampleImage\"\n  shape               = \"VM.Standard1.1\"\n  ssh_username        = \"opc\"\n  subnet_ocid         = \"ocid1.subnet.oc1..aaa\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_ocid\": \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\",\n  \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n  \"image_name\": \"ExampleImage\",\n  \"shape\": \"VM.Standard1.1\",\n  \"ssh_username\": \"opc\",\n  \"subnet_ocid\": \"ocid1.subnet.oc1..aaa\",\n  \"type\": \"oracle-oci\"\n}\n```\n\n\n\n## Using Instance Principals\n\nHere is a basic example. Note that account specific configuration has been\nsubstituted with the letter `a` and OCIDS have been shortened for brevity.\n\n**HCL2**\n\n```hcl\nsource \"oracle-oci\" \"example\" {\n  availability_domain     = \"aaaa:PHX-AD-1\"\n  base_image_ocid         = \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"\n  compartment_ocid        = \"ocid1.compartment.oc1..aaa\"\n  image_name              = \"ExampleImage\"\n  shape                   = \"VM.Standard2.1\"\n  ssh_username            = \"opc\"\n  subnet_ocid             = \"ocid1.subnet.oc1..aaa\"\n  use_instance_principals = \"true\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.example\"]\n}\n\n```\n\n**JSON**\n\n```json\n{\n  \"use_instance_principals\": \"true\",\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_ocid\": \"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\",\n  \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n  \"image_name\": \"ExampleImage\",\n  \"shape\": \"VM.Standard2.1\",\n  \"ssh_username\": \"opc\",\n  \"subnet_ocid\": \"ocid1.subnet.oc1..aaa\",\n  \"type\": \"oracle-oci\"\n}\n```\n\n\n\n```shell-session\n[opc@packerhost ~]$ packer build packer.json\noracle-oci: output will be in this color.\n\n==\u003e oracle-oci: Creating temporary ssh key for instance...\n==\u003e oracle-oci: Creating instance...\n==\u003e oracle-oci: Created instance (ocid1.instance.oc1.phx.aaa).\n==\u003e oracle-oci: Waiting for instance to enter 'RUNNING' state...\n==\u003e oracle-oci: Instance 'RUNNING'.\n==\u003e oracle-oci: Instance has IP: 10.10.10.10.\n==\u003e oracle-oci: Using ssh communicator to connect: 10.10.10.10\n==\u003e oracle-oci: Waiting for SSH to become available...\n==\u003e oracle-oci: Connected to SSH!\n==\u003e oracle-oci: Creating image from instance...\n==\u003e oracle-oci: Image created.\n==\u003e oracle-oci: Terminating instance (ocid1.instance.oc1.phx.aaa)...\n==\u003e oracle-oci: Terminated instance.\nBuild 'oracle-oci' finished.\n\n==\u003e Builds finished. The artifacts of successful builds are:\n--\u003e oracle-oci: An image was created: 'ExampleImage' (OCID: ocid1.image.oc1.phx.aaa) in region 'us-phoenix-1'\n[opc@packerhost ~]$\n```\n\n## Assigning Tags and Network Security Groups to the Instance\n\nTags are useful for breaking down costs and usage. The keys `instance_tags`\nand `instance_defined_tags` are assigned to the temporary instance,\nwhereas `tags` and `defined_tags` are assigned to the resulting image.\n\nNetwork Security Groups (NSGs) are used for granting networking permissions\nto the instance. Depending on network (VCN and subnet) setup, this may be\nrequired for Packer to successfully SSH into the instance. NSGs are a property\nof the virtual network interface card (VNIC) attached to the instance, and\nare listed in `nsg_ids` under `create_vnic_details`.\n\n**HCL2**\n\n```hcl\nlocals {\n  timestamp = \"${formatdate(\"YYYYMMDDhhmmss\", timestamp())}\"\n}\n\nsource \"oracle-oci\" \"base-image-example\" {\n  availability_domain = \"aaaa:PHX-AD-1\"\n  base_image_ocid     = \"ocid1.image.oc1.iad.aaa\"\n  compartment_ocid    = \"ocid1.compartment.oc1..aaa\"\n  create_vnic_details {\n    assign_public_ip = \"false\"\n    display_name     = \"testing-123\"\n    nsg_ids          = [\"ocid1.networksecuritygroup.oc1.iad.aaa\"]\n  }\n  image_name = \"my-image-${local.timestamp}\"\n  instance_defined_tags_json = jsonencode({\n    \"Operations\" = {\n      \"Environment\" = \"prod\"\n      \"Team\"        = \"CostCenter\"\n    }\n  })\n  instance_name = \"packer-build-${local.timestamp}\"\n  instance_tags = {\n    testing = \"yes\"\n  }\n  shape       = \"VM.Standard.E2.1\"\n  subnet_ocid = \"ocid1.subnet.oc1.iad.aaa\"\n  tags = {\n    CreationDate = \"${legacy_isotime(\"20060102 03:04:05 MST\")}\"\n  }\n  use_private_ip = \"true\"\n}\n\nbuild {\n  sources = [\"source.oracle-oci.base-image-example\"]\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"timestamp\": \"{{isotime `20060102030405`}}\"\n  },\n  \"builders\":[{\n    \"name\": \"base-image-example\",\n    \"type\": \"oracle-oci\",\n    \"availability_domain\": \"aaaa:PHX-AD-1\",\n    \"base_image_ocid\": \"ocid1.image.oc1.iad.aaa\",\n    \"compartment_ocid\": \"ocid1.compartment.oc1..aaa\",\n    \"image_name\": \"my-image-{{ user `timestamp` }}\",\n    \"shape\": \"VM.Standard.E2.1\",\n    \"subnet_ocid\": \"ocid1.subnet.oc1.iad.aaa\",\n    \"use_private_ip\": \"true\",\n    \"instance_name\": \"packer-build-{{ user `timestamp` }}\",\n    \"instance_tags\": { \"testing\": \"yes\" },\n    \"instance_defined_tags\": {\n      \"Operations\": {\n        \"Team\": \"CostCenter\",\n        \"Environment\": \"prod\"\n      }\n    },\n    \"create_vnic_details\": {\n      \"assign_public_ip\": \"false\",\n      \"display_name\": \"testing-123\",\n      \"nsg_ids\": [\"ocid1.networksecuritygroup.oc1.iad.aaa\"]\n    },\n    \"tags\": {\n      \"CreationDate\": \"{{isotime `20060102 03:04:05 MST`}}\"\n    }\n  }]\n}\n```\n\n\n\n## Base Image Filter Example\n\nNote that `base_image_filter` gets passed as a string, then interpreted as a\nregular expression. This means that all back-slashes must be doubled, e.g.,\nuse `\\\\w+` to mean `\\w+`, and `\\\\\\\\` to create the regular expression equivalent\nof `\\\\` (which will search for a literal back-slash).\n\n```json\n{\n  \"name\":                \"base-image-{{isotime \\\"20060102030405\\\"}}\",\n  \"type\":                \"oracle-oci\",\n  \"availability_domain\": \"aaaa:PHX-AD-1\",\n  \"base_image_filter\": {\n    \"operating_system\": \"Oracle Linux\",\n    \"operating_system_version\": \"7.8\",\n    \"display_name_search\": \"^Oracle-Linux-7\\\\.8-2020\\\\.\\\\d+\"\n  }\n  ...\n}\n```\n","created_at":"2023-08-29T15:25:39.438Z","updated_at":"2023-08-29T15:25:39.438Z","name":"Oracle Cloud Infrastructure","slug":"oci","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"policy-reference","level":2,"title":"Policy Reference"},{"id":"authentication","level":2,"title":"Authentication"},{"id":"api-signing-key","level":3,"title":"API Signing Key"},{"id":"instance-principal","level":3,"title":"Instance Principal"},{"id":"security-token","level":3,"title":"Security Token"},{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"required-configuration-parameters","level":3,"title":"Required configuration parameters"},{"id":"authentication-parameters","level":3,"title":"Authentication parameters"},{"id":"overriding-authentication-defaults","level":3,"title":"Overriding authentication defaults"},{"id":"additional-configuration-parameters","level":3,"title":"Additional configuration parameters"},{"id":"basic-example","level":2,"title":"Basic Example"},{"id":"using-instance-principals","level":2,"title":"Using Instance Principals"},{"id":"assigning-tags-and-network-security-groups-to-the-instance","level":2,"title":"Assigning Tags and Network Security Groups to the Instance"},{"id":"base-image-filter-example","level":2,"title":"Base Image Filter Example"}],"serializedREADME":{"compiledSource":"var l=Object.defineProperty,d=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var c=(a,n,t)=\u003en in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=\u003e{for(var t in n||(n={}))o.call(n,t)\u0026\u0026c(a,t,n[t]);if(p)for(var t of p(n))i.call(n,t)\u0026\u0026c(a,t,n[t]);return a},r=(a,n)=\u003ed(a,N(n));var m=(a,n)=\u003e{var t={};for(var s in a)o.call(a,s)\u0026\u0026n.indexOf(s)\u003c0\u0026\u0026(t[s]=a[s]);if(a!=null\u0026\u0026p)for(var s of p(a))n.indexOf(s)\u003c0\u0026\u0026i.call(a,s)\u0026\u0026(t[s]=a[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=m(s,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Type: \",mdx(\"inlineCode\",{parentName:\"p\"},\"oracle-oci\"),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},\"packer.oracle.oci\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"oracle-oci\"),` Packer builder is able to create new custom images for use\nwith `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://cloud.oracle.com\"}),\"Oracle Cloud Infrastructure\"),` (OCI). The builder\ntakes a base image, runs any provisioning necessary on the base image after\nlaunching it, and finally snapshots it creating a reusable custom image.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"It is recommended that you familiarise yourself with the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm\"}),`Key Concepts and\nTerminology`),`\nprior to using this builder if you have not done so already.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The builder \",mdx(\"em\",{parentName:\"p\"},\"does not\"),` manage images. Once it creates an image, it is up to you\nto use it or delete it.`),mdx(\"h2\",e({},{id:\"user-content-policy-reference\",\"data-text-content\":\"Policy Reference\",className:\"g-type-display-3\"}),\"Policy Reference\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"When running this plugin as a non-administrative user, you will need to have OCI policies defined which will enable Packer to do its job.  \"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following represent minimal required policies for the plugin to operate:\"),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},\"Allow group PackerGroup to manage instance-family in compartment ${COMPARTMENT_NAME}\",`\n`,\"Allow group PackerGroup to manage instance-images in compartment ${COMPARTMENT_NAME}\",`\n`,\"Allow group PackerGroup to use virtual-network-family in compartment ${COMPARTMENT_NAME}\",`\n`,\"Allow group PackerGroup to use compute-image-capability-schema in tenancy\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This example assumes the user running Packer is in a group named 'PackerGroup'.  You will need to update ${COMPARTMENT_NAME} to the name of the\\ncompartment in which the plugin is managing resources.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"For more details on working with OCI Policies, please refer to the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/Identity/policiesgs/get-started-with-policies.htm\"}),\"OCI Policy Documentation\")),mdx(\"h2\",e({},{id:\"user-content-authentication\",\"data-text-content\":\"Authentication\",className:\"g-type-display-3\"}),\"Authentication\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`There are three authentication methods available for the OCI builder. The API\nSigning Key of the `,mdx(\"inlineCode\",{parentName:\"p\"},\"DEFAULT\"),` profile in the OCI\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdkconfig.htm#SDK_and_CLI_Configuration_File\"}),\"SDK and CLI Configuration File\"),`\nwill be used by default.`),mdx(\"h3\",e({},{id:\"user-content-api-signing-key\",\"data-text-content\":\"API Signing Key\",className:\"g-type-display-4\"}),\"API Signing Key\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`The OCI REST API requires that requests be signed with the RSA public key\nassociated with your\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/Identity/Concepts/overview.htm\"}),\"IAM\"),`\nuser account. For a comprehensive example of how to configure the required\nauthentication see the documentation on `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/apisigningkey.htm\"}),`Required Keys and\nOCIDs`),`\n(`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/identifiers.htm\"}),`Oracle Cloud\nIDs`),\").\"),mdx(\"h3\",e({},{id:\"user-content-instance-principal\",\"data-text-content\":\"Instance Principal\",className:\"g-type-display-4\"}),\"Instance Principal\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`If you run Packer on an OCI compute instance, you can configure Packer to use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm\"}),\"Instance Principal\"),`\nassociated with that instance to authenticate instead of an API Signing Key that\nis associated with a specific user. This method requires the creation of appropriately configured\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingdynamicgroups.htm\"}),\"Dynamic Groups\"),`\nand `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm\"}),\"Policies\"),\".\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.packer.io/docs/builder/oracle/oci#use_instance_principals\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_instance_principals\")),`\nparameter is used to enable this method.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"/example/oci_instance_principals.pkr.hcl\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"oci_instance_principals.pkr.hcl\")),`\nand `,mdx(\"a\",e({parentName:\"p\"},{href:\"/example/oci_instance_principals.json\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"oci_instance_principals.json\")),` examples can be used as a reference for\nconfiguring this authentication method.`),mdx(\"h3\",e({},{id:\"user-content-security-token\",\"data-text-content\":\"Security Token\",className:\"g-type-display-4\"}),\"Security Token\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm\"}),\"Token-based authentication\"),`\nrequires you to interactively authenticate a session using the OCI CLI and a web\nbrowser. The token that is created has an extremely limited TTL and must be\nrefreshed every hour for up to 24 hours. However, this method allows for\nauthentication using non-SCIM supported federated identity providers.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`To use token-based authentication, start a new session using the CLI's\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/clitoken.htm#Starting\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"oci session authenticate\")),`\ncommand and provide the path to the configuration file as the `,mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file\"),`\nconfiguration parameter and the name of the profile as the `,mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file_account\"),`\nconfiguration parameter.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"/example/oci_security_token.pkr.hcl\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"oci_security_token.pkr.hcl\")),` and\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/example/oci_security_token.json\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"oci_security_token.json\")),` examples can be\nused as a reference for this method.`),mdx(\"h2\",e({},{id:\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",className:\"g-type-display-3\"}),\"Configuration Reference\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"There are many configuration options available for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"oracle-oci\"),` builder. In\naddition to the options listed here, a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/communicator\"}),\"communicator\"),` can be configured for this\nbuilder.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`In addition to the options defined there, a private key file\ncan also be supplied to override the typical auto-generated key:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"ssh_private_key_file\"),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"li\"},\"~\"),` can be used in path and will be expanded to the home directory\nof current user.`)),mdx(\"h3\",e({},{id:\"user-content-required-configuration-parameters\",\"data-text-content\":\"Required configuration parameters\",className:\"g-type-display-4\"}),\"Required configuration parameters\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"availability_domain\"),\" (string) - The name of the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/General/Concepts/regions.htm\"}),`Availability\nDomain`),`\nwithin which a new instance is launched and provisioned. The names of the\nAvailability Domains have a prefix that is specific to your\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Concepts/concepts.htm#two\"}),\"tenancy\"),\".\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`To get a list of the Availability Domains, use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/identity/latest/AvailabilityDomain/ListAvailabilityDomains\"}),\"ListAvailabilityDomains\"),`\noperation, which is available in the IAM Service API.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_ocid\"),\" (string) - The OCID of the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/Compute/References/images.htm\"}),`base\nimage`),`\nto use. This is the unique identifier of the image that will be used to\nlaunch a new instance and provision it.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`To get a list of the accepted image OCIDs, use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Image/ListImages\"}),\"ListImages\"),`\noperation available in the Core Services API.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_filter\"),\" (map of strings) - As an alternative to providing \",mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_ocid\"),`,\nthe user can supply search criteria, and Packer will use the the most recent image that meets\nall search criteria. If no image meets all search criteria, Packer returns an error. The\nfollowing fields, if specified, must match exactly:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"compartment_id\"),\" - The OCID of the compartment to find the image. If not specified, will use \",mdx(\"inlineCode\",{parentName:\"li\"},\"compartment_ocid\"),`\nused for the instance.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"display_name\"),\" - The full name of the image, e.g., \",mdx(\"inlineCode\",{parentName:\"li\"},\"Oracle-Linux-7.8-2020.05.26-0\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"operating_system\"),\" - The operating system used on the image, e.g., \",mdx(\"inlineCode\",{parentName:\"li\"},\"Oracle Linux\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"operating_system_version\"),\" - The version of the operating system on the image, e.g., \",mdx(\"inlineCode\",{parentName:\"li\"},\"7.8\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"shape\"),\" - A shape that the image supports. If not specified, will use \",mdx(\"inlineCode\",{parentName:\"li\"},\"shape\"),\" used for the instance\")),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"Additionally, the following field takes a regular expression:\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"display_name_search\"),\" - a regular expression for the display name, e.g., \",mdx(\"inlineCode\",{parentName:\"li\"},\"^Oracle-Linux\"),`. This\nis ignored if `,mdx(\"inlineCode\",{parentName:\"li\"},\"display_name\"),\" is also specified under \",mdx(\"inlineCode\",{parentName:\"li\"},\"base_image_filter\"),`. If no images match\nthe expression, Packer returns an error. If multiple images match, the most recent is used.`)),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_filter\"),\" is ignored if \",mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_ocid\"),\" is also specified.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"compartment_ocid\"),` (string) - The OCID of the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/GSG/Tasks/choosingcompartments.htm\"}),\"compartment\"),\" that the instance will run in.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"shape\"),` (string) - The template that determines the number of CPUs, amount\nof memory, and other resources allocated to a newly created instance.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`To get a list of the available shapes, use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/Shape/ListShapes\"}),\"ListShapes\"),`\noperation available in the Core Services API.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"When using flexible shapes, \",mdx(\"inlineCode\",{parentName:\"p\"},\"ocpus\"),\" must be set.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_ocid\"),` (string) - The name of the subnet within which a new instance\nis launched and provisioned.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`To get a list of your subnets, use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/latest/Subnet/ListSubnets\"}),\"ListSubnets\"),`\noperation available in the Core Services API.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`Note: the subnet must be configured to allow access via your chosen\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/communicators\"}),\"communicator\"),` (communicator defaults to\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/communicators/ssh#ssh_port\"}),\"SSH tcp/22\"),\").\"))),mdx(\"h3\",e({},{id:\"user-content-authentication-parameters\",\"data-text-content\":\"Authentication parameters\",className:\"g-type-display-4\"}),\"Authentication parameters\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Each of the following configuration parameters is either \",mdx(\"strong\",{parentName:\"p\"},\"mandatory\"),\" or \",mdx(\"strong\",{parentName:\"p\"},\"unacceptable\"),`\nbased on which authentication method is used.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" (boolean) - Whether to use \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Tasks/callingservicesfrominstances.htm\"}),`Instance\nPrincipals`),`\ninstead of User Principals. If this key is set to true, setting any one of the `,mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file\"),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file_account\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"tenancy_ocid\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"user_ocid\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"key_file\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"fingerprint\"),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"pass_phrase\"),` parameters will cause an invalid configuration error.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file\"),\" (string) - The path to the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),`OCI config\nfile`),`.\nThis parameter is `,mdx(\"em\",{parentName:\"p\"},\"optional\"),` when using token-based authentication.\nThis parameter `,mdx(\"em\",{parentName:\"p\"},\"cannot\"),\" be used along with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),` key.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},\"$HOME/.oci/config\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"access_cfg_file_account\"),\" (string) - The specific account in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),`OCI config\nfile`),` to use.\nThis parameter is `,mdx(\"em\",{parentName:\"p\"},\"mandatory\"),` when using token-based authentication.\nThis parameter `,mdx(\"em\",{parentName:\"p\"},\"cannot\"),\" be used along with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),` key.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},\"DEFAULT\"),\".\"))),mdx(\"h3\",e({},{id:\"user-content-overriding-authentication-defaults\",\"data-text-content\":\"Overriding authentication defaults\",className:\"g-type-display-4\"}),\"Overriding authentication defaults\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`The following parameters can be used to override the default value provided by\nor configured for the default OCI CLI authenticaton profile.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),` (string) - An Oracle Cloud Infrastructure region. Overrides value provided by the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),\"OCI config file\"),`\nif present. This cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"tenancy_ocid\"),\" (string) - The OCID of your tenancy. Overrides value provided by the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),`OCI config\nfile`),` if present.\nThis cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_ocid\"),` (string) - The OCID of the user calling the OCI API. Overrides value provided by the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),\"OCI config file\"),`\nif present. This cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"key_file\"),` (string) - Full path and filename of the OCI API signing key. Overrides value provided\nby the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),\"OCI config file\"),`\nif present. This cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"fingerprint\"),` (string) - Fingerprint for the OCI API signing key. Overrides value provided by the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),\"OCI config file\"),` if\npresent. This cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"pass_phrase\"),` (string) - Pass phrase used to decrypt the OCI API signing key. Overrides value provided\nby the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/Content/API/Concepts/sdkconfig.htm\"}),\"OCI config file\"),`\nif present. This cannot be used along with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"use_instance_principals\"),\" key.\"),mdx(\"h3\",e({parentName:\"li\"},{id:\"user-content-additional-configuration-parameters\",\"data-text-content\":\"Additional configuration parameters\",className:\"g-type-display-4\"}),\"Additional configuration parameters\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"skip_create_image\"),\" (bool) - Skip creating the image. Useful for setting to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" during a build test stage. Defaults to \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_name\"),\" (string) - The name to assign to the resulting custom image.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_compartment_ocid\"),\" (string) - The OCID of the target compartment for the resulting image. Defaults to \",mdx(\"inlineCode\",{parentName:\"p\"},\"compartment_ocid\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_name\"),` (string) - The name to assign to the instance used for the image creation process.\nIf not set a name of the form `,mdx(\"inlineCode\",{parentName:\"p\"},\"instanceYYYYMMDDhhmmss\"),\" will be used.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_tags\"),` (map of strings) - Add one or more freeform tags to the instance used for the\nimage creation process.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_defined_tags_json\"),` (string) - Json string to add one or more defined tags for a given namespace\nto the instance used for the image creation process. Only works on HCL2 templates. For old-style JSON templates,\nuse `,mdx(\"a\",e({parentName:\"p\"},{href:\"#instance_defined_tags\"}),\"instance_defined_tags\"),\" instead.\"),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"instance_defined_tags_json\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" jsonencode(\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Operations\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Environment\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prod\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Team\"'),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CostCenter\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\")\",`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_defined_tags\"),` (map of maps of strings) - Add one or more defined tags for a given namespace\nto the instance used for the image creation process. Only works on old-style JSON templates. For HCL2 templates,\nuse `,mdx(\"a\",e({parentName:\"p\"},{href:\"#instance_defined_tags_json\"}),\"instance_defined_tags_json\"),\" instead.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"create_vnic_details\"),` (map of strings) - Specify details for the virtual network interface card (VNIC)\nthat is attached to the instance. Possible keys (all optional) are: `,mdx(\"inlineCode\",{parentName:\"p\"},\"assign_public_ip\"),` (bool),\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"display_name\"),\" (string), \",mdx(\"inlineCode\",{parentName:\"p\"},\"hostname_lable\"),\" (string), \",mdx(\"inlineCode\",{parentName:\"p\"},\"nsg_ids\"),\" (list), \",mdx(\"inlineCode\",{parentName:\"p\"},\"private_ip\"),` (string),\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"skip_source_dest_check\"),\" (bool), \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_id\"),\" (string), \",mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),\" (map of string). Besides the previous keys, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"defined_tags\"),`\n(map of maps of strings) is also available on old-style JSON templates, while `,mdx(\"inlineCode\",{parentName:\"p\"},\"defined_tags_json\"),` (string) is the json\nstring equivalent variant for HCL2 templates. See\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/en-us/iaas/Content/Network/Tasks/managingVNICs.htm\"}),\"the Oracle docs\"),`\nfor more information about VNICs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_size\"),` (int64) - The size of the boot volume in GBs. Minimum value is 50 and maximum value is 16384 (16TB).\nSets the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://godoc.org/github.com/oracle/oci-go-sdk/core#InstanceConfigurationInstanceSourceViaImageDetails\"}),\"BootVolumeSizeInGBs\"),`\nwhen launching the instance. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},\"50\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_launch_mode\"),` (string) - Specifies the configuration mode for launching instances.\nValid values are `,mdx(\"inlineCode\",{parentName:\"p\"},'\"NATIVE\"'),\", \",mdx(\"inlineCode\",{parentName:\"p\"},'\"EMULATED\"'),\", \",mdx(\"inlineCode\",{parentName:\"p\"},'\"PARAVIRTUALIZED\"'),\", and \",mdx(\"inlineCode\",{parentName:\"p\"},'\"CUSTOM\"'),`. See the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/2.12.5/oci_cli_docs/cmdref/compute/image/create.html#cmdoption-launch-mode\"}),\"Oracle CLI docs\"),`\nfor more information about these modes.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"nic_attachment_type\"),` (string) - Emulation type for the NIC card of the image.\nValid values are `,mdx(\"inlineCode\",{parentName:\"p\"},'\"E1000\"'),\", \",mdx(\"inlineCode\",{parentName:\"p\"},'\"VFIO\"'),\", and \",mdx(\"inlineCode\",{parentName:\"p\"},'\"PARAVIRTUALIZED\"'),\". For applications that require VFIO networking for performance reasons this setting allows for the image to default to this network type. \")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"use_private_ip\"),` (boolean) - Use private ip addresses to connect to the\ninstance via ssh.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"shape_config\"),` (object) - The shape configuration for an instance. The shape configuration determines the resources\nallocated to an instance. Options:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"ocpus\"),\" (required when using flexible shapes or memory_in_gbs is set) (float32) - The total number of OCPUs available to the instance.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"memory_in_gbs\"),\" (optional) (float32) - The total amount of memory, in gigabytes, available to the instance.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"baseline_ocpu_utilization\"),` (optional) (string) - The baseline OCPU utilization for a burstable instance.\nValid values are `,mdx(\"inlineCode\",{parentName:\"li\"},'\"BASELINE_1_8\"'),\", \",mdx(\"inlineCode\",{parentName:\"li\"},'\"BASELINE_1_2\"'),\"and \",mdx(\"inlineCode\",{parentName:\"li\"},'\"BASELINE_1_1\"'),\".\")))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"metadata\"),` (map of strings) - Metadata optionally contains custom metadata\nkey/value pairs provided in the configuration. While this can be used to\nset metadata`,\"[\",'\"user_data\"',\"]\",` the explicit \"user_data\" and\n\"user_data_file\" values will have precedence. An instance's metadata can\nbe obtained from at `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://169.254.169.254\"}),\"http://169.254.169.254\"),` on\nthe launched instance.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data\"),\" (string) - User data to be used by cloud-init. See \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails\"}),`the Oracle\ndocs`),`\nfor more details. Generally speaking, it is easier to use the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"user_data_file\"),`, but you can use this option to put either the plaintext\ndata or the base64 encoded data directly into your Packer config. Packer\nwill not automatically wait for a user script to finish before shutting\ndown the instance this must be handled in a provisioner.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data_file\"),` (string) - Path to a file to be used as user data by\ncloud-init. See `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.us-phoenix-1.oraclecloud.com/api/#/en/iaas/20160918/LaunchInstanceDetails\"}),`the Oracle\ndocs`),`\nfor more details. Example: `,mdx(\"inlineCode\",{parentName:\"p\"},'\"user_data_file\": \"./boot_config/myscript.sh\"'))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),` (map of strings) - Add one or more freeform tags to the resulting\ncustom image. See `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm\"}),`the Oracle\ndocs`),`\nfor more details. Example:`))),mdx(\"pre\",e({},{className:\"language-yaml\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tags'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tag1'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'value1'\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tag2'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'value2'\"),`\n`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"defined_tags_json\"),` (string) - JSON string to add one or more defined tags for a given namespace to the resulting\ncustom image. Only works on HCL2 templates. For old-style JSON templates, use `,mdx(\"a\",e({parentName:\"p\"},{href:\"#defined_tags\"}),\"defined_tags\"),\" instead.\"),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"defined_tags_json\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" jsonencode(\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"tag1\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"tag1.2\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"value1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"tag2\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"value2\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\")\",`\n`)),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"See \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm\"}),\"the Oracle docs\"),\" for more details.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"defined_tags\"),` (map of map of strings) - Add one or more defined tags for a given namespace to the resulting\ncustom image. Only works on old-style JSON templates. For HCL2 templates,\nuse `,mdx(\"a\",e({parentName:\"p\"},{href:\"#defined_tags_json\"}),\"defined_tags_json\"),\" instead. See \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.cloud.oracle.com/iaas/Content/Identity/Concepts/taggingoverview.htm\"}),`the Oracle\ndocs`),`\nfor more details. Example:`))),mdx(\"pre\",e({},{className:\"language-yaml\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tags'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'namespace'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tag1'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'value1'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"'tag2'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'value2'\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",className:\"g-type-display-3\"}),\"Basic Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`Here is a basic example. Note that account specific configuration has been\nsubstituted with the letter `,mdx(\"inlineCode\",{parentName:\"p\"},\"a\"),\" and OCIDS have been shortened for brevity.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"availability_domain\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"base_image_ocid\"),\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"compartment_ocid\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ExampleImage\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"shape\"),\"               \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard1.1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"opc\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"subnet_ocid\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1..aaa\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.oracle-oci.example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"availability_domain\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_image_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"compartment_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ExampleImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"shape\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard1.1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"opc\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"subnet_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1..aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-using-instance-principals\",\"data-text-content\":\"Using Instance Principals\",className:\"g-type-display-3\"}),\"Using Instance Principals\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`Here is a basic example. Note that account specific configuration has been\nsubstituted with the letter `,mdx(\"inlineCode\",{parentName:\"p\"},\"a\"),\" and OCIDS have been shortened for brevity.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"availability_domain\"),\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"base_image_ocid\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"compartment_ocid\"),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\"              \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ExampleImage\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"shape\"),\"                   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard2.1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"opc\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"subnet_ocid\"),\"             \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1..aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"use_instance_principals\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.oracle-oci.example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"use_instance_principals\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"availability_domain\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_image_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.phx.aaaaaaaa5yu6pw3riqtuhxzov7fdngi4tsteganmao54nq3pyxu3hxcuzmoa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"compartment_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ExampleImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"shape\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard2.1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"opc\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"subnet_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1..aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"pre\",e({},{className:\"language-shell-session\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token info punctuation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token user\"}),\"[opc@packerhost ~]\")),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"packer build packer.json\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"oracle-oci: output will be in this color.\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Creating temporary ssh key for instance...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Creating instance...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Created instance (ocid1.instance.oc1.phx.aaa).\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Waiting for instance to enter 'RUNNING' state...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Instance 'RUNNING'.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Instance has IP: 10.10.10.10.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Using ssh communicator to connect: 10.10.10.10\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Waiting for SSH to become available...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Connected to SSH!\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Creating image from instance...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Image created.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Terminating instance (ocid1.instance.oc1.phx.aaa)...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e oracle-oci: Terminated instance.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"Build 'oracle-oci' finished.\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"==\u003e Builds finished. The artifacts of successful builds are:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"--\u003e oracle-oci: An image was created: 'ExampleImage' (OCID: ocid1.image.oc1.phx.aaa) in region 'us-phoenix-1'\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"[opc@packerhost ~]$\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-assigning-tags-and-network-security-groups-to-the-instance\",\"data-text-content\":\"Assigning Tags and Network Security Groups to the Instance\",className:\"g-type-display-3\"}),\"Assigning Tags and Network Security Groups to the Instance\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Tags are useful for breaking down costs and usage. The keys \",mdx(\"inlineCode\",{parentName:\"p\"},\"instance_tags\"),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},\"instance_defined_tags\"),` are assigned to the temporary instance,\nwhereas `,mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"defined_tags\"),\" are assigned to the resulting image.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`Network Security Groups (NSGs) are used for granting networking permissions\nto the instance. Depending on network (VCN and subnet) setup, this may be\nrequired for Packer to successfully SSH into the instance. NSGs are a property\nof the virtual network interface card (VNIC) attached to the instance, and\nare listed in `,mdx(\"inlineCode\",{parentName:\"p\"},\"nsg_ids\"),\" under \",mdx(\"inlineCode\",{parentName:\"p\"},\"create_vnic_details\"),\".\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"locals\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"timestamp\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"formatdate\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),'\"YYYYMMDDhhmmss\"'),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"timestamp\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"base-image-example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"availability_domain\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"base_image_ocid\"),\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.iad.aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"compartment_ocid\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"create_vnic_details\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"assign_public_ip\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"false\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"display_name\"),\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"testing-123\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"nsg_ids\"),\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.networksecuritygroup.oc1.iad.aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"my-image-',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"local\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"timestamp\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"instance_defined_tags_json\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" jsonencode(\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Operations\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Environment\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prod\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Team\"'),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CostCenter\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\")\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"instance_name\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-build-',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"local\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"timestamp\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"instance_tags\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"testing\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"yes\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"shape\"),\"       \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard.E2.1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"subnet_ocid\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1.iad.aaa\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"tags\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"CreationDate\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"legacy_isotime\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),'\"20060102 03:04:05 MST\"'),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"use_private_ip\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.oracle-oci.base-image-example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"timestamp\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{isotime `20060102030405`}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"base-image-example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"availability_domain\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_image_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.image.oc1.iad.aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"compartment_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.compartment.oc1..aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"my-image-{{ user `timestamp` }}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"shape\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"VM.Standard.E2.1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"subnet_ocid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.subnet.oc1.iad.aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"use_private_ip\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"instance_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-build-{{ user `timestamp` }}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"instance_tags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"testing\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"yes\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"instance_defined_tags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Operations\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Team\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CostCenter\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Environment\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prod\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"create_vnic_details\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"assign_public_ip\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"false\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"display_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"testing-123\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"nsg_ids\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ocid1.networksecuritygroup.oc1.iad.aaa\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"tags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"CreationDate\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{isotime `20060102 03:04:05 MST`}}\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-base-image-filter-example\",\"data-text-content\":\"Base Image Filter Example\",className:\"g-type-display-3\"}),\"Base Image Filter Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Note that \",mdx(\"inlineCode\",{parentName:\"p\"},\"base_image_filter\"),` gets passed as a string, then interpreted as a\nregular expression. This means that all back-slashes must be doubled, e.g.,\nuse `,mdx(\"inlineCode\",{parentName:\"p\"},\"\\\\\\\\w+\"),\" to mean \",mdx(\"inlineCode\",{parentName:\"p\"},\"\\\\w+\"),\", and \",mdx(\"inlineCode\",{parentName:\"p\"},\"\\\\\\\\\\\\\\\\\"),` to create the regular expression equivalent\nof `,mdx(\"inlineCode\",{parentName:\"p\"},\"\\\\\\\\\"),\" (which will search for a literal back-slash).\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\"                \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"base-image-{{isotime \\\\\"20060102030405\\\\\"}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\"                \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"oracle-oci\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"availability_domain\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"aaaa:PHX-AD-1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_image_filter\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"operating_system\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Oracle Linux\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"operating_system_version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"7.8\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"display_name_search\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"^Oracle-Linux-7\\\\\\\\.8-2020\\\\\\\\.\\\\\\\\d+\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  ...\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Oracle","url":"/packer/integrations/hashicorp/oracle","isCurrentPage":false},{"title":"v1.0.4","url":"/packer/integrations/hashicorp/oracle/v1.0.4","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Oracle Cloud Infrastructure","url":"/packer/integrations/hashicorp/oracle/latest/components/builder/oci","isCurrentPage":true}]},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]/[integrationVersion]/components/[componentType]/[componentSlug]","query":{"productSlug":"packer","organizationSlug":"hashicorp","integrationSlug":"oracle","integrationVersion":"latest","componentType":"builder","componentSlug":"oci"},"buildId":"VGXTUm1VCSgK23NSRIBql","assetPrefix":"/hashicorp-packer","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>